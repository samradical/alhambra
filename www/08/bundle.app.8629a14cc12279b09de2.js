webpackJsonp([1,0],[,,,,,function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){return"function"==typeof t||!1},o=function(){function t(){n(this,t),this.listeners=new Map}return r(t,[{key:"on",value:function(t,e){this.listeners.has(t)||this.listeners.set(t,[]),this.listeners.get(t).push(e)}},{key:"off",value:function(t,e){var n=this.listeners.get(t),r=void 0;return!!(n&&n.length&&(r=n.reduce(function(t,n,r){return i(n)&&n===e?t=r:t},-1),r>-1))&&(n.splice(r,1),this.listeners.set(t,n),!0)}},{key:"emit",value:function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=this.listeners.get(t);return!(!i||!i.length)&&(i.forEach(function(t){t.apply(void 0,n)}),!0)}}]),t}(),a=new o;e.default=a},,function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(e.indexOf("deprecated")!==-1){if(u[e])return;u[e]=!0}e="[react-router] "+e;for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];s.default.apply(void 0,[t,e].concat(r))}function o(){u={}}e.__esModule=!0,e.default=i,e._resetWarned=o;var a=n(14),s=r(a),u={}},function(t,e,n){(function(t,r){var i;(function(){function o(t,e){return t.set(e[0],e[1]),t}function a(t,e){return t.add(e),t}function s(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function u(t,e,n,r){for(var i=-1,o=t?t.length:0;++i<o;){var a=t[i];e(r,a,n(a),t)}return r}function c(t,e){for(var n=-1,r=t?t.length:0;++n<r&&e(t[n],n,t)!==!1;);return t}function l(t,e){for(var n=t?t.length:0;n--&&e(t[n],n,t)!==!1;);return t}function f(t,e){for(var n=-1,r=t?t.length:0;++n<r;)if(!e(t[n],n,t))return!1;return!0}function h(t,e){for(var n=-1,r=t?t.length:0,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}function p(t,e){var n=t?t.length:0;return!!n&&k(t,e,0)>-1}function d(t,e,n){for(var r=-1,i=t?t.length:0;++r<i;)if(n(e,t[r]))return!0;return!1}function _(t,e){for(var n=-1,r=t?t.length:0,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function v(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function y(t,e,n,r){var i=-1,o=t?t.length:0;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function g(t,e,n,r){var i=t?t.length:0;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function m(t,e){for(var n=-1,r=t?t.length:0;++n<r;)if(e(t[n],n,t))return!0;return!1}function b(t){return t.split("")}function w(t){return t.match(Me)||[]}function x(t,e,n){var r;return n(t,function(t,n,i){if(e(t,n,i))return r=n,!1}),r}function S(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function k(t,e,n){if(e!==e)return S(t,O,n);for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}function T(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}function O(t){return t!==t}function E(t,e){var n=t?t.length:0;return n?j(t,e)/n:jt}function P(t){return function(e){return null==e?it:e[t]}}function A(t){return function(e){return null==t?it:t[e]}}function C(t,e,n,r,i){return i(t,function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)}),n}function R(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function j(t,e){for(var n,r=-1,i=t.length;++r<i;){var o=e(t[r]);o!==it&&(n=n===it?o:n+o)}return n}function M(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function I(t,e){return _(e,function(e){return[e,t[e]]})}function L(t){return function(e){return t(e)}}function F(t,e){return _(e,function(e){return t[e]})}function D(t,e){return t.has(e)}function N(t,e){for(var n=-1,r=t.length;++n<r&&k(e,t[n],0)>-1;);return n}function B(t,e){for(var n=t.length;n--&&k(e,t[n],0)>-1;);return n}function U(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&r++;return r}function q(t){return"\\"+Hn[t]}function z(t,e){return null==t?it:t[e]}function H(t){return In.test(t)}function V(t){return Ln.test(t)}function W(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(n){}return e}function Y(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}function G(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function X(t,e){return function(n){return t(e(n))}}function $(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n];a!==e&&a!==ct||(t[n]=ct,o[i++]=n)}return o}function Q(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function K(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=[t,t]}),n}function J(t){return H(t)?tt(t):ar(t)}function Z(t){return H(t)?et(t):b(t)}function tt(t){for(var e=jn.lastIndex=0;jn.test(t);)e++;return e}function et(t){return t.match(jn)||[]}function nt(t){return t.match(Mn)||[]}function rt(t){function e(t){if(Ds(t)&&!Hf(t)&&!(t instanceof i)){if(t instanceof r)return t;if($c.call(t,"__wrapped__"))return Mo(t)}return new r(t)}function n(){}function r(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=it}function i(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Mt,this.__views__=[]}function b(){var t=new i(this.__wrapped__);return t.__actions__=ki(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=ki(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=ki(this.__views__),t}function A(){if(this.__filtered__){var t=new i(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function tt(){var t=this.__wrapped__.value(),e=this.__dir__,n=Hf(t),r=e<0,i=n?t.length:0,o=so(0,i,this.__views__),a=o.start,s=o.end,u=s-a,c=r?s:a-1,l=this.__iteratees__,f=l.length,h=0,p=wl(u,this.__takeCount__);if(!n||i<at||i==u&&p==u)return oi(t,this.__actions__);var d=[];t:for(;u--&&h<p;){c+=e;for(var _=-1,v=t[c];++_<f;){var y=l[_],g=y.iteratee,m=y.type,b=g(v);if(m==Et)v=b;else if(!b){if(m==Ot)continue t;break t}}d[h++]=v}return d}function et(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Me(){this.__data__=Cl?Cl(null):{}}function Ye(t){return this.has(t)&&delete this.__data__[t]}function Ge(t){var e=this.__data__;if(Cl){var n=e[t];return n===ut?it:n}return $c.call(e,t)?e[t]:it}function Xe(t){var e=this.__data__;return Cl?e[t]!==it:$c.call(e,t)}function $e(t,e){var n=this.__data__;return n[t]=Cl&&e===it?ut:e,this}function Qe(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Ke(){this.__data__=[]}function Je(t){var e=this.__data__,n=xn(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():ul.call(e,n,1),!0}function Ze(t){var e=this.__data__,n=xn(e,t);return n<0?it:e[n][1]}function tn(t){return xn(this.__data__,t)>-1}function en(t,e){var n=this.__data__,r=xn(n,t);return r<0?n.push([t,e]):n[r][1]=e,this}function nn(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function rn(){this.__data__={hash:new et,map:new(Ol||Qe),string:new et}}function on(t){return io(this,t).delete(t)}function an(t){return io(this,t).get(t)}function sn(t){return io(this,t).has(t)}function un(t,e){return io(this,t).set(t,e),this}function cn(t){var e=-1,n=t?t.length:0;for(this.__data__=new nn;++e<n;)this.add(t[e])}function ln(t){return this.__data__.set(t,ut),this}function fn(t){return this.__data__.has(t)}function hn(t){this.__data__=new Qe(t)}function pn(){this.__data__=new Qe}function dn(t){return this.__data__.delete(t)}function _n(t){return this.__data__.get(t)}function vn(t){return this.__data__.has(t)}function yn(t,e){var n=this.__data__;if(n instanceof Qe){var r=n.__data__;if(!Ol||r.length<at-1)return r.push([t,e]),this;n=this.__data__=new nn(r)}return n.set(t,e),this}function gn(t,e){var n=Hf(t)||Ss(t)?M(t.length,qc):[],r=n.length,i=!!r;for(var o in t)!e&&!$c.call(t,o)||i&&("length"==o||vo(o,r))||n.push(o);return n}function mn(t,e,n,r){return t===it||xs(t,Wc[n])&&!$c.call(r,n)?e:t}function bn(t,e,n){(n===it||xs(t[e],n))&&("number"!=typeof e||n!==it||e in t)||(t[e]=n)}function wn(t,e,n){var r=t[e];$c.call(t,e)&&xs(r,n)&&(n!==it||e in t)||(t[e]=n)}function xn(t,e){for(var n=t.length;n--;)if(xs(t[n][0],e))return n;return-1}function Sn(t,e,n,r){return Hl(t,function(t,i,o){e(r,t,n(t),o)}),r}function kn(t,e){return t&&Ti(e,gu(e),t)}function Tn(t,e){for(var n=-1,r=null==t,i=e.length,o=Ic(i);++n<i;)o[n]=r?it:_u(t,e[n]);return o}function On(t,e,n){return t===t&&(n!==it&&(t=t<=n?t:n),e!==it&&(t=t>=e?t:e)),t}function En(t,e,n,r,i,o,a){var s;if(r&&(s=o?r(t,i,o,a):r(t)),s!==it)return s;if(!Fs(t))return t;var u=Hf(t);if(u){if(s=lo(t),!e)return ki(t,s)}else{var l=Zl(t),f=l==zt||l==Ht;if(Wf(t))return hi(t,e);if(l==Yt||l==Dt||f&&!o){if(W(t))return o?t:{};if(s=fo(f?{}:t),!e)return Oi(t,kn(s,t))}else{if(!Bn[l])return o?t:{};s=ho(t,l,En,e)}}a||(a=new hn);var h=a.get(t);if(h)return h;if(a.set(t,s),!u)var p=n?Zi(t):gu(t);return c(p||t,function(i,o){p&&(o=i,i=t[o]),wn(s,o,En(i,e,n,r,o,t,a))}),s}function Pn(t){var e=gu(t);return function(n){return An(n,t,e)}}function An(t,e,n){var r=n.length;if(null==t)return!r;for(t=Bc(t);r--;){var i=n[r],o=e[i],a=t[i];if(a===it&&!(i in t)||!o(a))return!1}return!0}function jn(t){return Fs(t)?al(t):{}}function Mn(t,e,n){if("function"!=typeof t)throw new zc(st);return nf(function(){t.apply(it,n)},e)}function In(t,e,n,r){var i=-1,o=p,a=!0,s=t.length,u=[],c=e.length;if(!s)return u;n&&(e=_(e,L(n))),r?(o=d,a=!1):e.length>=at&&(o=D,a=!1,e=new cn(e));t:for(;++i<s;){var l=t[i],f=n?n(l):l;if(l=r||0!==l?l:0,a&&f===f){for(var h=c;h--;)if(e[h]===f)continue t;u.push(l)}else o(e,f,r)||u.push(l)}return u}function Ln(t,e){var n=!0;return Hl(t,function(t,r,i){return n=!!e(t,r,i)}),n}function Un(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(null!=a&&(s===it?a===a&&!Xs(a):n(a,s)))var s=a,u=o}return u}function qn(t,e,n,r){var i=t.length;for(n=tu(n),n<0&&(n=-n>i?0:i+n),r=r===it||r>i?i:tu(r),r<0&&(r+=i),r=n>r?0:eu(r);n<r;)t[n++]=e;return t}function zn(t,e){var n=[];return Hl(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n}function Hn(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=_o),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?Hn(s,e-1,n,r,i):v(i,s):r||(i[i.length]=s)}return i}function Yn(t,e){return t&&Wl(t,e,gu)}function Gn(t,e){return t&&Yl(t,e,gu)}function $n(t,e){return h(e,function(e){return Ms(t[e])})}function Qn(t,e){e=go(e,t)?[e]:li(e);for(var n=0,r=e.length;null!=t&&n<r;)t=t[Co(e[n++])];return n&&n==r?t:it}function Jn(t,e,n){var r=e(t);return Hf(t)?r:v(r,n(t))}function Zn(t){return Jc.call(t)}function ar(t,e){return t>e}function fr(t,e){return null!=t&&$c.call(t,e)}function hr(t,e){return null!=t&&e in Bc(t)}function pr(t,e,n){return t>=wl(e,n)&&t<bl(e,n)}function dr(t,e,n){for(var r=n?d:p,i=t[0].length,o=t.length,a=o,s=Ic(o),u=1/0,c=[];a--;){var l=t[a];a&&e&&(l=_(l,L(e))),u=wl(l.length,u),s[a]=!n&&(e||i>=120&&l.length>=120)?new cn(a&&l):it}l=t[0];var f=-1,h=s[0];t:for(;++f<i&&c.length<u;){var v=l[f],y=e?e(v):v;if(v=n||0!==v?v:0,!(h?D(h,y):r(c,y,n))){for(a=o;--a;){var g=s[a];if(!(g?D(g,y):r(t[a],y,n)))continue t}h&&h.push(y),c.push(v)}}return c}function _r(t,e,n,r){return Yn(t,function(t,i,o){e(r,n(t),i,o)}),r}function vr(t,e,n){go(e,t)||(e=li(e),t=Po(t,e),e=Jo(e));var r=null==t?t:t[Co(e)];return null==r?it:s(r,t,n)}function yr(t){return Ds(t)&&Jc.call(t)==te}function gr(t){return Ds(t)&&Jc.call(t)==Ut}function mr(t,e,n,r,i){return t===e||(null==t||null==e||!Fs(t)&&!Ds(e)?t!==t&&e!==e:br(t,e,mr,n,r,i))}function br(t,e,n,r,i,o){var a=Hf(t),s=Hf(e),u=Nt,c=Nt;a||(u=Zl(t),u=u==Dt?Yt:u),s||(c=Zl(e),c=c==Dt?Yt:c);var l=u==Yt&&!W(t),f=c==Yt&&!W(e),h=u==c;if(h&&!l)return o||(o=new hn),a||Qf(t)?Qi(t,e,n,r,i,o):Ki(t,e,u,n,r,i,o);if(!(i&wt)){var p=l&&$c.call(t,"__wrapped__"),d=f&&$c.call(e,"__wrapped__");if(p||d){var _=p?t.value():t,v=d?e.value():e;return o||(o=new hn),n(_,v,r,i,o)}}return!!h&&(o||(o=new hn),Ji(t,e,n,r,i,o))}function wr(t){return Ds(t)&&Zl(t)==Vt}function xr(t,e,n,r){var i=n.length,o=i,a=!r;if(null==t)return!o;for(t=Bc(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){s=n[i];var u=s[0],c=t[u],l=s[1];if(a&&s[2]){if(c===it&&!(u in t))return!1}else{var f=new hn;if(r)var h=r(c,l,u,t,e,f);if(!(h===it?mr(l,c,r,bt|wt,f):h))return!1}}return!0}function Sr(t){if(!Fs(t)||wo(t))return!1;var e=Ms(t)||W(t)?tl:Ue;return e.test(Ro(t))}function kr(t){return Fs(t)&&Jc.call(t)==Xt}function Tr(t){return Ds(t)&&Zl(t)==$t}function Or(t){return Ds(t)&&Ls(t.length)&&!!Nn[Jc.call(t)]}function Er(t){return"function"==typeof t?t:null==t?uc:"object"==typeof t?Hf(t)?Mr(t[0],t[1]):jr(t):vc(t)}function Pr(t){if(!xo(t))return ml(t);var e=[];for(var n in Bc(t))$c.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Ar(t){if(!Fs(t))return Eo(t);var e=xo(t),n=[];for(var r in t)("constructor"!=r||!e&&$c.call(t,r))&&n.push(r);return n}function Cr(t,e){return t<e}function Rr(t,e){var n=-1,r=ks(t)?Ic(t.length):[];return Hl(t,function(t,i,o){r[++n]=e(t,i,o)}),r}function jr(t){var e=oo(t);return 1==e.length&&e[0][2]?ko(e[0][0],e[0][1]):function(n){return n===t||xr(n,t,e)}}function Mr(t,e){return go(t)&&So(e)?ko(Co(t),e):function(n){var r=_u(n,t);return r===it&&r===e?yu(n,t):mr(e,r,it,bt|wt)}}function Ir(t,e,n,r,i){if(t!==e){if(!Hf(e)&&!Qf(e))var o=Ar(e);c(o||e,function(a,s){if(o&&(s=a,a=e[s]),Fs(a))i||(i=new hn),Lr(t,e,s,n,Ir,r,i);else{var u=r?r(t[s],a,s+"",t,e,i):it;u===it&&(u=a),bn(t,s,u)}})}}function Lr(t,e,n,r,i,o,a){var s=t[n],u=e[n],c=a.get(u);if(c)return void bn(t,n,c);var l=o?o(s,u,n+"",t,e,a):it,f=l===it;f&&(l=u,Hf(u)||Qf(u)?Hf(s)?l=s:Ts(s)?l=ki(s):(f=!1,l=En(u,!0)):Ws(u)||Ss(u)?Ss(s)?l=ru(s):!Fs(s)||r&&Ms(s)?(f=!1,l=En(u,!0)):l=s:f=!1),f&&(a.set(u,l),i(l,u,r,o,a),a.delete(u)),bn(t,n,l)}function Fr(t,e){var n=t.length;if(n)return e+=e<0?n:0,vo(e,n)?t[e]:it}function Dr(t,e,n){var r=-1;e=_(e.length?e:[uc],L(ro()));var i=Rr(t,function(t,n,i){var o=_(e,function(e){return e(t)});return{criteria:o,index:++r,value:t}});return R(i,function(t,e){return wi(t,e,n)})}function Nr(t,e){return t=Bc(t),Br(t,e,function(e,n){return n in t})}function Br(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var a=e[r],s=t[a];n(s,a)&&(o[a]=s)}return o}function Ur(t){return function(e){return Qn(e,t)}}function qr(t,e,n,r){var i=r?T:k,o=-1,a=e.length,s=t;for(t===e&&(e=ki(e)),n&&(s=_(t,L(n)));++o<a;)for(var u=0,c=e[o],l=n?n(c):c;(u=i(s,l,u,r))>-1;)s!==t&&ul.call(s,u,1),ul.call(t,u,1);return t}function zr(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==o){var o=i;if(vo(i))ul.call(t,i,1);else if(go(i,t))delete t[Co(i)];else{var a=li(i),s=Po(t,a);null!=s&&delete s[Co(Jo(a))]}}}return t}function Hr(t,e){return t+dl(Sl()*(e-t+1))}function Vr(t,e,n,r){for(var i=-1,o=bl(pl((e-t)/(n||1)),0),a=Ic(o);o--;)a[r?o:++i]=t,t+=n;return a}function Wr(t,e){var n="";if(!t||e<1||e>Ct)return n;do e%2&&(n+=t),e=dl(e/2),e&&(t+=t);while(e);return n}function Yr(t,e){return e=bl(e===it?t.length-1:e,0),function(){for(var n=arguments,r=-1,i=bl(n.length-e,0),o=Ic(i);++r<i;)o[r]=n[e+r];r=-1;for(var a=Ic(e+1);++r<e;)a[r]=n[r];return a[e]=o,s(t,this,a)}}function Gr(t,e,n,r){if(!Fs(t))return t;e=go(e,t)?[e]:li(e);for(var i=-1,o=e.length,a=o-1,s=t;null!=s&&++i<o;){var u=Co(e[i]),c=n;if(i!=a){var l=s[u];c=r?r(l,u,s):it,c===it&&(c=Fs(l)?l:vo(e[i+1])?[]:{})}wn(s,u,c),s=s[u]}return t}function Xr(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Ic(i);++r<i;)o[r]=t[r+e];return o}function $r(t,e){var n;return Hl(t,function(t,r,i){return n=e(t,r,i),!n}),!!n}function Qr(t,e,n){var r=0,i=t?t.length:r;if("number"==typeof e&&e===e&&i<=Lt){for(;r<i;){var o=r+i>>>1,a=t[o];null!==a&&!Xs(a)&&(n?a<=e:a<e)?r=o+1:i=o}return i}return Kr(t,e,uc,n)}function Kr(t,e,n,r){e=n(e);for(var i=0,o=t?t.length:0,a=e!==e,s=null===e,u=Xs(e),c=e===it;i<o;){var l=dl((i+o)/2),f=n(t[l]),h=f!==it,p=null===f,d=f===f,_=Xs(f);if(a)var v=r||d;else v=c?d&&(r||h):s?d&&h&&(r||!p):u?d&&h&&!p&&(r||!_):!p&&!_&&(r?f<=e:f<e);v?i=l+1:o=l}return wl(o,It)}function Jr(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n],s=e?e(a):a;if(!n||!xs(s,u)){var u=s;o[i++]=0===a?0:a}}return o}function Zr(t){return"number"==typeof t?t:Xs(t)?jt:+t}function ti(t){if("string"==typeof t)return t;if(Xs(t))return zl?zl.call(t):"";var e=t+"";return"0"==e&&1/t==-At?"-0":e}function ei(t,e,n){var r=-1,i=p,o=t.length,a=!0,s=[],u=s;if(n)a=!1,i=d;else if(o>=at){var c=e?null:$l(t);if(c)return Q(c);a=!1,i=D,u=new cn}else u=e?[]:s;t:for(;++r<o;){var l=t[r],f=e?e(l):l;if(l=n||0!==l?l:0,a&&f===f){for(var h=u.length;h--;)if(u[h]===f)continue t;e&&u.push(f),s.push(l)}else i(u,f,n)||(u!==s&&u.push(f),s.push(l))}return s}function ni(t,e){e=go(e,t)?[e]:li(e),t=Po(t,e);var n=Co(Jo(e));return!(null!=t&&$c.call(t,n))||delete t[n]}function ri(t,e,n,r){return Gr(t,e,n(Qn(t,e)),r)}function ii(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?Xr(t,r?0:o,r?o+1:i):Xr(t,r?o+1:0,r?i:o)}function oi(t,e){var n=t;return n instanceof i&&(n=n.value()),y(e,function(t,e){return e.func.apply(e.thisArg,v([t],e.args))},n)}function ai(t,e,n){for(var r=-1,i=t.length;++r<i;)var o=o?v(In(o,t[r],e,n),In(t[r],o,e,n)):t[r];return o&&o.length?ei(o,e,n):[]}function si(t,e,n){for(var r=-1,i=t.length,o=e.length,a={};++r<i;){var s=r<o?e[r]:it;n(a,t[r],s)}return a}function ui(t){return Ts(t)?t:[]}function ci(t){return"function"==typeof t?t:uc}function li(t){return Hf(t)?t:of(t)}function fi(t,e,n){var r=t.length;return n=n===it?r:n,!e&&n>=r?t:Xr(t,e,n)}function hi(t,e){if(e)return t.slice();var n=new t.constructor(t.length);return t.copy(n),n}function pi(t){var e=new t.constructor(t.byteLength);return new rl(e).set(new rl(t)),e}function di(t,e){var n=e?pi(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}function _i(t,e,n){var r=e?n(G(t),!0):G(t);return y(r,o,new t.constructor)}function vi(t){var e=new t.constructor(t.source,Fe.exec(t));return e.lastIndex=t.lastIndex,e}function yi(t,e,n){var r=e?n(Q(t),!0):Q(t);return y(r,a,new t.constructor)}function gi(t){return ql?Bc(ql.call(t)):{}}function mi(t,e){var n=e?pi(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function bi(t,e){if(t!==e){var n=t!==it,r=null===t,i=t===t,o=Xs(t),a=e!==it,s=null===e,u=e===e,c=Xs(e);if(!s&&!c&&!o&&t>e||o&&a&&u&&!s&&!c||r&&a&&u||!n&&u||!i)return 1;if(!r&&!o&&!c&&t<e||c&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!u)return-1}return 0}function wi(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var u=bi(i[r],o[r]);if(u){if(r>=s)return u;var c=n[r];return u*("desc"==c?-1:1)}}return t.index-e.index}function xi(t,e,n,r){for(var i=-1,o=t.length,a=n.length,s=-1,u=e.length,c=bl(o-a,0),l=Ic(u+c),f=!r;++s<u;)l[s]=e[s];for(;++i<a;)(f||i<o)&&(l[n[i]]=t[i]);for(;c--;)l[s++]=t[i++];return l}function Si(t,e,n,r){for(var i=-1,o=t.length,a=-1,s=n.length,u=-1,c=e.length,l=bl(o-s,0),f=Ic(l+c),h=!r;++i<l;)f[i]=t[i];for(var p=i;++u<c;)f[p+u]=e[u];for(;++a<s;)(h||i<o)&&(f[p+n[a]]=t[i++]);return f}function ki(t,e){var n=-1,r=t.length;for(e||(e=Ic(r));++n<r;)e[n]=t[n];return e}function Ti(t,e,n,r){n||(n={});for(var i=-1,o=e.length;++i<o;){var a=e[i],s=r?r(n[a],t[a],a,n,t):it;wn(n,a,s===it?t[a]:s)}return n}function Oi(t,e){return Ti(t,Kl(t),e)}function Ei(t,e){return function(n,r){var i=Hf(n)?u:Sn,o=e?e():{};return i(n,t,ro(r,2),o)}}function Pi(t){return Yr(function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:it,a=i>2?n[2]:it;for(o=t.length>3&&"function"==typeof o?(i--,o):it,a&&yo(n[0],n[1],a)&&(o=i<3?it:o,i=1),e=Bc(e);++r<i;){var s=n[r];s&&t(e,s,r,o)}return e})}function Ai(t,e){return function(n,r){if(null==n)return n;if(!ks(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Bc(n);(e?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}function Ci(t){return function(e,n,r){for(var i=-1,o=Bc(e),a=r(e),s=a.length;s--;){var u=a[t?s:++i];if(n(o[u],u,o)===!1)break}return e}}function Ri(t,e,n){function r(){var e=this&&this!==Xn&&this instanceof r?o:t;return e.apply(i?n:this,arguments)}var i=e&lt,o=Ii(t);return r}function ji(t){return function(e){e=ou(e);var n=H(e)?Z(e):it,r=n?n[0]:e.charAt(0),i=n?fi(n,1).join(""):e.slice(1);return r[t]()+i}}function Mi(t){return function(e){return y(rc(Du(e).replace(Cn,"")),t,"")}}function Ii(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=jn(t.prototype),r=t.apply(n,e);return Fs(r)?r:n}}function Li(t,e,n){function r(){for(var o=arguments.length,a=Ic(o),u=o,c=no(r);u--;)a[u]=arguments[u];var l=o<3&&a[0]!==c&&a[o-1]!==c?[]:$(a,c);if(o-=l.length,o<n)return Yi(t,e,Ni,r.placeholder,it,a,l,it,it,n-o);var f=this&&this!==Xn&&this instanceof r?i:t;return s(f,this,a)}var i=Ii(t);return r}function Fi(t){return function(e,n,r){var i=Bc(e);if(!ks(e)){var o=ro(n,3);e=gu(e),n=function(t){return o(i[t],t,i)}}var a=t(e,n,r);return a>-1?i[o?e[a]:a]:it}}function Di(t){return Yr(function(e){e=Hn(e,1);var n=e.length,i=n,o=r.prototype.thru;for(t&&e.reverse();i--;){var a=e[i];if("function"!=typeof a)throw new zc(st);if(o&&!s&&"wrapper"==eo(a))var s=new r([],(!0))}for(i=s?i:n;++i<n;){a=e[i];var u=eo(a),c="wrapper"==u?Ql(a):it;s=c&&bo(c[0])&&c[1]==(yt|pt|_t|gt)&&!c[4].length&&1==c[9]?s[eo(c[0])].apply(s,c[3]):1==a.length&&bo(a)?s[u]():s.thru(a)}return function(){var t=arguments,r=t[0];if(s&&1==t.length&&Hf(r)&&r.length>=at)return s.plant(r).value();for(var i=0,o=n?e[i].apply(this,t):r;++i<n;)o=e[i].call(this,o);return o}})}function Ni(t,e,n,r,i,o,a,s,u,c){function l(){for(var y=arguments.length,g=Ic(y),m=y;m--;)g[m]=arguments[m];if(d)var b=no(l),w=U(g,b);if(r&&(g=xi(g,r,i,d)),o&&(g=Si(g,o,a,d)),y-=w,d&&y<c){var x=$(g,b);return Yi(t,e,Ni,l.placeholder,n,g,x,s,u,c-y)}var S=h?n:this,k=p?S[t]:t;return y=g.length,s?g=Ao(g,s):_&&y>1&&g.reverse(),f&&u<y&&(g.length=u),this&&this!==Xn&&this instanceof l&&(k=v||Ii(k)),k.apply(S,g)}var f=e&yt,h=e&lt,p=e&ft,d=e&(pt|dt),_=e&mt,v=p?it:Ii(t);return l}function Bi(t,e){return function(n,r){return _r(n,t,e(r),{})}}function Ui(t,e){return function(n,r){var i;if(n===it&&r===it)return e;if(n!==it&&(i=n),r!==it){if(i===it)return r;"string"==typeof n||"string"==typeof r?(n=ti(n),r=ti(r)):(n=Zr(n),r=Zr(r)),i=t(n,r)}return i}}function qi(t){return Yr(function(e){return e=1==e.length&&Hf(e[0])?_(e[0],L(ro())):_(Hn(e,1),L(ro())),Yr(function(n){var r=this;return t(e,function(t){return s(t,r,n)})})})}function zi(t,e){e=e===it?" ":ti(e);var n=e.length;if(n<2)return n?Wr(e,t):e;var r=Wr(e,pl(t/J(e)));return H(e)?fi(Z(r),0,t).join(""):r.slice(0,t)}function Hi(t,e,n,r){function i(){for(var e=-1,u=arguments.length,c=-1,l=r.length,f=Ic(l+u),h=this&&this!==Xn&&this instanceof i?a:t;++c<l;)f[c]=r[c];for(;u--;)f[c++]=arguments[++e];return s(h,o?n:this,f)}var o=e&lt,a=Ii(t);return i}function Vi(t){return function(e,n,r){return r&&"number"!=typeof r&&yo(e,n,r)&&(n=r=it),e=Zs(e),n===it?(n=e,e=0):n=Zs(n),r=r===it?e<n?1:-1:Zs(r),Vr(e,n,r,t)}}function Wi(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=nu(e),n=nu(n)),t(e,n)}}function Yi(t,e,n,r,i,o,a,s,u,c){var l=e&pt,f=l?a:it,h=l?it:a,p=l?o:it,d=l?it:o;e|=l?_t:vt,e&=~(l?vt:_t),e&ht||(e&=~(lt|ft));var _=[t,e,i,p,f,d,h,s,u,c],v=n.apply(it,_);return bo(t)&&ef(v,_),v.placeholder=r,rf(v,t,e)}function Gi(t){var e=Nc[t];return function(t,n){if(t=nu(t),n=wl(tu(n),292)){var r=(ou(t)+"e").split("e"),i=e(r[0]+"e"+(+r[1]+n));return r=(ou(i)+"e").split("e"),+(r[0]+"e"+(+r[1]-n))}return e(t)}}function Xi(t){return function(e){var n=Zl(e);return n==Vt?G(e):n==$t?K(e):I(e,t(e))}}function $i(t,e,n,r,i,o,a,s){var u=e&ft;if(!u&&"function"!=typeof t)throw new zc(st);var c=r?r.length:0;if(c||(e&=~(_t|vt),r=i=it),a=a===it?a:bl(tu(a),0),s=s===it?s:tu(s),c-=i?i.length:0,e&vt){var l=r,f=i;r=i=it}var h=u?it:Ql(t),p=[t,e,n,r,i,l,f,o,a,s];if(h&&To(p,h),t=p[0],e=p[1],n=p[2],r=p[3],i=p[4],s=p[9]=null==p[9]?u?0:t.length:bl(p[9]-c,0),!s&&e&(pt|dt)&&(e&=~(pt|dt)),e&&e!=lt)d=e==pt||e==dt?Li(t,e,s):e!=_t&&e!=(lt|_t)||i.length?Ni.apply(it,p):Hi(t,e,n,r);else var d=Ri(t,e,n);var _=h?Gl:ef;return rf(_(d,p),t,e)}function Qi(t,e,n,r,i,o){var a=i&wt,s=t.length,u=e.length;if(s!=u&&!(a&&u>s))return!1;var c=o.get(t);if(c&&o.get(e))return c==e;var l=-1,f=!0,h=i&bt?new cn:it;for(o.set(t,e),o.set(e,t);++l<s;){var p=t[l],d=e[l];if(r)var _=a?r(d,p,l,e,t,o):r(p,d,l,t,e,o);if(_!==it){if(_)continue;f=!1;break}if(h){if(!m(e,function(t,e){if(!h.has(e)&&(p===t||n(p,t,r,i,o)))return h.add(e)})){f=!1;break}}else if(p!==d&&!n(p,d,r,i,o)){f=!1;break}}return o.delete(t),o.delete(e),f}function Ki(t,e,n,r,i,o,a){switch(n){case ee:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case te:return!(t.byteLength!=e.byteLength||!r(new rl(t),new rl(e)));case Bt:case Ut:case Wt:return xs(+t,+e);case qt:return t.name==e.name&&t.message==e.message;case Xt:case Qt:return t==e+"";case Vt:var s=G;case $t:var u=o&wt;if(s||(s=Q),t.size!=e.size&&!u)return!1;var c=a.get(t);if(c)return c==e;o|=bt,a.set(t,e);var l=Qi(s(t),s(e),r,i,o,a);return a.delete(t),l;case Kt:if(ql)return ql.call(t)==ql.call(e)}return!1}function Ji(t,e,n,r,i,o){var a=i&wt,s=gu(t),u=s.length,c=gu(e),l=c.length;if(u!=l&&!a)return!1;for(var f=u;f--;){var h=s[f];if(!(a?h in e:$c.call(e,h)))return!1}var p=o.get(t);if(p&&o.get(e))return p==e;var d=!0;o.set(t,e),o.set(e,t);for(var _=a;++f<u;){h=s[f];var v=t[h],y=e[h];if(r)var g=a?r(y,v,h,e,t,o):r(v,y,h,t,e,o);if(!(g===it?v===y||n(v,y,r,i,o):g)){d=!1;break}_||(_="constructor"==h)}if(d&&!_){var m=t.constructor,b=e.constructor;m!=b&&"constructor"in t&&"constructor"in e&&!("function"==typeof m&&m instanceof m&&"function"==typeof b&&b instanceof b)&&(d=!1)}return o.delete(t),o.delete(e),d}function Zi(t){return Jn(t,gu,Kl)}function to(t){return Jn(t,mu,Jl)}function eo(t){for(var e=t.name+"",n=Il[e],r=$c.call(Il,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function no(t){var n=$c.call(e,"placeholder")?e:t;return n.placeholder}function ro(){var t=e.iteratee||cc;return t=t===cc?Er:t,arguments.length?t(arguments[0],arguments[1]):t}function io(t,e){var n=t.__data__;return mo(e)?n["string"==typeof e?"string":"hash"]:n.map}function oo(t){for(var e=gu(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,So(i)]}return e}function ao(t,e){var n=z(t,e);return Sr(n)?n:it}function so(t,e,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=wl(e,t+a);break;case"takeRight":t=bl(t,e-a)}}return{start:t,end:e}}function uo(t){var e=t.match(Re);return e?e[1].split(je):[]}function co(t,e,n){e=go(e,t)?[e]:li(e);for(var r,i=-1,o=e.length;++i<o;){var a=Co(e[i]);if(!(r=null!=t&&n(t,a)))break;t=t[a]}if(r)return r;var o=t?t.length:0;return!!o&&Ls(o)&&vo(a,o)&&(Hf(t)||Ss(t))}function lo(t){var e=t.length,n=t.constructor(e);return e&&"string"==typeof t[0]&&$c.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function fo(t){return"function"!=typeof t.constructor||xo(t)?{}:jn(il(t))}function ho(t,e,n,r){var i=t.constructor;switch(e){case te:return pi(t);case Bt:case Ut:return new i((+t));case ee:return di(t,r);case ne:case re:case ie:case oe:case ae:case se:case ue:case ce:case le:return mi(t,r);case Vt:return _i(t,r,n);case Wt:case Qt:return new i(t);case Xt:return vi(t);case $t:return yi(t,r,n);case Kt:return gi(t)}}function po(t,e){var n=e.length,r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(Ce,"{\n/* [wrapped with "+e+"] */\n")}function _o(t){return Hf(t)||Ss(t)||!!(cl&&t&&t[cl])}function vo(t,e){return e=null==e?Ct:e,!!e&&("number"==typeof t||ze.test(t))&&t>-1&&t%1==0&&t<e}function yo(t,e,n){if(!Fs(n))return!1;var r=typeof e;return!!("number"==r?ks(n)&&vo(e,n.length):"string"==r&&e in n)&&xs(n[e],t)}function go(t,e){if(Hf(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Xs(t))||(xe.test(t)||!we.test(t)||null!=e&&t in Bc(e))}function mo(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function bo(t){var n=eo(t),r=e[n];if("function"!=typeof r||!(n in i.prototype))return!1;if(t===r)return!0;var o=Ql(r);return!!o&&t===o[0]}function wo(t){return!!Gc&&Gc in t}function xo(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||Wc;return t===n}function So(t){return t===t&&!Fs(t)}function ko(t,e){return function(n){return null!=n&&(n[t]===e&&(e!==it||t in Bc(n)))}}function To(t,e){var n=t[1],r=e[1],i=n|r,o=i<(lt|ft|yt),a=r==yt&&n==pt||r==yt&&n==gt&&t[7].length<=e[8]||r==(yt|gt)&&e[7].length<=e[8]&&n==pt;if(!o&&!a)return t;r&lt&&(t[2]=e[2],i|=n&lt?0:ht);var s=e[3];if(s){var u=t[3];t[3]=u?xi(u,s,e[4]):s,t[4]=u?$(t[3],ct):e[4]}return s=e[5],s&&(u=t[5],t[5]=u?Si(u,s,e[6]):s,t[6]=u?$(t[5],ct):e[6]),s=e[7],s&&(t[7]=s),r&yt&&(t[8]=null==t[8]?e[8]:wl(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i,t}function Oo(t,e,n,r,i,o){return Fs(t)&&Fs(e)&&(o.set(e,t),Ir(t,e,it,Oo,o),o.delete(e)),t}function Eo(t){var e=[];if(null!=t)for(var n in Bc(t))e.push(n);return e}function Po(t,e){return 1==e.length?t:Qn(t,Xr(e,0,-1))}function Ao(t,e){for(var n=t.length,r=wl(e.length,n),i=ki(t);r--;){var o=e[r];t[r]=vo(o,n)?i[o]:it}return t}function Co(t){if("string"==typeof t||Xs(t))return t;var e=t+"";return"0"==e&&1/t==-At?"-0":e}function Ro(t){if(null!=t){try{return Xc.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function jo(t,e){return c(Ft,function(n){var r="_."+n[0];e&n[1]&&!p(t,r)&&t.push(r)}),t.sort()}function Mo(t){if(t instanceof i)return t.clone();var e=new r(t.__wrapped__,t.__chain__);return e.__actions__=ki(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}function Io(t,e,n){e=(n?yo(t,e,n):e===it)?1:bl(tu(e),0);var r=t?t.length:0;if(!r||e<1)return[];for(var i=0,o=0,a=Ic(pl(r/e));i<r;)a[o++]=Xr(t,i,i+=e);return a}function Lo(t){for(var e=-1,n=t?t.length:0,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i}function Fo(){for(var t=arguments.length,e=Ic(t?t-1:0),n=arguments[0],r=t;r--;)e[r-1]=arguments[r];return t?v(Hf(n)?ki(n):[n],Hn(e,1)):[]}function Do(t,e,n){var r=t?t.length:0;return r?(e=n||e===it?1:tu(e),Xr(t,e<0?0:e,r)):[]}function No(t,e,n){var r=t?t.length:0;return r?(e=n||e===it?1:tu(e),e=r-e,Xr(t,0,e<0?0:e)):[]}function Bo(t,e){return t&&t.length?ii(t,ro(e,3),!0,!0):[]}function Uo(t,e){return t&&t.length?ii(t,ro(e,3),!0):[]}function qo(t,e,n,r){var i=t?t.length:0;return i?(n&&"number"!=typeof n&&yo(t,e,n)&&(n=0,r=i),qn(t,e,n,r)):[]}function zo(t,e,n){var r=t?t.length:0;if(!r)return-1;var i=null==n?0:tu(n);return i<0&&(i=bl(r+i,0)),S(t,ro(e,3),i)}function Ho(t,e,n){var r=t?t.length:0;if(!r)return-1;var i=r-1;return n!==it&&(i=tu(n),i=n<0?bl(r+i,0):wl(i,r-1)),S(t,ro(e,3),i,!0)}function Vo(t){var e=t?t.length:0;return e?Hn(t,1):[]}function Wo(t){var e=t?t.length:0;return e?Hn(t,At):[]}function Yo(t,e){var n=t?t.length:0;return n?(e=e===it?1:tu(e),Hn(t,e)):[]}function Go(t){for(var e=-1,n=t?t.length:0,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r}function Xo(t){return t&&t.length?t[0]:it}function $o(t,e,n){var r=t?t.length:0;if(!r)return-1;var i=null==n?0:tu(n);return i<0&&(i=bl(r+i,0)),k(t,e,i)}function Qo(t){var e=t?t.length:0;return e?Xr(t,0,-1):[]}function Ko(t,e){return t?gl.call(t,e):""}function Jo(t){var e=t?t.length:0;return e?t[e-1]:it}function Zo(t,e,n){var r=t?t.length:0;if(!r)return-1;var i=r;if(n!==it&&(i=tu(n),i=(i<0?bl(r+i,0):wl(i,r-1))+1),e!==e)return S(t,O,i-1,!0);for(;i--;)if(t[i]===e)return i;return-1}function ta(t,e){return t&&t.length?Fr(t,tu(e)):it}function ea(t,e){return t&&t.length&&e&&e.length?qr(t,e):t;
}function na(t,e,n){return t&&t.length&&e&&e.length?qr(t,e,ro(n,2)):t}function ra(t,e,n){return t&&t.length&&e&&e.length?qr(t,e,it,n):t}function ia(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=ro(e,3);++r<o;){var a=t[r];e(a,r,t)&&(n.push(a),i.push(r))}return zr(t,i),n}function oa(t){return t?kl.call(t):t}function aa(t,e,n){var r=t?t.length:0;return r?(n&&"number"!=typeof n&&yo(t,e,n)?(e=0,n=r):(e=null==e?0:tu(e),n=n===it?r:tu(n)),Xr(t,e,n)):[]}function sa(t,e){return Qr(t,e)}function ua(t,e,n){return Kr(t,e,ro(n,2))}function ca(t,e){var n=t?t.length:0;if(n){var r=Qr(t,e);if(r<n&&xs(t[r],e))return r}return-1}function la(t,e){return Qr(t,e,!0)}function fa(t,e,n){return Kr(t,e,ro(n,2),!0)}function ha(t,e){var n=t?t.length:0;if(n){var r=Qr(t,e,!0)-1;if(xs(t[r],e))return r}return-1}function pa(t){return t&&t.length?Jr(t):[]}function da(t,e){return t&&t.length?Jr(t,ro(e,2)):[]}function _a(t){var e=t?t.length:0;return e?Xr(t,1,e):[]}function va(t,e,n){return t&&t.length?(e=n||e===it?1:tu(e),Xr(t,0,e<0?0:e)):[]}function ya(t,e,n){var r=t?t.length:0;return r?(e=n||e===it?1:tu(e),e=r-e,Xr(t,e<0?0:e,r)):[]}function ga(t,e){return t&&t.length?ii(t,ro(e,3),!1,!0):[]}function ma(t,e){return t&&t.length?ii(t,ro(e,3)):[]}function ba(t){return t&&t.length?ei(t):[]}function wa(t,e){return t&&t.length?ei(t,ro(e,2)):[]}function xa(t,e){return t&&t.length?ei(t,it,e):[]}function Sa(t){if(!t||!t.length)return[];var e=0;return t=h(t,function(t){if(Ts(t))return e=bl(t.length,e),!0}),M(e,function(e){return _(t,P(e))})}function ka(t,e){if(!t||!t.length)return[];var n=Sa(t);return null==e?n:_(n,function(t){return s(e,it,t)})}function Ta(t,e){return si(t||[],e||[],wn)}function Oa(t,e){return si(t||[],e||[],Gr)}function Ea(t){var n=e(t);return n.__chain__=!0,n}function Pa(t,e){return e(t),t}function Aa(t,e){return e(t)}function Ca(){return Ea(this)}function Ra(){return new r(this.value(),this.__chain__)}function ja(){this.__values__===it&&(this.__values__=Js(this.value()));var t=this.__index__>=this.__values__.length,e=t?it:this.__values__[this.__index__++];return{done:t,value:e}}function Ma(){return this}function Ia(t){for(var e,r=this;r instanceof n;){var i=Mo(r);i.__index__=0,i.__values__=it,e?o.__wrapped__=i:e=i;var o=i;r=r.__wrapped__}return o.__wrapped__=t,e}function La(){var t=this.__wrapped__;if(t instanceof i){var e=t;return this.__actions__.length&&(e=new i(this)),e=e.reverse(),e.__actions__.push({func:Aa,args:[oa],thisArg:it}),new r(e,this.__chain__)}return this.thru(oa)}function Fa(){return oi(this.__wrapped__,this.__actions__)}function Da(t,e,n){var r=Hf(t)?f:Ln;return n&&yo(t,e,n)&&(e=it),r(t,ro(e,3))}function Na(t,e){var n=Hf(t)?h:zn;return n(t,ro(e,3))}function Ba(t,e){return Hn(Wa(t,e),1)}function Ua(t,e){return Hn(Wa(t,e),At)}function qa(t,e,n){return n=n===it?1:tu(n),Hn(Wa(t,e),n)}function za(t,e){var n=Hf(t)?c:Hl;return n(t,ro(e,3))}function Ha(t,e){var n=Hf(t)?l:Vl;return n(t,ro(e,3))}function Va(t,e,n,r){t=ks(t)?t:Ru(t),n=n&&!r?tu(n):0;var i=t.length;return n<0&&(n=bl(i+n,0)),Gs(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&k(t,e,n)>-1}function Wa(t,e){var n=Hf(t)?_:Rr;return n(t,ro(e,3))}function Ya(t,e,n,r){return null==t?[]:(Hf(e)||(e=null==e?[]:[e]),n=r?it:n,Hf(n)||(n=null==n?[]:[n]),Dr(t,e,n))}function Ga(t,e,n){var r=Hf(t)?y:C,i=arguments.length<3;return r(t,ro(e,4),n,i,Hl)}function Xa(t,e,n){var r=Hf(t)?g:C,i=arguments.length<3;return r(t,ro(e,4),n,i,Vl)}function $a(t,e){var n=Hf(t)?h:zn;return n(t,cs(ro(e,3)))}function Qa(t){var e=ks(t)?t:Ru(t),n=e.length;return n>0?e[Hr(0,n-1)]:it}function Ka(t,e,n){var r=-1,i=Js(t),o=i.length,a=o-1;for(e=(n?yo(t,e,n):e===it)?1:On(tu(e),0,o);++r<e;){var s=Hr(r,a),u=i[s];i[s]=i[r],i[r]=u}return i.length=e,i}function Ja(t){return Ka(t,Mt)}function Za(t){if(null==t)return 0;if(ks(t))return Gs(t)?J(t):t.length;var e=Zl(t);return e==Vt||e==$t?t.size:Pr(t).length}function ts(t,e,n){var r=Hf(t)?m:$r;return n&&yo(t,e,n)&&(e=it),r(t,ro(e,3))}function es(t,e){if("function"!=typeof e)throw new zc(st);return t=tu(t),function(){if(--t<1)return e.apply(this,arguments)}}function ns(t,e,n){return e=n?it:e,e=t&&null==e?t.length:e,$i(t,yt,it,it,it,it,e)}function rs(t,e){var n;if("function"!=typeof e)throw new zc(st);return t=tu(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=it),n}}function is(t,e,n){e=n?it:e;var r=$i(t,pt,it,it,it,it,it,e);return r.placeholder=is.placeholder,r}function os(t,e,n){e=n?it:e;var r=$i(t,dt,it,it,it,it,it,e);return r.placeholder=os.placeholder,r}function as(t,e,n){function r(e){var n=h,r=p;return h=p=it,g=e,_=t.apply(r,n)}function i(t){return g=t,v=nf(s,e),m?r(t):_}function o(t){var n=t-y,r=t-g,i=e-n;return b?wl(i,d-r):i}function a(t){var n=t-y,r=t-g;return y===it||n>=e||n<0||b&&r>=d}function s(){var t=jf();return a(t)?u(t):void(v=nf(s,o(t)))}function u(t){return v=it,w&&h?r(t):(h=p=it,_)}function c(){v!==it&&Xl(v),g=0,h=y=p=v=it}function l(){return v===it?_:u(jf())}function f(){var t=jf(),n=a(t);if(h=arguments,p=this,y=t,n){if(v===it)return i(y);if(b)return v=nf(s,e),r(y)}return v===it&&(v=nf(s,e)),_}var h,p,d,_,v,y,g=0,m=!1,b=!1,w=!0;if("function"!=typeof t)throw new zc(st);return e=nu(e)||0,Fs(n)&&(m=!!n.leading,b="maxWait"in n,d=b?bl(nu(n.maxWait)||0,e):d,w="trailing"in n?!!n.trailing:w),f.cancel=c,f.flush=l,f}function ss(t){return $i(t,mt)}function us(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new zc(st);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a),a};return n.cache=new(us.Cache||nn),n}function cs(t){if("function"!=typeof t)throw new zc(st);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function ls(t){return rs(2,t)}function fs(t,e){if("function"!=typeof t)throw new zc(st);return e=e===it?e:tu(e),Yr(t,e)}function hs(t,e){if("function"!=typeof t)throw new zc(st);return e=e===it?0:bl(tu(e),0),Yr(function(n){var r=n[e],i=fi(n,0,e);return r&&v(i,r),s(t,this,i)})}function ps(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new zc(st);return Fs(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),as(t,e,{leading:r,maxWait:e,trailing:i})}function ds(t){return ns(t,1)}function _s(t,e){return e=null==e?uc:e,Nf(e,t)}function vs(){if(!arguments.length)return[];var t=arguments[0];return Hf(t)?t:[t]}function ys(t){return En(t,!1,!0)}function gs(t,e){return En(t,!1,!0,e)}function ms(t){return En(t,!0,!0)}function bs(t,e){return En(t,!0,!0,e)}function ws(t,e){return null==e||An(t,e,gu(e))}function xs(t,e){return t===e||t!==t&&e!==e}function Ss(t){return Ts(t)&&$c.call(t,"callee")&&(!sl.call(t,"callee")||Jc.call(t)==Dt)}function ks(t){return null!=t&&Ls(t.length)&&!Ms(t)}function Ts(t){return Ds(t)&&ks(t)}function Os(t){return t===!0||t===!1||Ds(t)&&Jc.call(t)==Bt}function Es(t){return!!t&&1===t.nodeType&&Ds(t)&&!Ws(t)}function Ps(t){if(ks(t)&&(Hf(t)||"string"==typeof t||"function"==typeof t.splice||Wf(t)||Ss(t)))return!t.length;var e=Zl(t);if(e==Vt||e==$t)return!t.size;if(Ml||xo(t))return!ml(t).length;for(var n in t)if($c.call(t,n))return!1;return!0}function As(t,e){return mr(t,e)}function Cs(t,e,n){n="function"==typeof n?n:it;var r=n?n(t,e):it;return r===it?mr(t,e,n):!!r}function Rs(t){return!!Ds(t)&&(Jc.call(t)==qt||"string"==typeof t.message&&"string"==typeof t.name)}function js(t){return"number"==typeof t&&yl(t)}function Ms(t){var e=Fs(t)?Jc.call(t):"";return e==zt||e==Ht}function Is(t){return"number"==typeof t&&t==tu(t)}function Ls(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Ct}function Fs(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Ds(t){return!!t&&"object"==typeof t}function Ns(t,e){return t===e||xr(t,e,oo(e))}function Bs(t,e,n){return n="function"==typeof n?n:it,xr(t,e,oo(e),n)}function Us(t){return Vs(t)&&t!=+t}function qs(t){if(tf(t))throw new Fc("This method is not supported with core-js. Try https://github.com/es-shims.");return Sr(t)}function zs(t){return null===t}function Hs(t){return null==t}function Vs(t){return"number"==typeof t||Ds(t)&&Jc.call(t)==Wt}function Ws(t){if(!Ds(t)||Jc.call(t)!=Yt||W(t))return!1;var e=il(t);if(null===e)return!0;var n=$c.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Xc.call(n)==Kc}function Ys(t){return Is(t)&&t>=-Ct&&t<=Ct}function Gs(t){return"string"==typeof t||!Hf(t)&&Ds(t)&&Jc.call(t)==Qt}function Xs(t){return"symbol"==typeof t||Ds(t)&&Jc.call(t)==Kt}function $s(t){return t===it}function Qs(t){return Ds(t)&&Zl(t)==Jt}function Ks(t){return Ds(t)&&Jc.call(t)==Zt}function Js(t){if(!t)return[];if(ks(t))return Gs(t)?Z(t):ki(t);if(ol&&t[ol])return Y(t[ol]());var e=Zl(t),n=e==Vt?G:e==$t?Q:Ru;return n(t)}function Zs(t){if(!t)return 0===t?t:0;if(t=nu(t),t===At||t===-At){var e=t<0?-1:1;return e*Rt}return t===t?t:0}function tu(t){var e=Zs(t),n=e%1;return e===e?n?e-n:e:0}function eu(t){return t?On(tu(t),0,Mt):0}function nu(t){if("number"==typeof t)return t;if(Xs(t))return jt;if(Fs(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Fs(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Ee,"");var n=Be.test(t);return n||qe.test(t)?Wn(t.slice(2),n?2:8):Ne.test(t)?jt:+t}function ru(t){return Ti(t,mu(t))}function iu(t){return On(tu(t),-Ct,Ct)}function ou(t){return null==t?"":ti(t)}function au(t,e){var n=jn(t);return e?kn(n,e):n}function su(t,e){return x(t,ro(e,3),Yn)}function uu(t,e){return x(t,ro(e,3),Gn)}function cu(t,e){return null==t?t:Wl(t,ro(e,3),mu)}function lu(t,e){return null==t?t:Yl(t,ro(e,3),mu)}function fu(t,e){return t&&Yn(t,ro(e,3))}function hu(t,e){return t&&Gn(t,ro(e,3))}function pu(t){return null==t?[]:$n(t,gu(t))}function du(t){return null==t?[]:$n(t,mu(t))}function _u(t,e,n){var r=null==t?it:Qn(t,e);return r===it?n:r}function vu(t,e){return null!=t&&co(t,e,fr)}function yu(t,e){return null!=t&&co(t,e,hr)}function gu(t){return ks(t)?gn(t):Pr(t)}function mu(t){return ks(t)?gn(t,!0):Ar(t)}function bu(t,e){var n={};return e=ro(e,3),Yn(t,function(t,r,i){n[e(t,r,i)]=t}),n}function wu(t,e){var n={};return e=ro(e,3),Yn(t,function(t,r,i){n[r]=e(t,r,i)}),n}function xu(t,e){return Su(t,cs(ro(e)))}function Su(t,e){return null==t?{}:Br(t,to(t),ro(e))}function ku(t,e,n){e=go(e,t)?[e]:li(e);var r=-1,i=e.length;for(i||(t=it,i=1);++r<i;){var o=null==t?it:t[Co(e[r])];o===it&&(r=i,o=n),t=Ms(o)?o.call(t):o}return t}function Tu(t,e,n){return null==t?t:Gr(t,e,n)}function Ou(t,e,n,r){return r="function"==typeof r?r:it,null==t?t:Gr(t,e,n,r)}function Eu(t,e,n){var r=Hf(t)||Qf(t);if(e=ro(e,4),null==n)if(r||Fs(t)){var i=t.constructor;n=r?Hf(t)?new i:[]:Ms(i)?jn(il(t)):{}}else n={};return(r?c:Yn)(t,function(t,r,i){return e(n,t,r,i)}),n}function Pu(t,e){return null==t||ni(t,e)}function Au(t,e,n){return null==t?t:ri(t,e,ci(n))}function Cu(t,e,n,r){return r="function"==typeof r?r:it,null==t?t:ri(t,e,ci(n),r)}function Ru(t){return t?F(t,gu(t)):[]}function ju(t){return null==t?[]:F(t,mu(t))}function Mu(t,e,n){return n===it&&(n=e,e=it),n!==it&&(n=nu(n),n=n===n?n:0),e!==it&&(e=nu(e),e=e===e?e:0),On(nu(t),e,n)}function Iu(t,e,n){return e=Zs(e),n===it?(n=e,e=0):n=Zs(n),t=nu(t),pr(t,e,n)}function Lu(t,e,n){if(n&&"boolean"!=typeof n&&yo(t,e,n)&&(e=n=it),n===it&&("boolean"==typeof e?(n=e,e=it):"boolean"==typeof t&&(n=t,t=it)),t===it&&e===it?(t=0,e=1):(t=Zs(t),e===it?(e=t,t=0):e=Zs(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var i=Sl();return wl(t+i*(e-t+Vn("1e-"+((i+"").length-1))),e)}return Hr(t,e)}function Fu(t){return xh(ou(t).toLowerCase())}function Du(t){return t=ou(t),t&&t.replace(He,sr).replace(Rn,"")}function Nu(t,e,n){t=ou(t),e=ti(e);var r=t.length;n=n===it?r:On(tu(n),0,r);var i=n;return n-=e.length,n>=0&&t.slice(n,i)==e}function Bu(t){return t=ou(t),t&&ye.test(t)?t.replace(_e,ur):t}function Uu(t){return t=ou(t),t&&Oe.test(t)?t.replace(Te,"\\$&"):t}function qu(t,e,n){t=ou(t),e=tu(e);var r=e?J(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return zi(dl(i),n)+t+zi(pl(i),n)}function zu(t,e,n){t=ou(t),e=tu(e);var r=e?J(t):0;return e&&r<e?t+zi(e-r,n):t}function Hu(t,e,n){t=ou(t),e=tu(e);var r=e?J(t):0;return e&&r<e?zi(e-r,n)+t:t}function Vu(t,e,n){return n||null==e?e=0:e&&(e=+e),t=ou(t).replace(Ee,""),xl(t,e||(De.test(t)?16:10))}function Wu(t,e,n){return e=(n?yo(t,e,n):e===it)?1:tu(e),Wr(ou(t),e)}function Yu(){var t=arguments,e=ou(t[0]);return t.length<3?e:e.replace(t[1],t[2])}function Gu(t,e,n){return n&&"number"!=typeof n&&yo(t,e,n)&&(e=n=it),(n=n===it?Mt:n>>>0)?(t=ou(t),t&&("string"==typeof e||null!=e&&!Xf(e))&&(e=ti(e),!e&&H(t))?fi(Z(t),0,n):t.split(e,n)):[]}function Xu(t,e,n){return t=ou(t),n=On(tu(n),0,t.length),e=ti(e),t.slice(n,n+e.length)==e}function $u(t,n,r){var i=e.templateSettings;r&&yo(t,n,r)&&(n=it),t=ou(t),n=eh({},n,i,mn);var o,a,s=eh({},n.imports,i.imports,mn),u=gu(s),c=F(s,u),l=0,f=n.interpolate||Ve,h="__p += '",p=Uc((n.escape||Ve).source+"|"+f.source+"|"+(f===be?Le:Ve).source+"|"+(n.evaluate||Ve).source+"|$","g"),d="//# sourceURL="+("sourceURL"in n?n.sourceURL:"lodash.templateSources["+ ++Dn+"]")+"\n";t.replace(p,function(e,n,r,i,s,u){return r||(r=i),h+=t.slice(l,u).replace(We,q),n&&(o=!0,h+="' +\n__e("+n+") +\n'"),s&&(a=!0,h+="';\n"+s+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=u+e.length,e}),h+="';\n";var _=n.variable;_||(h="with (obj) {\n"+h+"\n}\n"),h=(a?h.replace(fe,""):h).replace(he,"$1").replace(pe,"$1;"),h="function("+(_||"obj")+") {\n"+(_?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var v=Sh(function(){return Dc(u,d+"return "+h).apply(it,c)});if(v.source=h,Rs(v))throw v;return v}function Qu(t){return ou(t).toLowerCase()}function Ku(t){return ou(t).toUpperCase()}function Ju(t,e,n){if(t=ou(t),t&&(n||e===it))return t.replace(Ee,"");if(!t||!(e=ti(e)))return t;var r=Z(t),i=Z(e),o=N(r,i),a=B(r,i)+1;return fi(r,o,a).join("")}function Zu(t,e,n){if(t=ou(t),t&&(n||e===it))return t.replace(Ae,"");if(!t||!(e=ti(e)))return t;var r=Z(t),i=B(r,Z(e))+1;return fi(r,0,i).join("")}function tc(t,e,n){if(t=ou(t),t&&(n||e===it))return t.replace(Pe,"");if(!t||!(e=ti(e)))return t;var r=Z(t),i=N(r,Z(e));return fi(r,i).join("")}function ec(t,e){var n=xt,r=St;if(Fs(e)){var i="separator"in e?e.separator:i;n="length"in e?tu(e.length):n,r="omission"in e?ti(e.omission):r}t=ou(t);var o=t.length;if(H(t)){var a=Z(t);o=a.length}if(n>=o)return t;var s=n-J(r);if(s<1)return r;var u=a?fi(a,0,s).join(""):t.slice(0,s);if(i===it)return u+r;if(a&&(s+=u.length-s),Xf(i)){if(t.slice(s).search(i)){var c,l=u;for(i.global||(i=Uc(i.source,ou(Fe.exec(i))+"g")),i.lastIndex=0;c=i.exec(l);)var f=c.index;u=u.slice(0,f===it?s:f)}}else if(t.indexOf(ti(i),s)!=s){var h=u.lastIndexOf(i);h>-1&&(u=u.slice(0,h))}return u+r}function nc(t){return t=ou(t),t&&ve.test(t)?t.replace(de,cr):t}function rc(t,e,n){return t=ou(t),e=n?it:e,e===it?V(t)?nt(t):w(t):t.match(e)||[]}function ic(t){var e=t?t.length:0,n=ro();return t=e?_(t,function(t){if("function"!=typeof t[1])throw new zc(st);return[n(t[0]),t[1]]}):[],Yr(function(n){for(var r=-1;++r<e;){var i=t[r];if(s(i[0],this,n))return s(i[1],this,n)}})}function oc(t){return Pn(En(t,!0))}function ac(t){return function(){return t}}function sc(t,e){return null==t||t!==t?e:t}function uc(t){return t}function cc(t){return Er("function"==typeof t?t:En(t,!0))}function lc(t){return jr(En(t,!0))}function fc(t,e){return Mr(t,En(e,!0))}function hc(t,e,n){var r=gu(e),i=$n(e,r);null!=n||Fs(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=$n(e,gu(e)));var o=!(Fs(n)&&"chain"in n&&!n.chain),a=Ms(t);return c(i,function(n){var r=e[n];t[n]=r,a&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__),i=n.__actions__=ki(this.__actions__);return i.push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,v([this.value()],arguments))})}),t}function pc(){return Xn._===this&&(Xn._=Zc),this}function dc(){}function _c(t){return t=tu(t),Yr(function(e){return Fr(e,t)})}function vc(t){return go(t)?P(Co(t)):Ur(t)}function yc(t){return function(e){return null==t?it:Qn(t,e)}}function gc(){return[]}function mc(){return!1}function bc(){return{}}function wc(){return""}function xc(){return!0}function Sc(t,e){if(t=tu(t),t<1||t>Ct)return[];var n=Mt,r=wl(t,Mt);e=ro(e),t-=Mt;for(var i=M(r,e);++n<t;)e(n);return i}function kc(t){return Hf(t)?_(t,Co):Xs(t)?[t]:ki(of(t))}function Tc(t){var e=++Qc;return ou(t)+e}function Oc(t){return t&&t.length?Un(t,uc,ar):it}function Ec(t,e){return t&&t.length?Un(t,ro(e,2),ar):it}function Pc(t){return E(t,uc)}function Ac(t,e){return E(t,ro(e,2))}function Cc(t){return t&&t.length?Un(t,uc,Cr):it}function Rc(t,e){return t&&t.length?Un(t,ro(e,2),Cr):it}function jc(t){return t&&t.length?j(t,uc):0}function Mc(t,e){return t&&t.length?j(t,ro(e,2)):0}t=t?lr.defaults(Xn.Object(),t,lr.pick(Xn,Fn)):Xn;var Ic=t.Array,Lc=t.Date,Fc=t.Error,Dc=t.Function,Nc=t.Math,Bc=t.Object,Uc=t.RegExp,qc=t.String,zc=t.TypeError,Hc=Ic.prototype,Vc=Dc.prototype,Wc=Bc.prototype,Yc=t["__core-js_shared__"],Gc=function(){var t=/[^.]+$/.exec(Yc&&Yc.keys&&Yc.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Xc=Vc.toString,$c=Wc.hasOwnProperty,Qc=0,Kc=Xc.call(Bc),Jc=Wc.toString,Zc=Xn._,tl=Uc("^"+Xc.call($c).replace(Te,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),el=Kn?t.Buffer:it,nl=t.Symbol,rl=t.Uint8Array,il=X(Bc.getPrototypeOf,Bc),ol=nl?nl.iterator:it,al=Bc.create,sl=Wc.propertyIsEnumerable,ul=Hc.splice,cl=nl?nl.isConcatSpreadable:it,ll=t.clearTimeout!==Xn.clearTimeout&&t.clearTimeout,fl=Lc&&Lc.now!==Xn.Date.now&&Lc.now,hl=t.setTimeout!==Xn.setTimeout&&t.setTimeout,pl=Nc.ceil,dl=Nc.floor,_l=Bc.getOwnPropertySymbols,vl=el?el.isBuffer:it,yl=t.isFinite,gl=Hc.join,ml=X(Bc.keys,Bc),bl=Nc.max,wl=Nc.min,xl=t.parseInt,Sl=Nc.random,kl=Hc.reverse,Tl=ao(t,"DataView"),Ol=ao(t,"Map"),El=ao(t,"Promise"),Pl=ao(t,"Set"),Al=ao(t,"WeakMap"),Cl=ao(Bc,"create"),Rl=function(){var t=ao(Bc,"defineProperty"),e=ao.name;return e&&e.length>2?t:it}(),jl=Al&&new Al,Ml=!sl.call({valueOf:1},"valueOf"),Il={},Ll=Ro(Tl),Fl=Ro(Ol),Dl=Ro(El),Nl=Ro(Pl),Bl=Ro(Al),Ul=nl?nl.prototype:it,ql=Ul?Ul.valueOf:it,zl=Ul?Ul.toString:it;e.templateSettings={escape:ge,evaluate:me,interpolate:be,variable:"",imports:{_:e}},e.prototype=n.prototype,e.prototype.constructor=e,r.prototype=jn(n.prototype),r.prototype.constructor=r,i.prototype=jn(n.prototype),i.prototype.constructor=i,et.prototype.clear=Me,et.prototype.delete=Ye,et.prototype.get=Ge,et.prototype.has=Xe,et.prototype.set=$e,Qe.prototype.clear=Ke,Qe.prototype.delete=Je,Qe.prototype.get=Ze,Qe.prototype.has=tn,Qe.prototype.set=en,nn.prototype.clear=rn,nn.prototype.delete=on,nn.prototype.get=an,nn.prototype.has=sn,nn.prototype.set=un,cn.prototype.add=cn.prototype.push=ln,cn.prototype.has=fn,hn.prototype.clear=pn,hn.prototype.delete=dn,hn.prototype.get=_n,hn.prototype.has=vn,hn.prototype.set=yn;var Hl=Ai(Yn),Vl=Ai(Gn,!0),Wl=Ci(),Yl=Ci(!0),Gl=jl?function(t,e){return jl.set(t,e),t}:uc,Xl=ll||function(t){return Xn.clearTimeout(t)},$l=Pl&&1/Q(new Pl([,-0]))[1]==At?function(t){return new Pl(t)}:dc,Ql=jl?function(t){return jl.get(t)}:dc,Kl=_l?X(_l,Bc):gc,Jl=_l?function(t){for(var e=[];t;)v(e,Kl(t)),t=il(t);return e}:gc,Zl=Zn;(Tl&&Zl(new Tl(new ArrayBuffer(1)))!=ee||Ol&&Zl(new Ol)!=Vt||El&&Zl(El.resolve())!=Gt||Pl&&Zl(new Pl)!=$t||Al&&Zl(new Al)!=Jt)&&(Zl=function(t){var e=Jc.call(t),n=e==Yt?t.constructor:it,r=n?Ro(n):it;if(r)switch(r){case Ll:return ee;case Fl:return Vt;case Dl:return Gt;case Nl:return $t;case Bl:return Jt}return e});var tf=Yc?Ms:mc,ef=function(){var t=0,e=0;return function(n,r){var i=jf(),o=Tt-(i-e);if(e=i,o>0){if(++t>=kt)return n}else t=0;return Gl(n,r)}}(),nf=hl||function(t,e){return Xn.setTimeout(t,e)},rf=Rl?function(t,e,n){var r=e+"";return Rl(t,"toString",{configurable:!0,enumerable:!1,value:ac(po(r,jo(uo(r),n)))})}:uc,of=us(function(t){t=ou(t);var e=[];return Se.test(t)&&e.push(""),t.replace(ke,function(t,n,r,i){e.push(r?i.replace(Ie,"$1"):n||t)}),e}),af=Yr(function(t,e){return Ts(t)?In(t,Hn(e,1,Ts,!0)):[]}),sf=Yr(function(t,e){var n=Jo(e);return Ts(n)&&(n=it),Ts(t)?In(t,Hn(e,1,Ts,!0),ro(n,2)):[]}),uf=Yr(function(t,e){var n=Jo(e);return Ts(n)&&(n=it),Ts(t)?In(t,Hn(e,1,Ts,!0),it,n):[]}),cf=Yr(function(t){var e=_(t,ui);return e.length&&e[0]===t[0]?dr(e):[]}),lf=Yr(function(t){var e=Jo(t),n=_(t,ui);return e===Jo(n)?e=it:n.pop(),n.length&&n[0]===t[0]?dr(n,ro(e,2)):[]}),ff=Yr(function(t){var e=Jo(t),n=_(t,ui);return e===Jo(n)?e=it:n.pop(),n.length&&n[0]===t[0]?dr(n,it,e):[]}),hf=Yr(ea),pf=Yr(function(t,e){e=Hn(e,1);var n=t?t.length:0,r=Tn(t,e);return zr(t,_(e,function(t){return vo(t,n)?+t:t}).sort(bi)),r}),df=Yr(function(t){return ei(Hn(t,1,Ts,!0))}),_f=Yr(function(t){var e=Jo(t);return Ts(e)&&(e=it),ei(Hn(t,1,Ts,!0),ro(e,2))}),vf=Yr(function(t){var e=Jo(t);return Ts(e)&&(e=it),ei(Hn(t,1,Ts,!0),it,e)}),yf=Yr(function(t,e){return Ts(t)?In(t,e):[]}),gf=Yr(function(t){return ai(h(t,Ts))}),mf=Yr(function(t){var e=Jo(t);return Ts(e)&&(e=it),ai(h(t,Ts),ro(e,2))}),bf=Yr(function(t){var e=Jo(t);return Ts(e)&&(e=it),ai(h(t,Ts),it,e)}),wf=Yr(Sa),xf=Yr(function(t){var e=t.length,n=e>1?t[e-1]:it;return n="function"==typeof n?(t.pop(),n):it,ka(t,n)}),Sf=Yr(function(t){t=Hn(t,1);var e=t.length,n=e?t[0]:0,o=this.__wrapped__,a=function(e){return Tn(e,t)};return!(e>1||this.__actions__.length)&&o instanceof i&&vo(n)?(o=o.slice(n,+n+(e?1:0)),o.__actions__.push({func:Aa,args:[a],thisArg:it}),new r(o,this.__chain__).thru(function(t){return e&&!t.length&&t.push(it),t})):this.thru(a)}),kf=Ei(function(t,e,n){$c.call(t,n)?++t[n]:t[n]=1}),Tf=Fi(zo),Of=Fi(Ho),Ef=Ei(function(t,e,n){$c.call(t,n)?t[n].push(e):t[n]=[e]}),Pf=Yr(function(t,e,n){var r=-1,i="function"==typeof e,o=go(e),a=ks(t)?Ic(t.length):[];return Hl(t,function(t){var u=i?e:o&&null!=t?t[e]:it;a[++r]=u?s(u,t,n):vr(t,e,n)}),a}),Af=Ei(function(t,e,n){t[n]=e}),Cf=Ei(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),Rf=Yr(function(t,e){if(null==t)return[];var n=e.length;return n>1&&yo(t,e[0],e[1])?e=[]:n>2&&yo(e[0],e[1],e[2])&&(e=[e[0]]),Dr(t,Hn(e,1),[])}),jf=fl||function(){return Xn.Date.now()},Mf=Yr(function(t,e,n){var r=lt;if(n.length){var i=$(n,no(Mf));r|=_t}return $i(t,r,e,n,i)}),If=Yr(function(t,e,n){var r=lt|ft;if(n.length){var i=$(n,no(If));r|=_t}return $i(e,r,t,n,i)}),Lf=Yr(function(t,e){return Mn(t,1,e)}),Ff=Yr(function(t,e,n){return Mn(t,nu(e)||0,n)});us.Cache=nn;var Df=Yr(function(t,e){e=1==e.length&&Hf(e[0])?_(e[0],L(ro())):_(Hn(e,1),L(ro()));var n=e.length;return Yr(function(r){for(var i=-1,o=wl(r.length,n);++i<o;)r[i]=e[i].call(this,r[i]);return s(t,this,r)})}),Nf=Yr(function(t,e){var n=$(e,no(Nf));return $i(t,_t,it,e,n)}),Bf=Yr(function(t,e){var n=$(e,no(Bf));return $i(t,vt,it,e,n)}),Uf=Yr(function(t,e){return $i(t,gt,it,it,it,Hn(e,1))}),qf=Wi(ar),zf=Wi(function(t,e){return t>=e}),Hf=Ic.isArray,Vf=tr?L(tr):yr,Wf=vl||mc,Yf=er?L(er):gr,Gf=nr?L(nr):wr,Xf=rr?L(rr):kr,$f=ir?L(ir):Tr,Qf=or?L(or):Or,Kf=Wi(Cr),Jf=Wi(function(t,e){return t<=e}),Zf=Pi(function(t,e){if(Ml||xo(e)||ks(e))return void Ti(e,gu(e),t);for(var n in e)$c.call(e,n)&&wn(t,n,e[n])}),th=Pi(function(t,e){Ti(e,mu(e),t)}),eh=Pi(function(t,e,n,r){Ti(e,mu(e),t,r)}),nh=Pi(function(t,e,n,r){Ti(e,gu(e),t,r)}),rh=Yr(function(t,e){return Tn(t,Hn(e,1))}),ih=Yr(function(t){return t.push(it,mn),s(eh,it,t)}),oh=Yr(function(t){return t.push(it,Oo),s(lh,it,t)}),ah=Bi(function(t,e,n){t[e]=n},ac(uc)),sh=Bi(function(t,e,n){$c.call(t,e)?t[e].push(n):t[e]=[n]},ro),uh=Yr(vr),ch=Pi(function(t,e,n){Ir(t,e,n)}),lh=Pi(function(t,e,n,r){Ir(t,e,n,r)}),fh=Yr(function(t,e){return null==t?{}:(e=_(Hn(e,1),Co),Nr(t,In(to(t),e)))}),hh=Yr(function(t,e){return null==t?{}:Nr(t,_(Hn(e,1),Co))}),ph=Xi(gu),dh=Xi(mu),_h=Mi(function(t,e,n){return e=e.toLowerCase(),t+(n?Fu(e):e)}),vh=Mi(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),yh=Mi(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),gh=ji("toLowerCase"),mh=Mi(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),bh=Mi(function(t,e,n){return t+(n?" ":"")+xh(e)}),wh=Mi(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),xh=ji("toUpperCase"),Sh=Yr(function(t,e){try{return s(t,it,e)}catch(n){return Rs(n)?n:new Fc(n)}}),kh=Yr(function(t,e){return c(Hn(e,1),function(e){e=Co(e),t[e]=Mf(t[e],t)}),t}),Th=Di(),Oh=Di(!0),Eh=Yr(function(t,e){return function(n){return vr(n,t,e)}}),Ph=Yr(function(t,e){return function(n){return vr(t,n,e)}}),Ah=qi(_),Ch=qi(f),Rh=qi(m),jh=Vi(),Mh=Vi(!0),Ih=Ui(function(t,e){return t+e},0),Lh=Gi("ceil"),Fh=Ui(function(t,e){return t/e},1),Dh=Gi("floor"),Nh=Ui(function(t,e){return t*e},1),Bh=Gi("round"),Uh=Ui(function(t,e){return t-e},0);return e.after=es,e.ary=ns,e.assign=Zf,e.assignIn=th,e.assignInWith=eh,e.assignWith=nh,e.at=rh,e.before=rs,e.bind=Mf,e.bindAll=kh,e.bindKey=If,e.castArray=vs,e.chain=Ea,e.chunk=Io,e.compact=Lo,e.concat=Fo,e.cond=ic,e.conforms=oc,e.constant=ac,e.countBy=kf,e.create=au,e.curry=is,e.curryRight=os,e.debounce=as,e.defaults=ih,e.defaultsDeep=oh,e.defer=Lf,e.delay=Ff,e.difference=af,e.differenceBy=sf,e.differenceWith=uf,e.drop=Do,e.dropRight=No,e.dropRightWhile=Bo,e.dropWhile=Uo,e.fill=qo,e.filter=Na,e.flatMap=Ba,e.flatMapDeep=Ua,e.flatMapDepth=qa,e.flatten=Vo,e.flattenDeep=Wo,e.flattenDepth=Yo,e.flip=ss,e.flow=Th,e.flowRight=Oh,e.fromPairs=Go,e.functions=pu,e.functionsIn=du,e.groupBy=Ef,e.initial=Qo,e.intersection=cf,e.intersectionBy=lf,e.intersectionWith=ff,e.invert=ah,e.invertBy=sh,e.invokeMap=Pf,e.iteratee=cc,e.keyBy=Af,e.keys=gu,e.keysIn=mu,e.map=Wa,e.mapKeys=bu,e.mapValues=wu,e.matches=lc,e.matchesProperty=fc,e.memoize=us,e.merge=ch,e.mergeWith=lh,e.method=Eh,e.methodOf=Ph,e.mixin=hc,e.negate=cs,e.nthArg=_c,e.omit=fh,e.omitBy=xu,e.once=ls,e.orderBy=Ya,e.over=Ah,e.overArgs=Df,e.overEvery=Ch,e.overSome=Rh,e.partial=Nf,e.partialRight=Bf,e.partition=Cf,e.pick=hh,e.pickBy=Su,e.property=vc,e.propertyOf=yc,e.pull=hf,e.pullAll=ea,e.pullAllBy=na,e.pullAllWith=ra,e.pullAt=pf,e.range=jh,e.rangeRight=Mh,e.rearg=Uf,e.reject=$a,e.remove=ia,e.rest=fs,e.reverse=oa,e.sampleSize=Ka,e.set=Tu,e.setWith=Ou,e.shuffle=Ja,e.slice=aa,e.sortBy=Rf,e.sortedUniq=pa,e.sortedUniqBy=da,e.split=Gu,e.spread=hs,e.tail=_a,e.take=va,e.takeRight=ya,e.takeRightWhile=ga,e.takeWhile=ma,e.tap=Pa,e.throttle=ps,e.thru=Aa,e.toArray=Js,e.toPairs=ph,e.toPairsIn=dh,e.toPath=kc,e.toPlainObject=ru,e.transform=Eu,e.unary=ds,e.union=df,e.unionBy=_f,e.unionWith=vf,e.uniq=ba,e.uniqBy=wa,e.uniqWith=xa,e.unset=Pu,e.unzip=Sa,e.unzipWith=ka,e.update=Au,e.updateWith=Cu,e.values=Ru,e.valuesIn=ju,e.without=yf,e.words=rc,e.wrap=_s,e.xor=gf,e.xorBy=mf,e.xorWith=bf,e.zip=wf,e.zipObject=Ta,e.zipObjectDeep=Oa,e.zipWith=xf,e.entries=ph,e.entriesIn=dh,e.extend=th,e.extendWith=eh,hc(e,e),e.add=Ih,e.attempt=Sh,e.camelCase=_h,e.capitalize=Fu,e.ceil=Lh,e.clamp=Mu,e.clone=ys,e.cloneDeep=ms,e.cloneDeepWith=bs,e.cloneWith=gs,e.conformsTo=ws,e.deburr=Du,e.defaultTo=sc,e.divide=Fh,e.endsWith=Nu,e.eq=xs,e.escape=Bu,e.escapeRegExp=Uu,e.every=Da,e.find=Tf,e.findIndex=zo,e.findKey=su,e.findLast=Of,e.findLastIndex=Ho,e.findLastKey=uu,e.floor=Dh,e.forEach=za,e.forEachRight=Ha,e.forIn=cu,e.forInRight=lu,e.forOwn=fu,e.forOwnRight=hu,e.get=_u,e.gt=qf,e.gte=zf,e.has=vu,e.hasIn=yu,e.head=Xo,e.identity=uc,e.includes=Va,e.indexOf=$o,e.inRange=Iu,e.invoke=uh,e.isArguments=Ss,e.isArray=Hf,e.isArrayBuffer=Vf,e.isArrayLike=ks,e.isArrayLikeObject=Ts,e.isBoolean=Os,e.isBuffer=Wf,e.isDate=Yf,e.isElement=Es,e.isEmpty=Ps,e.isEqual=As,e.isEqualWith=Cs,e.isError=Rs,e.isFinite=js,e.isFunction=Ms,e.isInteger=Is,e.isLength=Ls,e.isMap=Gf,e.isMatch=Ns,e.isMatchWith=Bs,e.isNaN=Us,e.isNative=qs,e.isNil=Hs,e.isNull=zs,e.isNumber=Vs,e.isObject=Fs,e.isObjectLike=Ds,e.isPlainObject=Ws,e.isRegExp=Xf,e.isSafeInteger=Ys,e.isSet=$f,e.isString=Gs,e.isSymbol=Xs,e.isTypedArray=Qf,e.isUndefined=$s,e.isWeakMap=Qs,e.isWeakSet=Ks,e.join=Ko,e.kebabCase=vh,e.last=Jo,e.lastIndexOf=Zo,e.lowerCase=yh,e.lowerFirst=gh,e.lt=Kf,e.lte=Jf,e.max=Oc,e.maxBy=Ec,e.mean=Pc,e.meanBy=Ac,e.min=Cc,e.minBy=Rc,e.stubArray=gc,e.stubFalse=mc,e.stubObject=bc,e.stubString=wc,e.stubTrue=xc,e.multiply=Nh,e.nth=ta,e.noConflict=pc,e.noop=dc,e.now=jf,e.pad=qu,e.padEnd=zu,e.padStart=Hu,e.parseInt=Vu,e.random=Lu,e.reduce=Ga,e.reduceRight=Xa,e.repeat=Wu,e.replace=Yu,e.result=ku,e.round=Bh,e.runInContext=rt,e.sample=Qa,e.size=Za,e.snakeCase=mh,e.some=ts,e.sortedIndex=sa,e.sortedIndexBy=ua,e.sortedIndexOf=ca,e.sortedLastIndex=la,e.sortedLastIndexBy=fa,e.sortedLastIndexOf=ha,e.startCase=bh,e.startsWith=Xu,e.subtract=Uh,e.sum=jc,e.sumBy=Mc,e.template=$u,e.times=Sc,e.toFinite=Zs,e.toInteger=tu,e.toLength=eu,e.toLower=Qu,e.toNumber=nu,e.toSafeInteger=iu,e.toString=ou,e.toUpper=Ku,e.trim=Ju,e.trimEnd=Zu,e.trimStart=tc,e.truncate=ec,e.unescape=nc,e.uniqueId=Tc,e.upperCase=wh,e.upperFirst=xh,e.each=za,e.eachRight=Ha,e.first=Xo,hc(e,function(){var t={};return Yn(e,function(n,r){$c.call(e.prototype,r)||(t[r]=n)}),t}(),{chain:!1}),e.VERSION=ot,c(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){e[t].placeholder=e}),c(["drop","take"],function(t,e){i.prototype[t]=function(n){var r=this.__filtered__;if(r&&!e)return new i(this);n=n===it?1:bl(tu(n),0);var o=this.clone();return r?o.__takeCount__=wl(n,o.__takeCount__):o.__views__.push({size:wl(n,Mt),type:t+(o.__dir__<0?"Right":"")}),o},i.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),c(["filter","map","takeWhile"],function(t,e){var n=e+1,r=n==Ot||n==Pt;i.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:ro(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}}),c(["head","last"],function(t,e){var n="take"+(e?"Right":"");i.prototype[t]=function(){return this[n](1).value()[0]}}),c(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");i.prototype[t]=function(){return this.__filtered__?new i(this):this[n](1)}}),i.prototype.compact=function(){return this.filter(uc)},i.prototype.find=function(t){return this.filter(t).head()},i.prototype.findLast=function(t){return this.reverse().find(t)},i.prototype.invokeMap=Yr(function(t,e){return"function"==typeof t?new i(this):this.map(function(n){return vr(n,t,e)})}),i.prototype.reject=function(t){return this.filter(cs(ro(t)))},i.prototype.slice=function(t,e){t=tu(t);var n=this;return n.__filtered__&&(t>0||e<0)?new i(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==it&&(e=tu(e),n=e<0?n.dropRight(-e):n.take(e-t)),n)},i.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},i.prototype.toArray=function(){return this.take(Mt)},Yn(i.prototype,function(t,n){var o=/^(?:filter|find|map|reject)|While$/.test(n),a=/^(?:head|last)$/.test(n),s=e[a?"take"+("last"==n?"Right":""):n],u=a||/^find/.test(n);s&&(e.prototype[n]=function(){var n=this.__wrapped__,c=a?[1]:arguments,l=n instanceof i,f=c[0],h=l||Hf(n),p=function(t){var n=s.apply(e,v([t],c));return a&&d?n[0]:n};h&&o&&"function"==typeof f&&1!=f.length&&(l=h=!1);var d=this.__chain__,_=!!this.__actions__.length,y=u&&!d,g=l&&!_;if(!u&&h){n=g?n:new i(this);var m=t.apply(n,c);return m.__actions__.push({func:Aa,args:[p],thisArg:it}),new r(m,d)}return y&&g?t.apply(this,c):(m=this.thru(p),y?a?m.value()[0]:m.value():m)})}),c(["pop","push","shift","sort","splice","unshift"],function(t){var n=Hc[t],r=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);e.prototype[t]=function(){var t=arguments;if(i&&!this.__chain__){var e=this.value();return n.apply(Hf(e)?e:[],t)}return this[r](function(e){return n.apply(Hf(e)?e:[],t)})}}),Yn(i.prototype,function(t,n){var r=e[n];if(r){var i=r.name+"",o=Il[i]||(Il[i]=[]);o.push({name:n,func:r})}}),Il[Ni(it,ft).name]=[{name:"wrapper",func:it}],i.prototype.clone=b,i.prototype.reverse=A,i.prototype.value=tt,e.prototype.at=Sf,e.prototype.chain=Ca,e.prototype.commit=Ra,e.prototype.next=ja,e.prototype.plant=Ia,e.prototype.reverse=La,e.prototype.toJSON=e.prototype.valueOf=e.prototype.value=Fa,e.prototype.first=e.prototype.head,ol&&(e.prototype[ol]=Ma),
e}var it,ot="4.15.0",at=200,st="Expected a function",ut="__lodash_hash_undefined__",ct="__lodash_placeholder__",lt=1,ft=2,ht=4,pt=8,dt=16,_t=32,vt=64,yt=128,gt=256,mt=512,bt=1,wt=2,xt=30,St="...",kt=150,Tt=16,Ot=1,Et=2,Pt=3,At=1/0,Ct=9007199254740991,Rt=1.7976931348623157e308,jt=NaN,Mt=4294967295,It=Mt-1,Lt=Mt>>>1,Ft=[["ary",yt],["bind",lt],["bindKey",ft],["curry",pt],["curryRight",dt],["flip",mt],["partial",_t],["partialRight",vt],["rearg",gt]],Dt="[object Arguments]",Nt="[object Array]",Bt="[object Boolean]",Ut="[object Date]",qt="[object Error]",zt="[object Function]",Ht="[object GeneratorFunction]",Vt="[object Map]",Wt="[object Number]",Yt="[object Object]",Gt="[object Promise]",Xt="[object RegExp]",$t="[object Set]",Qt="[object String]",Kt="[object Symbol]",Jt="[object WeakMap]",Zt="[object WeakSet]",te="[object ArrayBuffer]",ee="[object DataView]",ne="[object Float32Array]",re="[object Float64Array]",ie="[object Int8Array]",oe="[object Int16Array]",ae="[object Int32Array]",se="[object Uint8Array]",ue="[object Uint8ClampedArray]",ce="[object Uint16Array]",le="[object Uint32Array]",fe=/\b__p \+= '';/g,he=/\b(__p \+=) '' \+/g,pe=/(__e\(.*?\)|\b__t\)) \+\n'';/g,de=/&(?:amp|lt|gt|quot|#39|#96);/g,_e=/[&<>"'`]/g,ve=RegExp(de.source),ye=RegExp(_e.source),ge=/<%-([\s\S]+?)%>/g,me=/<%([\s\S]+?)%>/g,be=/<%=([\s\S]+?)%>/g,we=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,xe=/^\w*$/,Se=/^\./,ke=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Te=/[\\^$.*+?()[\]{}|]/g,Oe=RegExp(Te.source),Ee=/^\s+|\s+$/g,Pe=/^\s+/,Ae=/\s+$/,Ce=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Re=/\{\n\/\* \[wrapped with (.+)\] \*/,je=/,? & /,Me=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ie=/\\(\\)?/g,Le=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Fe=/\w*$/,De=/^0x/i,Ne=/^[-+]0x[0-9a-f]+$/i,Be=/^0b[01]+$/i,Ue=/^\[object .+?Constructor\]$/,qe=/^0o[0-7]+$/i,ze=/^(?:0|[1-9]\d*)$/,He=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ve=/($^)/,We=/['\n\r\u2028\u2029\\]/g,Ye="\\ud800-\\udfff",Ge="\\u0300-\\u036f\\ufe20-\\ufe23",Xe="\\u20d0-\\u20f0",$e="\\u2700-\\u27bf",Qe="a-z\\xdf-\\xf6\\xf8-\\xff",Ke="\\xac\\xb1\\xd7\\xf7",Je="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Ze="\\u2000-\\u206f",tn=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",en="A-Z\\xc0-\\xd6\\xd8-\\xde",nn="\\ufe0e\\ufe0f",rn=Ke+Je+Ze+tn,on="[']",an="["+Ye+"]",sn="["+rn+"]",un="["+Ge+Xe+"]",cn="\\d+",ln="["+$e+"]",fn="["+Qe+"]",hn="[^"+Ye+rn+cn+$e+Qe+en+"]",pn="\\ud83c[\\udffb-\\udfff]",dn="(?:"+un+"|"+pn+")",_n="[^"+Ye+"]",vn="(?:\\ud83c[\\udde6-\\uddff]){2}",yn="[\\ud800-\\udbff][\\udc00-\\udfff]",gn="["+en+"]",mn="\\u200d",bn="(?:"+fn+"|"+hn+")",wn="(?:"+gn+"|"+hn+")",xn="(?:"+on+"(?:d|ll|m|re|s|t|ve))?",Sn="(?:"+on+"(?:D|LL|M|RE|S|T|VE))?",kn=dn+"?",Tn="["+nn+"]?",On="(?:"+mn+"(?:"+[_n,vn,yn].join("|")+")"+Tn+kn+")*",En=Tn+kn+On,Pn="(?:"+[ln,vn,yn].join("|")+")"+En,An="(?:"+[_n+un+"?",un,vn,yn,an].join("|")+")",Cn=RegExp(on,"g"),Rn=RegExp(un,"g"),jn=RegExp(pn+"(?="+pn+")|"+An+En,"g"),Mn=RegExp([gn+"?"+fn+"+"+xn+"(?="+[sn,gn,"$"].join("|")+")",wn+"+"+Sn+"(?="+[sn,gn+bn,"$"].join("|")+")",gn+"?"+bn+"+"+xn,gn+"+"+Sn,cn,Pn].join("|"),"g"),In=RegExp("["+mn+Ye+Ge+Xe+nn+"]"),Ln=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Fn=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Dn=-1,Nn={};Nn[ne]=Nn[re]=Nn[ie]=Nn[oe]=Nn[ae]=Nn[se]=Nn[ue]=Nn[ce]=Nn[le]=!0,Nn[Dt]=Nn[Nt]=Nn[te]=Nn[Bt]=Nn[ee]=Nn[Ut]=Nn[qt]=Nn[zt]=Nn[Vt]=Nn[Wt]=Nn[Yt]=Nn[Xt]=Nn[$t]=Nn[Qt]=Nn[Jt]=!1;var Bn={};Bn[Dt]=Bn[Nt]=Bn[te]=Bn[ee]=Bn[Bt]=Bn[Ut]=Bn[ne]=Bn[re]=Bn[ie]=Bn[oe]=Bn[ae]=Bn[Vt]=Bn[Wt]=Bn[Yt]=Bn[Xt]=Bn[$t]=Bn[Qt]=Bn[Kt]=Bn[se]=Bn[ue]=Bn[ce]=Bn[le]=!0,Bn[qt]=Bn[zt]=Bn[Jt]=!1;var Un={"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"ss"},qn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},zn={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Hn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Vn=parseFloat,Wn=parseInt,Yn="object"==typeof t&&t&&t.Object===Object&&t,Gn="object"==typeof self&&self&&self.Object===Object&&self,Xn=Yn||Gn||Function("return this")(),$n="object"==typeof e&&e&&!e.nodeType&&e,Qn=$n&&"object"==typeof r&&r&&!r.nodeType&&r,Kn=Qn&&Qn.exports===$n,Jn=Kn&&Yn.process,Zn=function(){try{return Jn&&Jn.binding("util")}catch(t){}}(),tr=Zn&&Zn.isArrayBuffer,er=Zn&&Zn.isDate,nr=Zn&&Zn.isMap,rr=Zn&&Zn.isRegExp,ir=Zn&&Zn.isSet,or=Zn&&Zn.isTypedArray,ar=P("length"),sr=A(Un),ur=A(qn),cr=A(zn),lr=rt();Xn._=lr,i=function(){return lr}.call(e,n,e,r),!(i!==it&&(r.exports=i))}).call(this)}).call(e,n(12),n(183)(t))},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={verbose:!0,maxStoreLocations:10,personalRadius:i,personalMovement:20},r={dummySrc:["assets/audio/dummy.mp3"],useVolumeControl:!0,partialPlay:!1,noVisualMap:!0,noGeo:!0,entropyCut:!0,maxSpeakingTime:18,minSpeakingTime:5,minInterludeTime:3,maxInterludeTime:8,maxSoundFadeInTime:1e3,baseSoundFadeOut:1,effectSpeakingOverlapMax:3,maxAmbientTime:10,minAmbientTime:2,maxMusicTime:6,minMusicTime:2,partialPlayOnBackground:!1,transitionRampDur:8,map:n},i=10,o=30,a={speaking:{id:"speaking",options:{sound:{fadeDownBeforeEnding:.4,howler:{volume:1}}}},effects:{id:"effects",options:{sound:{fadeDownBeforeEnding:.4,howler:{volume:.1}}}},music:{id:"music",options:{sound:{fadeDownBeforeEnding:.4,howler:{volume:.07}}}}},s=3,u=60,c=.02,l=.99,f=8,h="https://storage.googleapis.com/samrad-alhambra/assets/";e.CONFIG=r,e.SOUND_LAYERS_DATA=a,e.ASSET_URL=h,e.MAP_CONFIG=n,e.PERSONAL_RADIUS=i,e.SOUND_LIMIT_UPDATE=o,e.RAMP_DOWN_DUR=f,e.MIN_NEAR_FACTOR=c,e.MAX_NEAR_FACTOR=l,e.PLAYLIST_LENGTH=u,e.PLAYLIST_PLACES_MAX=s},,function(t,e,n){"use strict";var r=function(t,e,n,r,i,o,a,s){if(void 0===e)throw new Error("invariant requires an error message argument");if(!t){var u;if(void 0===e)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,a,s],l=0;u=new Error(e.replace(/%s/g,function(){return c[l++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}};t.exports=r},,,function(t,e,n){"use strict";var r=function(){};r=function(t,e,n){var r=arguments.length;n=new Array(r>2?r-2:0);for(var i=2;i<r;i++)n[i-2]=arguments[i];if(void 0===e)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(e.length<10||/^[s\W]*$/.test(e))throw new Error("The warning format should be able to uniquely identify this warning. Please, use a more descriptive format than: "+e);if(!t){var o=0,a="Warning: "+e.replace(/%s/g,function(){return n[o++]});"undefined"!=typeof console&&console.error(a);try{throw new Error(a)}catch(s){}}},t.exports=r},,,,,function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={getRandom:function(t){var e=void 0;if(t.length){for(;!e;){var n=Math.floor(Math.random()*t.length);e=t[n]}return e}},shuffle:function(){for(var t=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],e=t.length-1;e>0;e--){var n=Math.floor(Math.random()*(e+1)),r=t[e];t[e]=t[n],t[n]=r}return t},clamp:function(t,e,n){return t<e?e:t>n?n:t},resizeEl:function(t,e,n,r,i,o){var a,s,u,c=n/r,l=i/o;a=c>l?n/i:r/o,c===l?s=u=0:(s=.5*(n-i*a)/a,u=.5*(r-o*a)/a),s=Number(s.toFixed(1)),u=Number(u.toFixed(1)),t.css("transform","scale3d("+a+", "+a+", 1) translate3d("+s+"px,"+u+"px,0)"),t.css("transform-origin","0% 0% 0px")}};e.default=n},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.LOAD_ALHAMBRA="LOAD_ALHAMBRA",e.LOAD_ALHAMBRA_START="LOAD_ALHAMBRA_START",e.LOAD_ALHAMBRA_SUCCESS="LOAD_ALHAMBRA_SUCCESS",e.LOAD_ALHAMBRA_ERROR="LOAD_ALHAMBRA_ERROR",e.LOAD_BODYMOVIN="LOAD_BODYMOVIN",e.LOAD_BODYMOVIN_START="LOAD_BODYMOVIN_START",e.LOAD_BODYMOVIN_SUCCESS="LOAD_BODYMOVIN_SUCCESS",e.LOAD_BODYMOVIN_ERROR="LOAD_BODYMOVIN_ERROR",e.LOAD_SEQUENCE="LOAD_SEQUENCE",e.LOAD_SEQUENCE_START="LOAD_SEQUENCE_START",e.LOAD_SEQUENCE_SUCCESS="LOAD_SEQUENCE_SUCCESS",e.LOAD_SEQUENCE_ERROR="LOAD_SEQUENCE_ERROR",e.TOUR_LOCATION_CHANGED="TOUR_LOCATION_CHANGED",e.TOUR_SPEAKING_CHANGED="TOUR_SPEAKING_CHANGED"},,function(t,e){function n(){f&&c&&(f=!1,c.length?l=c.concat(l):h=-1,l.length&&r())}function r(){if(!f){var t=a(n);f=!0;for(var e=l.length;e;){for(c=l,l=[];++h<e;)c&&c[h].run();h=-1,e=l.length}c=null,f=!1,s(t)}}function i(t,e){this.fun=t,this.array=e}function o(){}var a,s,u=t.exports={};!function(){try{a=setTimeout}catch(t){a=function(){throw new Error("setTimeout is not defined")}}try{s=clearTimeout}catch(t){s=function(){throw new Error("clearTimeout is not defined")}}}();var c,l=[],f=!1,h=-1;u.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new i(t,e)),1!==l.length||f||a(r,0)},i.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=o,u.addListener=o,u.once=o,u.off=o,u.removeListener=o,u.removeAllListeners=o,u.emit=o,u.binding=function(t){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(t){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){return null==t||p.default.isValidElement(t)}function o(t){return i(t)||Array.isArray(t)&&t.every(i)}function a(t,e,n){t=t||"UnknownComponent";for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=e[r](n,r,t);i instanceof Error&&(0,_.default)(!1,i.message)}}function s(t,e){return f({},t,e)}function u(t){var e=t.type,n=s(e.defaultProps,t.props);if(e.propTypes&&a(e.displayName||e.name,e.propTypes,n),n.children){var r=c(n.children,n);r.length&&(n.childRoutes=r),delete n.children}return n}function c(t,e){var n=[];return p.default.Children.forEach(t,function(t){if(p.default.isValidElement(t))if(t.type.createRouteFromReactElement){var r=t.type.createRouteFromReactElement(t,e);r&&n.push(r)}else n.push(u(t))}),n}function l(t){return o(t)?t=c(t):t&&!Array.isArray(t)&&(t=[t]),t}e.__esModule=!0;var f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.isReactChildren=o,e.createRouteFromReactElement=u,e.createRoutesFromReactChildren=c,e.createRoutes=l;var h=n(2),p=r(h),d=n(7),_=r(d)},,,function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0,e.connect=e.Provider=void 0;var i=n(287),o=r(i),a=n(288),s=r(a);e.Provider=o.default,e.connect=s.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0,e.createMemoryHistory=e.hashHistory=e.browserHistory=e.applyRouterMiddleware=e.formatPattern=e.useRouterHistory=e.match=e.routerShape=e.locationShape=e.PropTypes=e.RoutingContext=e.RouterContext=e.createRoutes=e.useRoutes=e.RouteContext=e.Lifecycle=e.History=e.Route=e.Redirect=e.IndexRoute=e.IndexRedirect=e.withRouter=e.IndexLink=e.Link=e.Router=void 0;var i=n(23);Object.defineProperty(e,"createRoutes",{enumerable:!0,get:function(){return i.createRoutes}});var o=n(83);Object.defineProperty(e,"locationShape",{enumerable:!0,get:function(){return o.locationShape}}),Object.defineProperty(e,"routerShape",{enumerable:!0,get:function(){return o.routerShape}});var a=n(40);Object.defineProperty(e,"formatPattern",{enumerable:!0,get:function(){return a.formatPattern}});var s=n(300),u=r(s),c=n(136),l=r(c),f=n(294),h=r(f),p=n(313),d=r(p),_=n(295),v=r(_),y=n(296),g=r(y),m=n(137),b=r(m),w=n(298),x=r(w),S=n(293),k=r(S),T=n(297),O=r(T),E=n(299),P=r(E),A=n(312),C=r(A),R=n(58),j=r(R),M=n(301),I=r(M),L=r(o),F=n(310),D=r(F),N=n(142),B=r(N),U=n(303),q=r(U),z=n(304),H=r(z),V=n(308),W=r(V),Y=n(139),G=r(Y);e.Router=u.default,e.Link=l.default,e.IndexLink=h.default,e.withRouter=d.default,e.IndexRedirect=v.default,e.IndexRoute=g.default,e.Redirect=b.default,e.Route=x.default,e.History=k.default,e.Lifecycle=O.default,e.RouteContext=P.default,e.useRoutes=C.default,e.RouterContext=j.default,e.RoutingContext=I.default,e.PropTypes=L.default,e.match=D.default,e.useRouterHistory=B.default,e.applyRouterMiddleware=q.default,e.browserHistory=H.default,e.hashHistory=W.default,e.createMemoryHistory=G.default},function(t,e,n){"use strict";(function(t,r){function i(){try{var t=new Uint8Array(1);return t.foo=function(){return 42},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(e){return!1}}function o(){return t.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(e,n){if(o()<n)throw new RangeError("Invalid typed array length");return t.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(n),e.__proto__=t.prototype):(null===e&&(e=new t(n)),e.length=n),e}function t(e,n,r){if(!(t.TYPED_ARRAY_SUPPORT||this instanceof t))return new t(e,n,r);if("number"==typeof e){if("string"==typeof n)throw new Error("If encoding is specified then the first argument must be a string");return l(this,e)}return s(this,e,n,r)}function s(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?p(t,e,n,r):"string"==typeof e?f(t,e,n):d(t,e)}function u(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number')}function c(t,e,n,r){return u(e),e<=0?a(t,e):void 0!==n?"string"==typeof r?a(t,e).fill(n,r):a(t,e).fill(n):a(t,e)}function l(e,n){if(u(n),e=a(e,n<0?0:0|_(n)),!t.TYPED_ARRAY_SUPPORT)for(var r=0;r<n;r++)e[r]=0;return e}function f(e,n,r){if("string"==typeof r&&""!==r||(r="utf8"),!t.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var i=0|y(n,r);return e=a(e,i),e.write(n,r),e}function h(t,e){var n=0|_(e.length);t=a(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function p(e,n,r,i){if(n.byteLength,r<0||n.byteLength<r)throw new RangeError("'offset' is out of bounds");if(n.byteLength<r+(i||0))throw new RangeError("'length' is out of bounds");return n=void 0===i?new Uint8Array(n,r):new Uint8Array(n,r,i),t.TYPED_ARRAY_SUPPORT?(e=n,e.__proto__=t.prototype):e=h(e,n),e}function d(e,n){if(t.isBuffer(n)){var r=0|_(n.length);return e=a(e,r),0===e.length?e:(n.copy(e,0,0,r),e)}if(n){if("undefined"!=typeof ArrayBuffer&&n.buffer instanceof ArrayBuffer||"length"in n)return"number"!=typeof n.length||$(n.length)?a(e,0):h(e,n);if("Buffer"===n.type&&J(n.data))return h(e,n.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function _(t){if(t>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|t}function v(e){return+e!=e&&(e=0),t.alloc(+e)}function y(e,n){if(t.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var i=!1;;)switch(n){case"ascii":case"binary":case"raw":case"raws":return r;case"utf8":case"utf-8":case void 0:return V(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return G(e).length;default:if(i)return V(e).length;n=(""+n).toLowerCase(),i=!0}}function g(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,e>>>=0,n<=e)return"";for(t||(t="utf8");;)switch(t){case"hex":return j(this,e,n);case"utf8":case"utf-8":return P(this,e,n);case"ascii":return C(this,e,n);case"binary":return R(this,e,n);case"base64":return E(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function m(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function b(t,e,n,r){function i(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}var o=1,a=t.length,s=e.length;if(void 0!==r&&(r=String(r).toLowerCase(),"ucs2"===r||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;o=2,a/=2,s/=2,n/=2}for(var u=-1,c=0;n+c<a;c++)if(i(t,n+c)===i(e,u===-1?0:c-u)){if(u===-1&&(u=c),c-u+1===s)return(n+u)*o}else u!==-1&&(c-=c-u),u=-1;return-1}function w(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r),r>i&&(r=i)):r=i;var o=e.length;if(o%2!==0)throw new Error("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;a++){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[n+a]=s}return a}function x(t,e,n,r){return X(V(e,t.length-n),t,n,r)}function S(t,e,n,r){return X(W(e),t,n,r)}function k(t,e,n,r){return S(t,e,n,r)}function T(t,e,n,r){return X(G(e),t,n,r)}function O(t,e,n,r){return X(Y(e,t.length-n),t,n,r)}function E(t,e,n){return 0===e&&n===t.length?Q.fromByteArray(t):Q.fromByteArray(t.slice(e,n))}function P(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o=t[i],a=null,s=o>239?4:o>223?3:o>191?2:1;if(i+s<=n){var u,c,l,f;switch(s){case 1:o<128&&(a=o);break;case 2:u=t[i+1],128===(192&u)&&(f=(31&o)<<6|63&u,f>127&&(a=f));break;case 3:u=t[i+1],c=t[i+2],128===(192&u)&&128===(192&c)&&(f=(15&o)<<12|(63&u)<<6|63&c,f>2047&&(f<55296||f>57343)&&(a=f));break;case 4:u=t[i+1],c=t[i+2],l=t[i+3],128===(192&u)&&128===(192&c)&&128===(192&l)&&(f=(15&o)<<18|(63&u)<<12|(63&c)<<6|63&l,f>65535&&f<1114112&&(a=f))}}null===a?(a=65533,s=1):a>65535&&(a-=65536,r.push(a>>>10&1023|55296),a=56320|1023&a),r.push(a),i+=s}return A(r)}function A(t){var e=t.length;if(e<=Z)return String.fromCharCode.apply(String,t);for(var n="",r=0;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=Z));return n}function C(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;i++)r+=String.fromCharCode(127&t[i]);return r}function R(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;i++)r+=String.fromCharCode(t[i]);return r}function j(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;o++)i+=H(t[o]);return i}function M(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function I(t,e,n){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function L(e,n,r,i,o,a){if(!t.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(n>o||n<a)throw new RangeError('"value" argument is out of bounds');if(r+i>e.length)throw new RangeError("Index out of range")}function F(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;i++)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function D(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;i++)t[n+i]=e>>>8*(r?i:3-i)&255}function N(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function B(t,e,n,r,i){return i||N(t,e,n,4,3.4028234663852886e38,-3.4028234663852886e38),K.write(t,e,n,r,23,4),n+4}function U(t,e,n,r,i){return i||N(t,e,n,8,1.7976931348623157e308,-1.7976931348623157e308),K.write(t,e,n,r,52,8),n+8}function q(t){if(t=z(t).replace(tt,""),t.length<2)return"";for(;t.length%4!==0;)t+="=";return t}function z(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function H(t){return t<16?"0"+t.toString(16):t.toString(16)}function V(t,e){e=e||1/0;for(var n,r=t.length,i=null,o=[],a=0;a<r;a++){if(n=t.charCodeAt(a),n>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=(i-55296<<10|n-56320)+65536}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function W(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e}function Y(t,e){for(var n,r,i,o=[],a=0;a<t.length&&!((e-=2)<0);a++)n=t.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}function G(t){return Q.toByteArray(q(t))}function X(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);i++)e[i+n]=t[i];return i}function $(t){return t!==t}var Q=n(251),K=n(281),J=n(131);e.Buffer=t,e.SlowBuffer=v,e.INSPECT_MAX_BYTES=50,t.TYPED_ARRAY_SUPPORT=void 0!==r.TYPED_ARRAY_SUPPORT?r.TYPED_ARRAY_SUPPORT:i(),e.kMaxLength=o(),t.poolSize=8192,t._augment=function(e){return e.__proto__=t.prototype,e},t.from=function(t,e,n){return s(null,t,e,n)},t.TYPED_ARRAY_SUPPORT&&(t.prototype.__proto__=Uint8Array.prototype,t.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&t[Symbol.species]===t&&Object.defineProperty(t,Symbol.species,{value:null,configurable:!0})),t.alloc=function(t,e,n){return c(null,t,e,n)},t.allocUnsafe=function(t){return l(null,t)},t.allocUnsafeSlow=function(t){return l(null,t)},t.isBuffer=function(t){return!(null==t||!t._isBuffer)},t.compare=function(e,n){if(!t.isBuffer(e)||!t.isBuffer(n))throw new TypeError("Arguments must be Buffers");if(e===n)return 0;for(var r=e.length,i=n.length,o=0,a=Math.min(r,i);o<a;++o)if(e[o]!==n[o]){r=e[o],i=n[o];break}return r<i?-1:i<r?1:0},t.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},t.concat=function(e,n){if(!J(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return t.alloc(0);var r;if(void 0===n)for(n=0,r=0;r<e.length;r++)n+=e[r].length;var i=t.allocUnsafe(n),o=0;for(r=0;r<e.length;r++){var a=e[r];if(!t.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(i,o),o+=a.length}return i},t.byteLength=y,t.prototype._isBuffer=!0,t.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)m(this,e,e+1);return this},t.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)m(this,e,e+3),m(this,e+1,e+2);return this},t.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?P(this,0,t):g.apply(this,arguments)},t.prototype.equals=function(e){if(!t.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===t.compare(this,e)},t.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},t.prototype.compare=function(e,n,r,i,o){if(!t.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===n&&(n=0),void 0===r&&(r=e?e.length:0),void 0===i&&(i=0),void 0===o&&(o=this.length),n<0||r>e.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&n>=r)return 0;if(i>=o)return-1;if(n>=r)return 1;if(n>>>=0,r>>>=0,i>>>=0,o>>>=0,this===e)return 0;for(var a=o-i,s=r-n,u=Math.min(a,s),c=this.slice(i,o),l=e.slice(n,r),f=0;f<u;++f)if(c[f]!==l[f]){a=c[f],s=l[f];break}return a<s?-1:s<a?1:0},t.prototype.indexOf=function(e,n,r){if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n>>=0,0===this.length)return-1;if(n>=this.length)return-1;if(n<0&&(n=Math.max(this.length+n,0)),"string"==typeof e&&(e=t.from(e,r)),t.isBuffer(e))return 0===e.length?-1:b(this,e,n,r);if("number"==typeof e)return t.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,e,n):b(this,[e],n,r);throw new TypeError("val must be string, number or Buffer")},t.prototype.includes=function(t,e,n){return this.indexOf(t,e,n)!==-1},t.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e=0|e,isFinite(n)?(n=0|n,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return w(this,t,e,n);case"utf8":case"utf-8":return x(this,t,e,n);case"ascii":return S(this,t,e,n);case"binary":return k(this,t,e,n);case"base64":return T(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},t.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Z=4096;t.prototype.slice=function(e,n){var r=this.length;e=~~e,n=void 0===n?r:~~n,e<0?(e+=r,e<0&&(e=0)):e>r&&(e=r),n<0?(n+=r,n<0&&(n=0)):n>r&&(n=r),n<e&&(n=e);var i;if(t.TYPED_ARRAY_SUPPORT)i=this.subarray(e,n),i.__proto__=t.prototype;else{var o=n-e;i=new t(o,(void 0));for(var a=0;a<o;a++)i[a]=this[a+e]}return i},t.prototype.readUIntLE=function(t,e,n){t=0|t,e=0|e,n||I(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},t.prototype.readUIntBE=function(t,e,n){t=0|t,e=0|e,n||I(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},t.prototype.readUInt8=function(t,e){return e||I(t,1,this.length),this[t]},t.prototype.readUInt16LE=function(t,e){return e||I(t,2,this.length),this[t]|this[t+1]<<8},t.prototype.readUInt16BE=function(t,e){return e||I(t,2,this.length),this[t]<<8|this[t+1]},t.prototype.readUInt32LE=function(t,e){return e||I(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},t.prototype.readUInt32BE=function(t,e){return e||I(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},t.prototype.readIntLE=function(t,e,n){t=0|t,e=0|e,n||I(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*e)),r},t.prototype.readIntBE=function(t,e,n){t=0|t,e=0|e,n||I(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*e)),o},t.prototype.readInt8=function(t,e){return e||I(t,1,this.length),128&this[t]?(255-this[t]+1)*-1:this[t]},t.prototype.readInt16LE=function(t,e){e||I(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},t.prototype.readInt16BE=function(t,e){e||I(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},t.prototype.readInt32LE=function(t,e){return e||I(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},t.prototype.readInt32BE=function(t,e){return e||I(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},t.prototype.readFloatLE=function(t,e){return e||I(t,4,this.length),K.read(this,t,!0,23,4)},t.prototype.readFloatBE=function(t,e){return e||I(t,4,this.length),K.read(this,t,!1,23,4)},t.prototype.readDoubleLE=function(t,e){return e||I(t,8,this.length),K.read(this,t,!0,52,8)},t.prototype.readDoubleBE=function(t,e){return e||I(t,8,this.length),K.read(this,t,!1,52,8)},t.prototype.writeUIntLE=function(t,e,n,r){if(t=+t,e=0|e,n=0|n,!r){var i=Math.pow(2,8*n)-1;L(this,t,e,n,i,0)}var o=1,a=0;for(this[e]=255&t;++a<n&&(o*=256);)this[e+a]=t/o&255;return e+n},t.prototype.writeUIntBE=function(t,e,n,r){if(t=+t,e=0|e,n=0|n,!r){var i=Math.pow(2,8*n)-1;L(this,t,e,n,i,0)}var o=n-1,a=1;for(this[e+o]=255&t;--o>=0&&(a*=256);)this[e+o]=t/a&255;return e+n},t.prototype.writeUInt8=function(e,n,r){return e=+e,n=0|n,r||L(this,e,n,1,255,0),t.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[n]=255&e,n+1},t.prototype.writeUInt16LE=function(e,n,r){return e=+e,n=0|n,r||L(this,e,n,2,65535,0),t.TYPED_ARRAY_SUPPORT?(this[n]=255&e,this[n+1]=e>>>8):F(this,e,n,!0),n+2},t.prototype.writeUInt16BE=function(e,n,r){return e=+e,n=0|n,r||L(this,e,n,2,65535,0),t.TYPED_ARRAY_SUPPORT?(this[n]=e>>>8,this[n+1]=255&e):F(this,e,n,!1),n+2},t.prototype.writeUInt32LE=function(e,n,r){return e=+e,n=0|n,r||L(this,e,n,4,4294967295,0),t.TYPED_ARRAY_SUPPORT?(this[n+3]=e>>>24,this[n+2]=e>>>16,this[n+1]=e>>>8,this[n]=255&e):D(this,e,n,!0),n+4},t.prototype.writeUInt32BE=function(e,n,r){return e=+e,n=0|n,r||L(this,e,n,4,4294967295,0),t.TYPED_ARRAY_SUPPORT?(this[n]=e>>>24,this[n+1]=e>>>16,this[n+2]=e>>>8,this[n+3]=255&e):D(this,e,n,!1),n+4},t.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e=0|e,!r){var i=Math.pow(2,8*n-1);L(this,t,e,n,i-1,-i)}var o=0,a=1,s=0;for(this[e]=255&t;++o<n&&(a*=256);)t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},t.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e=0|e,!r){var i=Math.pow(2,8*n-1);L(this,t,e,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[e+o]=255&t;--o>=0&&(a*=256);)t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},t.prototype.writeInt8=function(e,n,r){return e=+e,n=0|n,r||L(this,e,n,1,127,-128),t.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[n]=255&e,n+1},t.prototype.writeInt16LE=function(e,n,r){return e=+e,n=0|n,r||L(this,e,n,2,32767,-32768),t.TYPED_ARRAY_SUPPORT?(this[n]=255&e,this[n+1]=e>>>8):F(this,e,n,!0),n+2},t.prototype.writeInt16BE=function(e,n,r){return e=+e,n=0|n,r||L(this,e,n,2,32767,-32768),t.TYPED_ARRAY_SUPPORT?(this[n]=e>>>8,this[n+1]=255&e):F(this,e,n,!1),n+2},t.prototype.writeInt32LE=function(e,n,r){return e=+e,n=0|n,r||L(this,e,n,4,2147483647,-2147483648),t.TYPED_ARRAY_SUPPORT?(this[n]=255&e,this[n+1]=e>>>8,this[n+2]=e>>>16,this[n+3]=e>>>24):D(this,e,n,!0),n+4},t.prototype.writeInt32BE=function(e,n,r){return e=+e,n=0|n,r||L(this,e,n,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),t.TYPED_ARRAY_SUPPORT?(this[n]=e>>>24,this[n+1]=e>>>16,this[n+2]=e>>>8,this[n+3]=255&e):D(this,e,n,!1),n+4},t.prototype.writeFloatLE=function(t,e,n){return B(this,t,e,!0,n)},t.prototype.writeFloatBE=function(t,e,n){return B(this,t,e,!1,n)},t.prototype.writeDoubleLE=function(t,e,n){return U(this,t,e,!0,n)},t.prototype.writeDoubleBE=function(t,e,n){return U(this,t,e,!1,n);
},t.prototype.copy=function(e,n,r,i){if(r||(r=0),i||0===i||(i=this.length),n>=e.length&&(n=e.length),n||(n=0),i>0&&i<r&&(i=r),i===r)return 0;if(0===e.length||0===this.length)return 0;if(n<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-n<i-r&&(i=e.length-n+r);var o,a=i-r;if(this===e&&r<n&&n<i)for(o=a-1;o>=0;o--)e[o+n]=this[o+r];else if(a<1e3||!t.TYPED_ARRAY_SUPPORT)for(o=0;o<a;o++)e[o+n]=this[o+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+a),n);return a},t.prototype.fill=function(e,n,r,i){if("string"==typeof e){if("string"==typeof n?(i=n,n=0,r=this.length):"string"==typeof r&&(i=r,r=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!t.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof e&&(e=255&e);if(n<0||this.length<n||this.length<r)throw new RangeError("Out of range index");if(r<=n)return this;n>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0);var a;if("number"==typeof e)for(a=n;a<r;a++)this[a]=e;else{var s=t.isBuffer(e)?e:V(new t(e,i).toString()),u=s.length;for(a=0;a<r-n;a++)this[a+n]=s[a%u]}return this};var tt=/[^+\/0-9A-Za-z-_]/g}).call(e,n(28).Buffer,n(12))},function(t,e){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(t){return"function"==typeof t}function i(t){return"number"==typeof t}function o(t){return"object"==typeof t&&null!==t}function a(t){return void 0===t}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(t){if(!i(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},n.prototype.emit=function(t){var e,n,i,s,u,c;if(this._events||(this._events={}),"error"===t&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;var l=new Error('Uncaught, unspecified "error" event. ('+e+")");throw l.context=e,l}if(n=this._events[t],a(n))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(o(n))for(s=Array.prototype.slice.call(arguments,1),c=n.slice(),i=c.length,u=0;u<i;u++)c[u].apply(this,s);return!0},n.prototype.addListener=function(t,e){var i;if(!r(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,r(e.listener)?e.listener:e),this._events[t]?o(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,o(this._events[t])&&!this._events[t].warned&&(i=a(this._maxListeners)?n.defaultMaxListeners:this._maxListeners,i&&i>0&&this._events[t].length>i&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace())),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(t,e){function n(){this.removeListener(t,n),i||(i=!0,e.apply(this,arguments))}if(!r(e))throw TypeError("listener must be a function");var i=!1;return n.listener=e,this.on(t,n),this},n.prototype.removeListener=function(t,e){var n,i,a,s;if(!r(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(n=this._events[t],a=n.length,i=-1,n===e||r(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(o(n)){for(s=a;s-- >0;)if(n[s]===e||n[s].listener&&n[s].listener===e){i=s;break}if(i<0)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},n.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[t],r(n))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},n.prototype.listeners=function(t){var e;return e=this._events&&this._events[t]?r(this._events[t])?[this._events[t]]:this._events[t].slice():[]},n.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(r(e))return 1;if(e)return e.length}return 0},n.listenerCount=function(t,e){return t.listenerCount(e)}},function(t,e){"use strict";e.__esModule=!0;var n="PUSH";e.PUSH=n;var r="REPLACE";e.REPLACE=r;var i="POP";e.POP=i,e.default={PUSH:n,REPLACE:r,POP:i}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){var e=t.match(/^https?:\/\/[^\/]*/);return null==e?t:t.substring(e[0].length)}function o(t){var e=i(t),n="",r="";s.default(t===e,'A path must be pathname + search + hash only, not a fully qualified URL like "%s"',t);var o=e.indexOf("#");o!==-1&&(r=e.substring(o),e=e.substring(0,o));var a=e.indexOf("?");return a!==-1&&(n=e.substring(a),e=e.substring(0,a)),""===e&&(e="/"),{pathname:e,search:n,hash:r}}e.__esModule=!0,e.extractPath=i,e.parsePath=o;var a=n(14),s=r(a)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){return function(){return a.default(!1,"[history] "+e),t.apply(this,arguments)}}e.__esModule=!0;var o=n(14),a=r(o);e.default=i,t.exports=e.default},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){"use strict";function r(t,e,n){if(t[e])return new Error("<"+n+'> should not have a "'+e+'" prop')}e.__esModule=!0,e.routes=e.route=e.components=e.component=e.history=void 0,e.falsy=r;var i=n(2),o=i.PropTypes.func,a=i.PropTypes.object,s=i.PropTypes.arrayOf,u=i.PropTypes.oneOfType,c=i.PropTypes.element,l=i.PropTypes.shape,f=i.PropTypes.string,h=(e.history=l({listen:o.isRequired,push:o.isRequired,replace:o.isRequired,go:o.isRequired,goBack:o.isRequired,goForward:o.isRequired}),e.component=u([o,f])),p=(e.components=u([h,a]),e.route=u([a,c]));e.routes=u([p,s(p)])},,function(t,e,n){"use strict";function r(t){return this instanceof r?(c.call(this,t),l.call(this,t),t&&t.readable===!1&&(this.readable=!1),t&&t.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,t&&t.allowHalfOpen===!1&&(this.allowHalfOpen=!1),void this.once("end",i)):new r(t)}function i(){this.allowHalfOpen||this._writableState.ended||s(o,this)}function o(t){t.end()}var a=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};t.exports=r;var s=n(81),u=n(45);u.inherits=n(33);var c=n(177),l=n(105);u.inherits(r,c);for(var f=a(l.prototype),h=0;h<f.length;h++){var p=f[h];r.prototype[p]||(r.prototype[p]=l.prototype[p])}},,function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(9),s=n(5),u=r(s),c=n(233),l=(r(c),n(218)),f=(r(l),n(222)),h=(r(f),n(221)),p=r(h),d="out",_="in",v=function(){var t=function(){function t(){var e=this;i(this,t),this._nearFactor=0,u.default.on("map:entering",function(t){e.state=_,u.default.emit("state:changed",e.state),u.default.emit("log:log","State: "+e.state)}),u.default.on("map:leaving",function(){e.state=d,u.default.emit("state:changed",e.state),u.default.emit("log:log","State: "+e.state)}),this.state=d,u.default.emit("state:changed",d),this._metronome=new p.default(a.CONFIG.dummySrc,{tempo:120,beatsPerBar:4,loopLength:4})}return o(t,[{key:"init",value:function(){u.default.emit("state:init")}},{key:"nearFactor",set:function(t){this._nearFactor=t},get:function(){return this._nearFactor}}]),t}(),e=new t;return e}();e.default=v},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){return l.stringify(t).replace(/%20/g,"+")}function o(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e)&&"object"==typeof t[e]&&!Array.isArray(t[e])&&null!==t[e])return!0;return!1}function a(t){return function(){function e(t){if(null==t.query){var e=t.search;t.query=k(e.substring(1)),t[v]={search:e,searchBase:""}}return t}function n(t,e){var n,r=t[v],a=e?S(e):"";if(!r&&!a)return t;c.default(S!==i||!o(e),"useQueries does not stringify nested query objects by default; use a custom stringifyQuery function"),"string"==typeof t&&(t=p.parsePath(t));var u=void 0;u=r&&t.search===r.search?r.searchBase:t.search||"";var l=u;return a&&(l+=(l?"&":"?")+a),s({},t,(n={search:l},n[v]={search:l,searchBase:u},n))}function r(t){return x.listenBefore(function(n,r){h.default(t,e(n),r)})}function a(t){return x.listen(function(n){t(e(n))})}function u(t){x.push(n(t,t.query))}function l(t){x.replace(n(t,t.query))}function f(t,e){return c.default(!e,"the query argument to createPath is deprecated; use a location descriptor instead"),x.createPath(n(t,e||t.query))}function d(t,e){return c.default(!e,"the query argument to createHref is deprecated; use a location descriptor instead"),x.createHref(n(t,e||t.query))}function g(t){for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];var a=x.createLocation.apply(x,[n(t,t.query)].concat(i));return t.query&&(a.query=t.query),e(a)}function m(t,e,n){"string"==typeof e&&(e=p.parsePath(e)),u(s({state:t},e,{query:n}))}function b(t,e,n){"string"==typeof e&&(e=p.parsePath(e)),l(s({state:t},e,{query:n}))}var w=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],x=t(w),S=w.stringifyQuery,k=w.parseQueryString;return"function"!=typeof S&&(S=i),"function"!=typeof k&&(k=y),s({},x,{listenBefore:r,listen:a,push:u,replace:l,createPath:f,createHref:d,createLocation:g,pushState:_.default(m,"pushState is deprecated; use push instead"),replaceState:_.default(b,"replaceState is deprecated; use replace instead")})}}e.__esModule=!0;var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=n(14),c=r(u),l=n(280),f=n(78),h=r(f),p=n(31),d=n(32),_=r(d),v="$searchBase",y=l.parse;e.default=a,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function o(t){for(var e="",n=[],r=[],o=void 0,a=0,s=/:([a-zA-Z_$][a-zA-Z0-9_$]*)|\*\*|\*|\(|\)/g;o=s.exec(t);)o.index!==a&&(r.push(t.slice(a,o.index)),e+=i(t.slice(a,o.index))),o[1]?(e+="([^/]+)",n.push(o[1])):"**"===o[0]?(e+="(.*)",n.push("splat")):"*"===o[0]?(e+="(.*?)",n.push("splat")):"("===o[0]?e+="(?:":")"===o[0]&&(e+=")?"),r.push(o[0]),a=s.lastIndex;return a!==t.length&&(r.push(t.slice(a,t.length)),e+=i(t.slice(a,t.length))),{pattern:t,regexpSource:e,paramNames:n,tokens:r}}function a(t){return t in p||(p[t]=o(t)),p[t]}function s(t,e){"/"!==t.charAt(0)&&(t="/"+t);var n=a(t),r=n.regexpSource,i=n.paramNames,o=n.tokens;"/"!==t.charAt(t.length-1)&&(r+="/?"),"*"===o[o.length-1]&&(r+="$");var s=e.match(new RegExp("^"+r,"i"));if(null==s)return null;var u=s[0],c=e.substr(u.length);if(c){if("/"!==u.charAt(u.length-1))return null;c="/"+c}return{remainingPathname:c,paramNames:i,paramValues:s.slice(1).map(function(t){return t&&decodeURIComponent(t)})}}function u(t){return a(t).paramNames}function c(t,e){var n=s(t,e);if(!n)return null;var r=n.paramNames,i=n.paramValues,o={};return r.forEach(function(t,e){o[t]=i[e]}),o}function l(t,e){e=e||{};for(var n=a(t),r=n.tokens,i=0,o="",s=0,u=void 0,c=void 0,l=void 0,f=0,p=r.length;f<p;++f)u=r[f],"*"===u||"**"===u?(l=Array.isArray(e.splat)?e.splat[s++]:e.splat,null!=l||i>0?void 0:(0,h.default)(!1,'Missing splat #%s for path "%s"',s,t),null!=l&&(o+=encodeURI(l))):"("===u?i+=1:")"===u?i-=1:":"===u.charAt(0)?(c=u.substring(1),l=e[c],null!=l||i>0?void 0:(0,h.default)(!1,'Missing "%s" parameter for path "%s"',c,t),null!=l&&(o+=encodeURIComponent(l))):o+=u;return o.replace(/\/+/g,"/")}e.__esModule=!0,e.compilePattern=a,e.matchPattern=s,e.getParamNames=u,e.getParams=c,e.formatPattern=l;var f=n(11),h=r(f),p={}},,,function(t,e,n){var r;/** @license
	 * JS Signals <http://millermedeiros.github.com/js-signals/>
	 * Released under the MIT license
	 * Author: Miller Medeiros
	 * Version: 1.0.0 - Build: 268 (2012/11/29 05:48 PM)
	 */
!function(i){function o(t,e,n,r,i){this._listener=e,this._isOnce=n,this.context=r,this._signal=t,this._priority=i||0}function a(t,e){if("function"!=typeof t)throw new Error("listener is a required param of {fn}() and should be a Function.".replace("{fn}",e))}function s(){this._bindings=[],this._prevParams=null;var t=this;this.dispatch=function(){s.prototype.dispatch.apply(t,arguments)}}o.prototype={active:!0,params:null,execute:function(t){var e,n;return this.active&&this._listener&&(n=this.params?this.params.concat(t):t,e=this._listener.apply(this.context,n),this._isOnce&&this.detach()),e},detach:function(){return this.isBound()?this._signal.remove(this._listener,this.context):null},isBound:function(){return!!this._signal&&!!this._listener},isOnce:function(){return this._isOnce},getListener:function(){return this._listener},getSignal:function(){return this._signal},_destroy:function(){delete this._signal,delete this._listener,delete this.context},toString:function(){return"[SignalBinding isOnce:"+this._isOnce+", isBound:"+this.isBound()+", active:"+this.active+"]"}},s.prototype={VERSION:"1.0.0",memorize:!1,_shouldPropagate:!0,active:!0,_registerListener:function(t,e,n,r){var i,a=this._indexOfListener(t,n);if(a!==-1){if(i=this._bindings[a],i.isOnce()!==e)throw new Error("You cannot add"+(e?"":"Once")+"() then add"+(e?"Once":"")+"() the same listener without removing the relationship first.")}else i=new o(this,t,e,n,r),this._addBinding(i);return this.memorize&&this._prevParams&&i.execute(this._prevParams),i},_addBinding:function(t){var e=this._bindings.length;do--e;while(this._bindings[e]&&t._priority<=this._bindings[e]._priority);this._bindings.splice(e+1,0,t)},_indexOfListener:function(t,e){for(var n,r=this._bindings.length;r--;)if(n=this._bindings[r],n._listener===t&&n.context===e)return r;return-1},has:function(t,e){return this._indexOfListener(t,e)!==-1},add:function(t,e,n){return a(t,"add"),this._registerListener(t,!1,e,n)},addOnce:function(t,e,n){return a(t,"addOnce"),this._registerListener(t,!0,e,n)},remove:function(t,e){a(t,"remove");var n=this._indexOfListener(t,e);return n!==-1&&(this._bindings[n]._destroy(),this._bindings.splice(n,1)),t},removeAll:function(){for(var t=this._bindings.length;t--;)this._bindings[t]._destroy();this._bindings.length=0},getNumListeners:function(){return this._bindings.length},halt:function(){this._shouldPropagate=!1},dispatch:function(t){if(this.active){var e,n=Array.prototype.slice.call(arguments),r=this._bindings.length;if(this.memorize&&(this._prevParams=n),r){e=this._bindings.slice(),this._shouldPropagate=!0;do r--;while(e[r]&&this._shouldPropagate&&e[r].execute(n)!==!1)}}},forget:function(){this._prevParams=null},dispose:function(){this.removeAll(),delete this._bindings,delete this._prevParams},toString:function(){return"[Signal active:"+this.active+" numListeners:"+this.getNumListeners()+"]"}};var u=s;u.Signal=s,r=function(){return u}.call(e,n,e,t),!(void 0!==r&&(t.exports=r))}(this)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=e.ASSETS_DIR="https://storage.googleapis.com/samrad-alhambra/www-assets/assets/";e.JSON_DIR=r+"json/",e.AUDIO_DIR=r+"audio/",e.IMAGE_DIR=r+"image/",e.SVG_DIR=r+"svg/"},function(t,e,n){(function(t){function n(t){return Array.isArray?Array.isArray(t):"[object Array]"===v(t)}function r(t){return"boolean"==typeof t}function i(t){return null===t}function o(t){return null==t}function a(t){return"number"==typeof t}function s(t){return"string"==typeof t}function u(t){return"symbol"==typeof t}function c(t){return void 0===t}function l(t){return"[object RegExp]"===v(t)}function f(t){return"object"==typeof t&&null!==t}function h(t){return"[object Date]"===v(t)}function p(t){return"[object Error]"===v(t)||t instanceof Error}function d(t){return"function"==typeof t}function _(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||"undefined"==typeof t}function v(t){return Object.prototype.toString.call(t)}e.isArray=n,e.isBoolean=r,e.isNull=i,e.isNullOrUndefined=o,e.isNumber=a,e.isString=s,e.isSymbol=u,e.isUndefined=c,e.isRegExp=l,e.isObject=f,e.isDate=h,e.isError=p,e.isFunction=d,e.isPrimitive=_,e.isBuffer=t.isBuffer}).call(e,n(28).Buffer)},function(t,e){"use strict";e.__esModule=!0;var n=!("undefined"==typeof window||!window.document||!window.document.createElement);e.canUseDOM=n},,,,function(t,e,n){function r(){i.call(this)}t.exports=r;var i=n(29).EventEmitter,o=n(33);o(r,i),r.Readable=n(383),r.Writable=n(385),r.Duplex=n(381),r.Transform=n(384),r.PassThrough=n(382),r.Stream=r,r.prototype.pipe=function(t,e){function n(e){t.writable&&!1===t.write(e)&&c.pause&&c.pause()}function r(){c.readable&&c.resume&&c.resume()}function o(){l||(l=!0,t.end())}function a(){l||(l=!0,"function"==typeof t.destroy&&t.destroy())}function s(t){if(u(),0===i.listenerCount(this,"error"))throw t}function u(){c.removeListener("data",n),t.removeListener("drain",r),c.removeListener("end",o),c.removeListener("close",a),c.removeListener("error",s),t.removeListener("error",s),c.removeListener("end",u),c.removeListener("close",u),t.removeListener("close",u)}var c=this;c.on("data",n),t.on("drain",r),t._isStdio||e&&e.end===!1||(c.on("end",o),c.on("close",a));var l=!1;return c.on("error",s),t.on("error",s),c.on("end",u),c.on("close",u),t.on("close",u),t.emit("pipe",c),t}},function(t,e,n){(function(t,r){function i(t,e){this._id=t,this._clearFn=e}var o=n(22).nextTick,a=Function.prototype.apply,s=Array.prototype.slice,u={},c=0;e.setTimeout=function(){return new i(a.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new i(a.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},e.setImmediate="function"==typeof t?t:function(t){var n=c++,r=!(arguments.length<2)&&s.call(arguments,1);return u[n]=!0,o(function(){u[n]&&(r?t.apply(null,r):t.call(null),e.clearImmediate(n))}),n},e.clearImmediate="function"==typeof r?r:function(t){delete u[t]}}).call(e,n(51).setImmediate,n(51).clearImmediate)},function(t,e,n){(function(r){var i,o,a="undefined"!=typeof t&&t.exports&&"undefined"!=typeof r?r:this||window;(a._gsQueue||(a._gsQueue=[])).push(function(){"use strict";a._gsDefine("TweenMax",["core.Animation","core.SimpleTimeline","TweenLite"],function(t,e,n){var r=function(t){var e,n=[],r=t.length;for(e=0;e!==r;n.push(t[e++]));return n},i=function(t,e,n){var r,i,o=t.cycle;for(r in o)i=o[r],t[r]="function"==typeof i?i(n,e[n]):i[n%i.length];delete t.cycle},o=function(t,e,r){n.call(this,t,e,r),this._cycle=0,this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._dirty=!0,this.render=o.prototype.render},a=1e-10,s=n._internals,u=s.isSelector,c=s.isArray,l=o.prototype=n.to({},.1,{}),f=[];o.version="1.19.0",l.constructor=o,l.kill()._gc=!1,o.killTweensOf=o.killDelayedCallsTo=n.killTweensOf,o.getTweensOf=n.getTweensOf,o.lagSmoothing=n.lagSmoothing,o.ticker=n.ticker,o.render=n.render,l.invalidate=function(){return this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),n.prototype.invalidate.call(this)},l.updateTo=function(t,e){var r,i=this.ratio,o=this.vars.immediateRender||t.immediateRender;e&&this._startTime<this._timeline._time&&(this._startTime=this._timeline._time,this._uncache(!1),this._gc?this._enabled(!0,!1):this._timeline.insert(this,this._startTime-this._delay));for(r in t)this.vars[r]=t[r];if(this._initted||o)if(e)this._initted=!1,o&&this.render(0,!0,!0);else if(this._gc&&this._enabled(!0,!1),this._notifyPluginsOfEnabled&&this._firstPT&&n._onPluginEvent("_onDisable",this),this._time/this._duration>.998){var a=this._totalTime;this.render(0,!0,!1),this._initted=!1,this.render(a,!0,!1)}else if(this._initted=!1,this._init(),this._time>0||o)for(var s,u=1/(1-i),c=this._firstPT;c;)s=c.s+c.c,c.c*=u,c.s=s-c.c,c=c._next;return this},l.render=function(t,e,n){this._initted||0===this._duration&&this.vars.repeat&&this.invalidate();var r,i,o,u,c,l,f,h,p=this._dirty?this.totalDuration():this._totalDuration,d=this._time,_=this._totalTime,v=this._cycle,y=this._duration,g=this._rawPrevTime;if(t>=p-1e-7?(this._totalTime=p,this._cycle=this._repeat,this._yoyo&&0!==(1&this._cycle)?(this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0):(this._time=y,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1),this._reversed||(r=!0,i="onComplete",n=n||this._timeline.autoRemoveChildren),0===y&&(this._initted||!this.vars.lazy||n)&&(this._startTime===this._timeline._duration&&(t=0),(g<0||t<=0&&t>=-1e-7||g===a&&"isPause"!==this.data)&&g!==t&&(n=!0,g>a&&(i="onReverseComplete")),this._rawPrevTime=h=!e||t||g===t?t:a)):t<1e-7?(this._totalTime=this._time=this._cycle=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==_||0===y&&g>0)&&(i="onReverseComplete",r=this._reversed),t<0&&(this._active=!1,0===y&&(this._initted||!this.vars.lazy||n)&&(g>=0&&(n=!0),this._rawPrevTime=h=!e||t||g===t?t:a)),this._initted||(n=!0)):(this._totalTime=this._time=t,0!==this._repeat&&(u=y+this._repeatDelay,this._cycle=this._totalTime/u>>0,0!==this._cycle&&this._cycle===this._totalTime/u&&_<=t&&this._cycle--,this._time=this._totalTime-this._cycle*u,this._yoyo&&0!==(1&this._cycle)&&(this._time=y-this._time),this._time>y?this._time=y:this._time<0&&(this._time=0)),this._easeType?(c=this._time/y,l=this._easeType,f=this._easePower,(1===l||3===l&&c>=.5)&&(c=1-c),3===l&&(c*=2),1===f?c*=c:2===f?c*=c*c:3===f?c*=c*c*c:4===f&&(c*=c*c*c*c),1===l?this.ratio=1-c:2===l?this.ratio=c:this._time/y<.5?this.ratio=c/2:this.ratio=1-c/2):this.ratio=this._ease.getRatio(this._time/y)),d===this._time&&!n&&v===this._cycle)return void(_!==this._totalTime&&this._onUpdate&&(e||this._callback("onUpdate")));if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!n&&this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration))return this._time=d,this._totalTime=_,this._rawPrevTime=g,this._cycle=v,s.lazyTweens.push(this),void(this._lazy=[t,e]);this._time&&!r?this.ratio=this._ease.getRatio(this._time/y):r&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._lazy!==!1&&(this._lazy=!1),this._active||!this._paused&&this._time!==d&&t>=0&&(this._active=!0),0===_&&(2===this._initted&&t>0&&this._init(),this._startAt&&(t>=0?this._startAt.render(t,e,n):i||(i="_dummyGS")),this.vars.onStart&&(0===this._totalTime&&0!==y||e||this._callback("onStart"))),o=this._firstPT;o;)o.f?o.t[o.p](o.c*this.ratio+o.s):o.t[o.p]=o.c*this.ratio+o.s,o=o._next;this._onUpdate&&(t<0&&this._startAt&&this._startTime&&this._startAt.render(t,e,n),e||(this._totalTime!==_||i)&&this._callback("onUpdate")),this._cycle!==v&&(e||this._gc||this.vars.onRepeat&&this._callback("onRepeat")),i&&(this._gc&&!n||(t<0&&this._startAt&&!this._onUpdate&&this._startTime&&this._startAt.render(t,e,n),r&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[i]&&this._callback(i),0===y&&this._rawPrevTime===a&&h!==a&&(this._rawPrevTime=0)))},o.to=function(t,e,n){return new o(t,e,n)},o.from=function(t,e,n){return n.runBackwards=!0,n.immediateRender=0!=n.immediateRender,new o(t,e,n)},o.fromTo=function(t,e,n,r){return r.startAt=n,r.immediateRender=0!=r.immediateRender&&0!=n.immediateRender,new o(t,e,r)},o.staggerTo=o.allTo=function(t,e,a,s,l,h,p){s=s||0;var d,_,v,y,g=0,m=[],b=function(){a.onComplete&&a.onComplete.apply(a.onCompleteScope||this,arguments),l.apply(p||a.callbackScope||this,h||f)},w=a.cycle,x=a.startAt&&a.startAt.cycle;for(c(t)||("string"==typeof t&&(t=n.selector(t)||t),u(t)&&(t=r(t))),t=t||[],s<0&&(t=r(t),t.reverse(),s*=-1),d=t.length-1,v=0;v<=d;v++){_={};for(y in a)_[y]=a[y];if(w&&(i(_,t,v),null!=_.duration&&(e=_.duration,delete _.duration)),x){x=_.startAt={};for(y in a.startAt)x[y]=a.startAt[y];i(_.startAt,t,v)}_.delay=g+(_.delay||0),v===d&&l&&(_.onComplete=b),m[v]=new o(t[v],e,_),g+=s}return m},o.staggerFrom=o.allFrom=function(t,e,n,r,i,a,s){return n.runBackwards=!0,n.immediateRender=0!=n.immediateRender,o.staggerTo(t,e,n,r,i,a,s)},o.staggerFromTo=o.allFromTo=function(t,e,n,r,i,a,s,u){return r.startAt=n,r.immediateRender=0!=r.immediateRender&&0!=n.immediateRender,o.staggerTo(t,e,r,i,a,s,u)},o.delayedCall=function(t,e,n,r,i){return new o(e,0,{delay:t,onComplete:e,onCompleteParams:n,callbackScope:r,onReverseComplete:e,onReverseCompleteParams:n,immediateRender:!1,useFrames:i,overwrite:0})},o.set=function(t,e){return new o(t,0,e)},o.isTweening=function(t){return n.getTweensOf(t,!0).length>0};var h=function(t,e){for(var r=[],i=0,o=t._first;o;)o instanceof n?r[i++]=o:(e&&(r[i++]=o),r=r.concat(h(o,e)),i=r.length),o=o._next;return r},p=o.getAllTweens=function(e){return h(t._rootTimeline,e).concat(h(t._rootFramesTimeline,e))};o.killAll=function(t,n,r,i){null==n&&(n=!0),null==r&&(r=!0);var o,a,s,u=p(0!=i),c=u.length,l=n&&r&&i;for(s=0;s<c;s++)a=u[s],(l||a instanceof e||(o=a.target===a.vars.onComplete)&&r||n&&!o)&&(t?a.totalTime(a._reversed?0:a.totalDuration()):a._enabled(!1,!1))},o.killChildTweensOf=function(t,e){if(null!=t){var i,a,l,f,h,p=s.tweenLookup;if("string"==typeof t&&(t=n.selector(t)||t),u(t)&&(t=r(t)),c(t))for(f=t.length;--f>-1;)o.killChildTweensOf(t[f],e);else{i=[];for(l in p)for(a=p[l].target.parentNode;a;)a===t&&(i=i.concat(p[l].tweens)),a=a.parentNode;for(h=i.length,f=0;f<h;f++)e&&i[f].totalTime(i[f].totalDuration()),i[f]._enabled(!1,!1)}}};var d=function(t,n,r,i){n=n!==!1,r=r!==!1,i=i!==!1;for(var o,a,s=p(i),u=n&&r&&i,c=s.length;--c>-1;)a=s[c],(u||a instanceof e||(o=a.target===a.vars.onComplete)&&r||n&&!o)&&a.paused(t)};return o.pauseAll=function(t,e,n){d(!0,t,e,n)},o.resumeAll=function(t,e,n){d(!1,t,e,n)},o.globalTimeScale=function(e){var r=t._rootTimeline,i=n.ticker.time;return arguments.length?(e=e||a,r._startTime=i-(i-r._startTime)*r._timeScale/e,r=t._rootFramesTimeline,i=n.ticker.frame,r._startTime=i-(i-r._startTime)*r._timeScale/e,r._timeScale=t._rootTimeline._timeScale=e,e):r._timeScale},l.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!==(1&this._cycle)?1-t:t)+this._cycle*(this._duration+this._repeatDelay),e):this._time/this.duration()},l.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this._totalTime/this.totalDuration()},l.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),t>this._duration&&(t=this._duration),this._yoyo&&0!==(1&this._cycle)?t=this._duration-t+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(t+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(t,e)):this._time},l.duration=function(e){return arguments.length?t.prototype.duration.call(this,e):this._duration},l.totalDuration=function(t){return arguments.length?this._repeat===-1?this:this.duration((t-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(this._totalDuration=this._repeat===-1?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat,this._dirty=!1),this._totalDuration)},l.repeat=function(t){return arguments.length?(this._repeat=t,this._uncache(!0)):this._repeat},l.repeatDelay=function(t){return arguments.length?(this._repeatDelay=t,this._uncache(!0)):this._repeatDelay},l.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},o},!0),a._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(t,e,n){var r=function(t){e.call(this,t),this._labels={},this.autoRemoveChildren=this.vars.autoRemoveChildren===!0,this.smoothChildTiming=this.vars.smoothChildTiming===!0,this._sortChildren=!0,this._onUpdate=this.vars.onUpdate;var n,r,i=this.vars;for(r in i)n=i[r],c(n)&&n.join("").indexOf("{self}")!==-1&&(i[r]=this._swapSelfInParams(n));c(i.tweens)&&this.add(i.tweens,0,i.align,i.stagger)},i=1e-10,o=n._internals,s=r._internals={},u=o.isSelector,c=o.isArray,l=o.lazyTweens,f=o.lazyRender,h=a._gsDefine.globals,p=function(t){var e,n={};for(e in t)n[e]=t[e];return n},d=function(t,e,n){var r,i,o=t.cycle;for(r in o)i=o[r],t[r]="function"==typeof i?i.call(e[n],n):i[n%i.length];delete t.cycle},_=s.pauseCallback=function(){},v=function(t){var e,n=[],r=t.length;for(e=0;e!==r;n.push(t[e++]));return n},y=r.prototype=new e;return r.version="1.19.0",y.constructor=r,y.kill()._gc=y._forcingPlayhead=y._hasPause=!1,y.to=function(t,e,r,i){var o=r.repeat&&h.TweenMax||n;return e?this.add(new o(t,e,r),i):this.set(t,r,i)},y.from=function(t,e,r,i){return this.add((r.repeat&&h.TweenMax||n).from(t,e,r),i)},y.fromTo=function(t,e,r,i,o){var a=i.repeat&&h.TweenMax||n;return e?this.add(a.fromTo(t,e,r,i),o):this.set(t,i,o)},y.staggerTo=function(t,e,i,o,a,s,c,l){var f,h,_=new r({onComplete:s,onCompleteParams:c,callbackScope:l,smoothChildTiming:this.smoothChildTiming}),y=i.cycle;for("string"==typeof t&&(t=n.selector(t)||t),t=t||[],u(t)&&(t=v(t)),o=o||0,o<0&&(t=v(t),t.reverse(),o*=-1),h=0;h<t.length;h++)f=p(i),f.startAt&&(f.startAt=p(f.startAt),f.startAt.cycle&&d(f.startAt,t,h)),y&&(d(f,t,h),null!=f.duration&&(e=f.duration,delete f.duration)),_.to(t[h],e,f,h*o);return this.add(_,a)},y.staggerFrom=function(t,e,n,r,i,o,a,s){return n.immediateRender=0!=n.immediateRender,n.runBackwards=!0,this.staggerTo(t,e,n,r,i,o,a,s)},y.staggerFromTo=function(t,e,n,r,i,o,a,s,u){return r.startAt=n,r.immediateRender=0!=r.immediateRender&&0!=n.immediateRender,this.staggerTo(t,e,r,i,o,a,s,u)},y.call=function(t,e,r,i){return this.add(n.delayedCall(0,t,e,r),i)},y.set=function(t,e,r){return r=this._parseTimeOrLabel(r,0,!0),null==e.immediateRender&&(e.immediateRender=r===this._time&&!this._paused),this.add(new n(t,0,e),r)},r.exportRoot=function(t,e){t=t||{},null==t.smoothChildTiming&&(t.smoothChildTiming=!0);var i,o,a=new r(t),s=a._timeline;for(null==e&&(e=!0),s._remove(a,!0),a._startTime=0,a._rawPrevTime=a._time=a._totalTime=s._time,i=s._first;i;)o=i._next,e&&i instanceof n&&i.target===i.vars.onComplete||a.add(i,i._startTime-i._delay),i=o;return s.add(a,0),a},y.add=function(i,o,a,s){var u,l,f,h,p,d;if("number"!=typeof o&&(o=this._parseTimeOrLabel(o,0,!0,i)),!(i instanceof t)){if(i instanceof Array||i&&i.push&&c(i)){for(a=a||"normal",s=s||0,u=o,l=i.length,f=0;f<l;f++)c(h=i[f])&&(h=new r({tweens:h})),this.add(h,u),"string"!=typeof h&&"function"!=typeof h&&("sequence"===a?u=h._startTime+h.totalDuration()/h._timeScale:"start"===a&&(h._startTime-=h.delay())),u+=s;return this._uncache(!0)}if("string"==typeof i)return this.addLabel(i,o);if("function"!=typeof i)throw"Cannot add "+i+" into the timeline; it is not a tween, timeline, function, or string.";i=n.delayedCall(0,i)}if(e.prototype.add.call(this,i,o),(this._gc||this._time===this._duration)&&!this._paused&&this._duration<this.duration())for(p=this,d=p.rawTime()>i._startTime;p._timeline;)d&&p._timeline.smoothChildTiming?p.totalTime(p._totalTime,!0):p._gc&&p._enabled(!0,!1),p=p._timeline;return this},y.remove=function(e){if(e instanceof t){this._remove(e,!1);var n=e._timeline=e.vars.useFrames?t._rootFramesTimeline:t._rootTimeline;return e._startTime=(e._paused?e._pauseTime:n._time)-(e._reversed?e.totalDuration()-e._totalTime:e._totalTime)/e._timeScale,this}if(e instanceof Array||e&&e.push&&c(e)){for(var r=e.length;--r>-1;)this.remove(e[r]);return this}return"string"==typeof e?this.removeLabel(e):this.kill(null,e)},y._remove=function(t,n){e.prototype._remove.call(this,t,n);var r=this._last;return r?this._time>r._startTime+r._totalDuration/r._timeScale&&(this._time=this.duration(),this._totalTime=this._totalDuration):this._time=this._totalTime=this._duration=this._totalDuration=0,this},y.append=function(t,e){return this.add(t,this._parseTimeOrLabel(null,e,!0,t))},y.insert=y.insertMultiple=function(t,e,n,r){return this.add(t,e||0,n,r)},y.appendMultiple=function(t,e,n,r){return this.add(t,this._parseTimeOrLabel(null,e,!0,t),n,r)},y.addLabel=function(t,e){return this._labels[t]=this._parseTimeOrLabel(e),this},y.addPause=function(t,e,r,i){var o=n.delayedCall(0,_,r,i||this);return o.vars.onComplete=o.vars.onReverseComplete=e,o.data="isPause",this._hasPause=!0,this.add(o,t)},y.removeLabel=function(t){return delete this._labels[t],this},y.getLabelTime=function(t){return null!=this._labels[t]?this._labels[t]:-1},y._parseTimeOrLabel=function(e,n,r,i){var o;if(i instanceof t&&i.timeline===this)this.remove(i);else if(i&&(i instanceof Array||i.push&&c(i)))for(o=i.length;--o>-1;)i[o]instanceof t&&i[o].timeline===this&&this.remove(i[o]);if("string"==typeof n)return this._parseTimeOrLabel(n,r&&"number"==typeof e&&null==this._labels[n]?e-this.duration():0,r);if(n=n||0,"string"!=typeof e||!isNaN(e)&&null==this._labels[e])null==e&&(e=this.duration());else{if(o=e.indexOf("="),o===-1)return null==this._labels[e]?r?this._labels[e]=this.duration()+n:n:this._labels[e]+n;n=parseInt(e.charAt(o-1)+"1",10)*Number(e.substr(o+1)),e=o>1?this._parseTimeOrLabel(e.substr(0,o-1),0,r):this.duration()}return Number(e)+n},y.seek=function(t,e){return this.totalTime("number"==typeof t?t:this._parseTimeOrLabel(t),e!==!1)},y.stop=function(){return this.paused(!0)},y.gotoAndPlay=function(t,e){return this.play(t,e)},y.gotoAndStop=function(t,e){return this.pause(t,e)},y.render=function(t,e,n){this._gc&&this._enabled(!0,!1);var r,o,a,s,u,c,h,p=this._dirty?this.totalDuration():this._totalDuration,d=this._time,_=this._startTime,v=this._timeScale,y=this._paused;if(t>=p-1e-7)this._totalTime=this._time=p,this._reversed||this._hasPausedChild()||(o=!0,s="onComplete",u=!!this._timeline.autoRemoveChildren,0===this._duration&&(t<=0&&t>=-1e-7||this._rawPrevTime<0||this._rawPrevTime===i)&&this._rawPrevTime!==t&&this._first&&(u=!0,this._rawPrevTime>i&&(s="onReverseComplete"))),this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:i,t=p+1e-4;else if(t<1e-7)if(this._totalTime=this._time=0,(0!==d||0===this._duration&&this._rawPrevTime!==i&&(this._rawPrevTime>0||t<0&&this._rawPrevTime>=0))&&(s="onReverseComplete",o=this._reversed),t<0)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(u=o=!0,s="onReverseComplete"):this._rawPrevTime>=0&&this._first&&(u=!0),this._rawPrevTime=t;else{if(this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:i,0===t&&o)for(r=this._first;r&&0===r._startTime;)r._duration||(o=!1),r=r._next;t=0,this._initted||(u=!0)}else{if(this._hasPause&&!this._forcingPlayhead&&!e){if(t>=d)for(r=this._first;r&&r._startTime<=t&&!c;)r._duration||"isPause"!==r.data||r.ratio||0===r._startTime&&0===this._rawPrevTime||(c=r),r=r._next;else for(r=this._last;r&&r._startTime>=t&&!c;)r._duration||"isPause"===r.data&&r._rawPrevTime>0&&(c=r),r=r._prev;c&&(this._time=t=c._startTime,this._totalTime=t+this._cycle*(this._totalDuration+this._repeatDelay))}this._totalTime=this._time=this._rawPrevTime=t}if(this._time!==d&&this._first||n||u||c){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==d&&t>0&&(this._active=!0),0===d&&this.vars.onStart&&(0===this._time&&this._duration||e||this._callback("onStart")),h=this._time,h>=d)for(r=this._first;r&&(a=r._next,h===this._time&&(!this._paused||y));)(r._active||r._startTime<=h&&!r._paused&&!r._gc)&&(c===r&&this.pause(),r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(t-r._startTime)*r._timeScale,e,n):r.render((t-r._startTime)*r._timeScale,e,n)),r=a;else for(r=this._last;r&&(a=r._prev,h===this._time&&(!this._paused||y));){if(r._active||r._startTime<=d&&!r._paused&&!r._gc){if(c===r){for(c=r._prev;c&&c.endTime()>this._time;)c.render(c._reversed?c.totalDuration()-(t-c._startTime)*c._timeScale:(t-c._startTime)*c._timeScale,e,n),c=c._prev;c=null,this.pause()}r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(t-r._startTime)*r._timeScale,e,n):r.render((t-r._startTime)*r._timeScale,e,n)}r=a}this._onUpdate&&(e||(l.length&&f(),this._callback("onUpdate"))),s&&(this._gc||_!==this._startTime&&v===this._timeScale||(0===this._time||p>=this.totalDuration())&&(o&&(l.length&&f(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[s]&&this._callback(s)))}},y._hasPausedChild=function(){for(var t=this._first;t;){if(t._paused||t instanceof r&&t._hasPausedChild())return!0;t=t._next}return!1},y.getChildren=function(t,e,r,i){i=i||-9999999999;for(var o=[],a=this._first,s=0;a;)a._startTime<i||(a instanceof n?e!==!1&&(o[s++]=a):(r!==!1&&(o[s++]=a),t!==!1&&(o=o.concat(a.getChildren(!0,e,r)),s=o.length))),a=a._next;return o},y.getTweensOf=function(t,e){var r,i,o=this._gc,a=[],s=0;for(o&&this._enabled(!0,!0),r=n.getTweensOf(t),i=r.length;--i>-1;)(r[i].timeline===this||e&&this._contains(r[i]))&&(a[s++]=r[i]);return o&&this._enabled(!1,!0),a},y.recent=function(){return this._recent},y._contains=function(t){for(var e=t.timeline;e;){if(e===this)return!0;e=e.timeline}return!1},y.shiftChildren=function(t,e,n){n=n||0;for(var r,i=this._first,o=this._labels;i;)i._startTime>=n&&(i._startTime+=t),i=i._next;if(e)for(r in o)o[r]>=n&&(o[r]+=t);return this._uncache(!0)},y._kill=function(t,e){if(!t&&!e)return this._enabled(!1,!1);for(var n=e?this.getTweensOf(e):this.getChildren(!0,!0,!1),r=n.length,i=!1;--r>-1;)n[r]._kill(t,e)&&(i=!0);return i},y.clear=function(t){var e=this.getChildren(!1,!0,!0),n=e.length;for(this._time=this._totalTime=0;--n>-1;)e[n]._enabled(!1,!1);return t!==!1&&(this._labels={}),this._uncache(!0)},y.invalidate=function(){for(var e=this._first;e;)e.invalidate(),e=e._next;return t.prototype.invalidate.call(this)},y._enabled=function(t,n){if(t===this._gc)for(var r=this._first;r;)r._enabled(t,!0),r=r._next;return e.prototype._enabled.call(this,t,n)},y.totalTime=function(e,n,r){this._forcingPlayhead=!0;var i=t.prototype.totalTime.apply(this,arguments);return this._forcingPlayhead=!1,i},y.duration=function(t){return arguments.length?(0!==this.duration()&&0!==t&&this.timeScale(this._duration/t),this):(this._dirty&&this.totalDuration(),this._duration)},y.totalDuration=function(t){if(!arguments.length){if(this._dirty){for(var e,n,r=0,i=this._last,o=999999999999;i;)e=i._prev,i._dirty&&i.totalDuration(),i._startTime>o&&this._sortChildren&&!i._paused?this.add(i,i._startTime-i._delay):o=i._startTime,i._startTime<0&&!i._paused&&(r-=i._startTime,this._timeline.smoothChildTiming&&(this._startTime+=i._startTime/this._timeScale),this.shiftChildren(-i._startTime,!1,-9999999999),o=0),n=i._startTime+i._totalDuration/i._timeScale,n>r&&(r=n),i=e;this._duration=this._totalDuration=r,this._dirty=!1}return this._totalDuration}return t&&this.totalDuration()?this.timeScale(this._totalDuration/t):this},y.paused=function(e){if(!e)for(var n=this._first,r=this._time;n;)n._startTime===r&&"isPause"===n.data&&(n._rawPrevTime=0),n=n._next;return t.prototype.paused.apply(this,arguments)},y.usesFrames=function(){for(var e=this._timeline;e._timeline;)e=e._timeline;return e===t._rootFramesTimeline},y.rawTime=function(){return this._paused?this._totalTime:(this._timeline.rawTime()-this._startTime)*this._timeScale},r},!0),a._gsDefine("TimelineMax",["TimelineLite","TweenLite","easing.Ease"],function(t,e,n){var r=function(e){t.call(this,e),this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._cycle=0,this._yoyo=this.vars.yoyo===!0,this._dirty=!0},i=1e-10,o=e._internals,s=o.lazyTweens,u=o.lazyRender,c=a._gsDefine.globals,l=new n(null,null,1,0),f=r.prototype=new t;return f.constructor=r,f.kill()._gc=!1,r.version="1.19.0",f.invalidate=function(){return this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),t.prototype.invalidate.call(this)},f.addCallback=function(t,n,r,i){return this.add(e.delayedCall(0,t,r,i),n)},f.removeCallback=function(t,e){if(t)if(null==e)this._kill(null,t);else for(var n=this.getTweensOf(t,!1),r=n.length,i=this._parseTimeOrLabel(e);--r>-1;)n[r]._startTime===i&&n[r]._enabled(!1,!1);return this},f.removePause=function(e){return this.removeCallback(t._internals.pauseCallback,e)},f.tweenTo=function(t,n){n=n||{};var r,i,o,a={ease:l,useFrames:this.usesFrames(),immediateRender:!1},s=n.repeat&&c.TweenMax||e;for(i in n)a[i]=n[i];return a.time=this._parseTimeOrLabel(t),r=Math.abs(Number(a.time)-this._time)/this._timeScale||.001,o=new s(this,r,a),a.onStart=function(){o.target.paused(!0),o.vars.time!==o.target.time()&&r===o.duration()&&o.duration(Math.abs(o.vars.time-o.target.time())/o.target._timeScale),n.onStart&&o._callback("onStart")},o},f.tweenFromTo=function(t,e,n){n=n||{},t=this._parseTimeOrLabel(t),n.startAt={onComplete:this.seek,onCompleteParams:[t],callbackScope:this},n.immediateRender=n.immediateRender!==!1;var r=this.tweenTo(e,n);return r.duration(Math.abs(r.vars.time-t)/this._timeScale||.001)},f.render=function(t,e,n){this._gc&&this._enabled(!0,!1);var r,o,a,c,l,f,h,p,d=this._dirty?this.totalDuration():this._totalDuration,_=this._duration,v=this._time,y=this._totalTime,g=this._startTime,m=this._timeScale,b=this._rawPrevTime,w=this._paused,x=this._cycle;if(t>=d-1e-7)this._locked||(this._totalTime=d,this._cycle=this._repeat),this._reversed||this._hasPausedChild()||(o=!0,c="onComplete",l=!!this._timeline.autoRemoveChildren,0===this._duration&&(t<=0&&t>=-1e-7||b<0||b===i)&&b!==t&&this._first&&(l=!0,b>i&&(c="onReverseComplete"))),this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:i,this._yoyo&&0!==(1&this._cycle)?this._time=t=0:(this._time=_,t=_+1e-4);else if(t<1e-7)if(this._locked||(this._totalTime=this._cycle=0),this._time=0,(0!==v||0===_&&b!==i&&(b>0||t<0&&b>=0)&&!this._locked)&&(c="onReverseComplete",o=this._reversed),t<0)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(l=o=!0,c="onReverseComplete"):b>=0&&this._first&&(l=!0),this._rawPrevTime=t;else{if(this._rawPrevTime=_||!e||t||this._rawPrevTime===t?t:i,0===t&&o)for(r=this._first;r&&0===r._startTime;)r._duration||(o=!1),r=r._next;t=0,this._initted||(l=!0)}else if(0===_&&b<0&&(l=!0),this._time=this._rawPrevTime=t,this._locked||(this._totalTime=t,0!==this._repeat&&(f=_+this._repeatDelay,this._cycle=this._totalTime/f>>0,0!==this._cycle&&this._cycle===this._totalTime/f&&y<=t&&this._cycle--,this._time=this._totalTime-this._cycle*f,this._yoyo&&0!==(1&this._cycle)&&(this._time=_-this._time),this._time>_?(this._time=_,t=_+1e-4):this._time<0?this._time=t=0:t=this._time)),this._hasPause&&!this._forcingPlayhead&&!e){if(t=this._time,t>=v)for(r=this._first;r&&r._startTime<=t&&!h;)r._duration||"isPause"!==r.data||r.ratio||0===r._startTime&&0===this._rawPrevTime||(h=r),r=r._next;else for(r=this._last;r&&r._startTime>=t&&!h;)r._duration||"isPause"===r.data&&r._rawPrevTime>0&&(h=r),r=r._prev;h&&(this._time=t=h._startTime,this._totalTime=t+this._cycle*(this._totalDuration+this._repeatDelay))}if(this._cycle!==x&&!this._locked){var S=this._yoyo&&0!==(1&x),k=S===(this._yoyo&&0!==(1&this._cycle)),T=this._totalTime,O=this._cycle,E=this._rawPrevTime,P=this._time;if(this._totalTime=x*_,this._cycle<x?S=!S:this._totalTime+=_,this._time=v,this._rawPrevTime=0===_?b-1e-4:b,this._cycle=x,this._locked=!0,v=S?0:_,this.render(v,e,0===_),e||this._gc||this.vars.onRepeat&&this._callback("onRepeat"),v!==this._time)return;if(k&&(v=S?_+1e-4:-1e-4,this.render(v,!0,!1)),this._locked=!1,this._paused&&!w)return;this._time=P,this._totalTime=T,this._cycle=O,this._rawPrevTime=E}if(!(this._time!==v&&this._first||n||l||h))return void(y!==this._totalTime&&this._onUpdate&&(e||this._callback("onUpdate")));if(this._initted||(this._initted=!0),this._active||!this._paused&&this._totalTime!==y&&t>0&&(this._active=!0),0===y&&this.vars.onStart&&(0===this._totalTime&&this._totalDuration||e||this._callback("onStart")),p=this._time,p>=v)for(r=this._first;r&&(a=r._next,
p===this._time&&(!this._paused||w));)(r._active||r._startTime<=this._time&&!r._paused&&!r._gc)&&(h===r&&this.pause(),r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(t-r._startTime)*r._timeScale,e,n):r.render((t-r._startTime)*r._timeScale,e,n)),r=a;else for(r=this._last;r&&(a=r._prev,p===this._time&&(!this._paused||w));){if(r._active||r._startTime<=v&&!r._paused&&!r._gc){if(h===r){for(h=r._prev;h&&h.endTime()>this._time;)h.render(h._reversed?h.totalDuration()-(t-h._startTime)*h._timeScale:(t-h._startTime)*h._timeScale,e,n),h=h._prev;h=null,this.pause()}r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(t-r._startTime)*r._timeScale,e,n):r.render((t-r._startTime)*r._timeScale,e,n)}r=a}this._onUpdate&&(e||(s.length&&u(),this._callback("onUpdate"))),c&&(this._locked||this._gc||g!==this._startTime&&m===this._timeScale||(0===this._time||d>=this.totalDuration())&&(o&&(s.length&&u(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[c]&&this._callback(c)))},f.getActive=function(t,e,n){null==t&&(t=!0),null==e&&(e=!0),null==n&&(n=!1);var r,i,o=[],a=this.getChildren(t,e,n),s=0,u=a.length;for(r=0;r<u;r++)i=a[r],i.isActive()&&(o[s++]=i);return o},f.getLabelAfter=function(t){t||0!==t&&(t=this._time);var e,n=this.getLabelsArray(),r=n.length;for(e=0;e<r;e++)if(n[e].time>t)return n[e].name;return null},f.getLabelBefore=function(t){null==t&&(t=this._time);for(var e=this.getLabelsArray(),n=e.length;--n>-1;)if(e[n].time<t)return e[n].name;return null},f.getLabelsArray=function(){var t,e=[],n=0;for(t in this._labels)e[n++]={time:this._labels[t],name:t};return e.sort(function(t,e){return t.time-e.time}),e},f.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!==(1&this._cycle)?1-t:t)+this._cycle*(this._duration+this._repeatDelay),e):this._time/this.duration()},f.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this._totalTime/this.totalDuration()},f.totalDuration=function(e){return arguments.length?this._repeat!==-1&&e?this.timeScale(this.totalDuration()/e):this:(this._dirty&&(t.prototype.totalDuration.call(this),this._totalDuration=this._repeat===-1?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat),this._totalDuration)},f.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),t>this._duration&&(t=this._duration),this._yoyo&&0!==(1&this._cycle)?t=this._duration-t+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(t+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(t,e)):this._time},f.repeat=function(t){return arguments.length?(this._repeat=t,this._uncache(!0)):this._repeat},f.repeatDelay=function(t){return arguments.length?(this._repeatDelay=t,this._uncache(!0)):this._repeatDelay},f.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},f.currentLabel=function(t){return arguments.length?this.seek(t,!0):this.getLabelBefore(this._time+1e-8)},r},!0),function(){var t=180/Math.PI,e=[],n=[],r=[],i={},o=a._gsDefine.globals,s=function(t,e,n,r){n===r&&(n=r-(r-e)/1e6),t===e&&(e=t+(n-t)/1e6),this.a=t,this.b=e,this.c=n,this.d=r,this.da=r-t,this.ca=n-t,this.ba=e-t},u=",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,",c=function(t,e,n,r){var i={a:t},o={},a={},s={c:r},u=(t+e)/2,c=(e+n)/2,l=(n+r)/2,f=(u+c)/2,h=(c+l)/2,p=(h-f)/8;return i.b=u+(t-u)/4,o.b=f+p,i.c=o.a=(i.b+o.b)/2,o.c=a.a=(f+h)/2,a.b=h-p,s.b=l+(r-l)/4,a.c=s.a=(a.b+s.b)/2,[i,o,a,s]},l=function(t,i,o,a,s){var u,l,f,h,p,d,_,v,y,g,m,b,w,x=t.length-1,S=0,k=t[0].a;for(u=0;u<x;u++)p=t[S],l=p.a,f=p.d,h=t[S+1].d,s?(m=e[u],b=n[u],w=(b+m)*i*.25/(a?.5:r[u]||.5),d=f-(f-l)*(a?.5*i:0!==m?w/m:0),_=f+(h-f)*(a?.5*i:0!==b?w/b:0),v=f-(d+((_-d)*(3*m/(m+b)+.5)/4||0))):(d=f-(f-l)*i*.5,_=f+(h-f)*i*.5,v=f-(d+_)/2),d+=v,_+=v,p.c=y=d,0!==u?p.b=k:p.b=k=p.a+.6*(p.c-p.a),p.da=f-l,p.ca=y-l,p.ba=k-l,o?(g=c(l,k,y,f),t.splice(S,1,g[0],g[1],g[2],g[3]),S+=4):S++,k=_;p=t[S],p.b=k,p.c=k+.4*(p.d-k),p.da=p.d-p.a,p.ca=p.c-p.a,p.ba=k-p.a,o&&(g=c(p.a,k,p.c,p.d),t.splice(S,1,g[0],g[1],g[2],g[3]))},f=function(t,r,i,o){var a,u,c,l,f,h,p=[];if(o)for(t=[o].concat(t),u=t.length;--u>-1;)"string"==typeof(h=t[u][r])&&"="===h.charAt(1)&&(t[u][r]=o[r]+Number(h.charAt(0)+h.substr(2)));if(a=t.length-2,a<0)return p[0]=new s(t[0][r],0,0,t[a<-1?0:1][r]),p;for(u=0;u<a;u++)c=t[u][r],l=t[u+1][r],p[u]=new s(c,0,0,l),i&&(f=t[u+2][r],e[u]=(e[u]||0)+(l-c)*(l-c),n[u]=(n[u]||0)+(f-l)*(f-l));return p[u]=new s(t[u][r],0,0,t[u+1][r]),p},h=function(t,o,a,s,c,h){var p,d,_,v,y,g,m,b,w={},x=[],S=h||t[0];c="string"==typeof c?","+c+",":u,null==o&&(o=1);for(d in t[0])x.push(d);if(t.length>1){for(b=t[t.length-1],m=!0,p=x.length;--p>-1;)if(d=x[p],Math.abs(S[d]-b[d])>.05){m=!1;break}m&&(t=t.concat(),h&&t.unshift(h),t.push(t[1]),h=t[t.length-3])}for(e.length=n.length=r.length=0,p=x.length;--p>-1;)d=x[p],i[d]=c.indexOf(","+d+",")!==-1,w[d]=f(t,d,i[d],h);for(p=e.length;--p>-1;)e[p]=Math.sqrt(e[p]),n[p]=Math.sqrt(n[p]);if(!s){for(p=x.length;--p>-1;)if(i[d])for(_=w[x[p]],g=_.length-1,v=0;v<g;v++)y=_[v+1].da/n[v]+_[v].da/e[v]||0,r[v]=(r[v]||0)+y*y;for(p=r.length;--p>-1;)r[p]=Math.sqrt(r[p])}for(p=x.length,v=a?4:1;--p>-1;)d=x[p],_=w[d],l(_,o,a,s,i[d]),m&&(_.splice(0,v),_.splice(_.length-v,v));return w},p=function(t,e,n){e=e||"soft";var r,i,o,a,u,c,l,f,h,p,d,_={},v="cubic"===e?3:2,y="soft"===e,g=[];if(y&&n&&(t=[n].concat(t)),null==t||t.length<v+1)throw"invalid Bezier data";for(h in t[0])g.push(h);for(c=g.length;--c>-1;){for(h=g[c],_[h]=u=[],p=0,f=t.length,l=0;l<f;l++)r=null==n?t[l][h]:"string"==typeof(d=t[l][h])&&"="===d.charAt(1)?n[h]+Number(d.charAt(0)+d.substr(2)):Number(d),y&&l>1&&l<f-1&&(u[p++]=(r+u[p-2])/2),u[p++]=r;for(f=p-v+1,p=0,l=0;l<f;l+=v)r=u[l],i=u[l+1],o=u[l+2],a=2===v?0:u[l+3],u[p++]=d=3===v?new s(r,i,o,a):new s(r,(2*i+r)/3,(2*i+o)/3,o);u.length=p}return _},d=function(t,e,n){for(var r,i,o,a,s,u,c,l,f,h,p,d=1/n,_=t.length;--_>-1;)for(h=t[_],o=h.a,a=h.d-o,s=h.c-o,u=h.b-o,r=i=0,l=1;l<=n;l++)c=d*l,f=1-c,r=i-(i=(c*c*a+3*f*(c*s+f*u))*c),p=_*n+l-1,e[p]=(e[p]||0)+r*r},_=function(t,e){e=e>>0||6;var n,r,i,o,a=[],s=[],u=0,c=0,l=e-1,f=[],h=[];for(n in t)d(t[n],a,e);for(i=a.length,r=0;r<i;r++)u+=Math.sqrt(a[r]),o=r%e,h[o]=u,o===l&&(c+=u,o=r/e>>0,f[o]=h,s[o]=c,u=0,h=[]);return{length:c,lengths:s,segments:f}},v=a._gsDefine.plugin({propName:"bezier",priority:-1,version:"1.3.7",API:2,global:!0,init:function(t,e,n){this._target=t,e instanceof Array&&(e={values:e}),this._func={},this._mod={},this._props=[],this._timeRes=null==e.timeResolution?6:parseInt(e.timeResolution,10);var r,i,o,a,s,u=e.values||[],c={},l=u[0],f=e.autoRotate||n.vars.orientToBezier;this._autoRotate=f?f instanceof Array?f:[["x","y","rotation",f===!0?0:Number(f)||0]]:null;for(r in l)this._props.push(r);for(o=this._props.length;--o>-1;)r=this._props[o],this._overwriteProps.push(r),i=this._func[r]="function"==typeof t[r],c[r]=i?t[r.indexOf("set")||"function"!=typeof t["get"+r.substr(3)]?r:"get"+r.substr(3)]():parseFloat(t[r]),s||c[r]!==u[0][r]&&(s=c);if(this._beziers="cubic"!==e.type&&"quadratic"!==e.type&&"soft"!==e.type?h(u,isNaN(e.curviness)?1:e.curviness,!1,"thruBasic"===e.type,e.correlate,s):p(u,e.type,c),this._segCount=this._beziers[r].length,this._timeRes){var d=_(this._beziers,this._timeRes);this._length=d.length,this._lengths=d.lengths,this._segments=d.segments,this._l1=this._li=this._s1=this._si=0,this._l2=this._lengths[0],this._curSeg=this._segments[0],this._s2=this._curSeg[0],this._prec=1/this._curSeg.length}if(f=this._autoRotate)for(this._initialRotations=[],f[0]instanceof Array||(this._autoRotate=f=[f]),o=f.length;--o>-1;){for(a=0;a<3;a++)r=f[o][a],this._func[r]="function"==typeof t[r]&&t[r.indexOf("set")||"function"!=typeof t["get"+r.substr(3)]?r:"get"+r.substr(3)];r=f[o][2],this._initialRotations[o]=(this._func[r]?this._func[r].call(this._target):this._target[r])||0,this._overwriteProps.push(r)}return this._startRatio=n.vars.runBackwards?1:0,!0},set:function(e){var n,r,i,o,a,s,u,c,l,f,h=this._segCount,p=this._func,d=this._target,_=e!==this._startRatio;if(this._timeRes){if(l=this._lengths,f=this._curSeg,e*=this._length,i=this._li,e>this._l2&&i<h-1){for(c=h-1;i<c&&(this._l2=l[++i])<=e;);this._l1=l[i-1],this._li=i,this._curSeg=f=this._segments[i],this._s2=f[this._s1=this._si=0]}else if(e<this._l1&&i>0){for(;i>0&&(this._l1=l[--i])>=e;);0===i&&e<this._l1?this._l1=0:i++,this._l2=l[i],this._li=i,this._curSeg=f=this._segments[i],this._s1=f[(this._si=f.length-1)-1]||0,this._s2=f[this._si]}if(n=i,e-=this._l1,i=this._si,e>this._s2&&i<f.length-1){for(c=f.length-1;i<c&&(this._s2=f[++i])<=e;);this._s1=f[i-1],this._si=i}else if(e<this._s1&&i>0){for(;i>0&&(this._s1=f[--i])>=e;);0===i&&e<this._s1?this._s1=0:i++,this._s2=f[i],this._si=i}s=(i+(e-this._s1)/(this._s2-this._s1))*this._prec||0}else n=e<0?0:e>=1?h-1:h*e>>0,s=(e-n*(1/h))*h;for(r=1-s,i=this._props.length;--i>-1;)o=this._props[i],a=this._beziers[o][n],u=(s*s*a.da+3*r*(s*a.ca+r*a.ba))*s+a.a,this._mod[o]&&(u=this._mod[o](u,d)),p[o]?d[o](u):d[o]=u;if(this._autoRotate){var v,y,g,m,b,w,x,S=this._autoRotate;for(i=S.length;--i>-1;)o=S[i][2],w=S[i][3]||0,x=S[i][4]===!0?1:t,a=this._beziers[S[i][0]],v=this._beziers[S[i][1]],a&&v&&(a=a[n],v=v[n],y=a.a+(a.b-a.a)*s,m=a.b+(a.c-a.b)*s,y+=(m-y)*s,m+=(a.c+(a.d-a.c)*s-m)*s,g=v.a+(v.b-v.a)*s,b=v.b+(v.c-v.b)*s,g+=(b-g)*s,b+=(v.c+(v.d-v.c)*s-b)*s,u=_?Math.atan2(b-g,m-y)*x+w:this._initialRotations[i],this._mod[o]&&(u=this._mod[o](u,d)),p[o]?d[o](u):d[o]=u)}}}),y=v.prototype;v.bezierThrough=h,v.cubicToQuadratic=c,v._autoCSS=!0,v.quadraticToCubic=function(t,e,n){return new s(t,(2*e+t)/3,(2*e+n)/3,n)},v._cssRegister=function(){var t=o.CSSPlugin;if(t){var e=t._internals,n=e._parseToProxy,r=e._setPluginRatio,i=e.CSSPropTween;e._registerComplexSpecialProp("bezier",{parser:function(t,e,o,a,s,u){e instanceof Array&&(e={values:e}),u=new v;var c,l,f,h=e.values,p=h.length-1,d=[],_={};if(p<0)return s;for(c=0;c<=p;c++)f=n(t,h[c],a,s,u,p!==c),d[c]=f.end;for(l in e)_[l]=e[l];return _.values=d,s=new i(t,"bezier",0,0,f.pt,2),s.data=f,s.plugin=u,s.setRatio=r,0===_.autoRotate&&(_.autoRotate=!0),!_.autoRotate||_.autoRotate instanceof Array||(c=_.autoRotate===!0?0:Number(_.autoRotate),_.autoRotate=null!=f.end.left?[["left","top","rotation",c,!1]]:null!=f.end.x&&[["x","y","rotation",c,!1]]),_.autoRotate&&(a._transform||a._enableTransforms(!1),f.autoRotate=a._target._gsTransform,f.proxy.rotation=f.autoRotate.rotation||0,a._overwriteProps.push("rotation")),u._onInitTween(f.proxy,_,a._tween),s}})}},y._mod=function(t){for(var e,n=this._overwriteProps,r=n.length;--r>-1;)e=t[n[r]],e&&"function"==typeof e&&(this._mod[n[r]]=e)},y._kill=function(t){var e,n,r=this._props;for(e in this._beziers)if(e in t)for(delete this._beziers[e],delete this._func[e],n=r.length;--n>-1;)r[n]===e&&r.splice(n,1);if(r=this._autoRotate)for(n=r.length;--n>-1;)t[r[n][2]]&&r.splice(n,1);return this._super._kill.call(this,t)}}(),a._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(t,e){var n,r,i,o,s=function(){t.call(this,"css"),this._overwriteProps.length=0,this.setRatio=s.prototype.setRatio},u=a._gsDefine.globals,c={},l=s.prototype=new t("css");l.constructor=s,s.version="1.19.0",s.API=2,s.defaultTransformPerspective=0,s.defaultSkewType="compensated",s.defaultSmoothOrigin=!0,l="px",s.suffixMap={top:l,right:l,bottom:l,left:l,width:l,height:l,fontSize:l,padding:l,margin:l,perspective:l,lineHeight:""};var f,h,p,d,_,v,y,g,m=/(?:\-|\.|\b)(\d|\.|e\-)+/g,b=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,w=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,x=/(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g,S=/(?:\d|\-|\+|=|#|\.)*/g,k=/opacity *= *([^)]*)/i,T=/opacity:([^;]*)/i,O=/alpha\(opacity *=.+?\)/i,E=/^(rgb|hsl)/,P=/([A-Z])/g,A=/-([a-z])/gi,C=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,R=function(t,e){return e.toUpperCase()},j=/(?:Left|Right|Width)/i,M=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,I=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,L=/,(?=[^\)]*(?:\(|$))/gi,F=/[\s,\(]/i,D=Math.PI/180,N=180/Math.PI,B={},U=document,q=function(t){return U.createElementNS?U.createElementNS("http://www.w3.org/1999/xhtml",t):U.createElement(t)},z=q("div"),H=q("img"),V=s._internals={_specialProps:c},W=navigator.userAgent,Y=function(){var t=W.indexOf("Android"),e=q("a");return p=W.indexOf("Safari")!==-1&&W.indexOf("Chrome")===-1&&(t===-1||Number(W.substr(t+8,1))>3),_=p&&Number(W.substr(W.indexOf("Version/")+8,1))<6,d=W.indexOf("Firefox")!==-1,(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(W)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(W))&&(v=parseFloat(RegExp.$1)),!!e&&(e.style.cssText="top:1px;opacity:.55;",/^0.55/.test(e.style.opacity))}(),G=function(t){return k.test("string"==typeof t?t:(t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?parseFloat(RegExp.$1)/100:1},X=function(t){window.console&&console.log(t)},$="",Q="",K=function(t,e){e=e||z;var n,r,i=e.style;if(void 0!==i[t])return t;for(t=t.charAt(0).toUpperCase()+t.substr(1),n=["O","Moz","ms","Ms","Webkit"],r=5;--r>-1&&void 0===i[n[r]+t];);return r>=0?(Q=3===r?"ms":n[r],$="-"+Q.toLowerCase()+"-",Q+t):null},J=U.defaultView?U.defaultView.getComputedStyle:function(){},Z=s.getStyle=function(t,e,n,r,i){var o;return Y||"opacity"!==e?(!r&&t.style[e]?o=t.style[e]:(n=n||J(t))?o=n[e]||n.getPropertyValue(e)||n.getPropertyValue(e.replace(P,"-$1").toLowerCase()):t.currentStyle&&(o=t.currentStyle[e]),null==i||o&&"none"!==o&&"auto"!==o&&"auto auto"!==o?o:i):G(t)},tt=V.convertToPixels=function(t,n,r,i,o){if("px"===i||!i)return r;if("auto"===i||!r)return 0;var a,u,c,l=j.test(n),f=t,h=z.style,p=r<0,d=1===r;if(p&&(r=-r),d&&(r*=100),"%"===i&&n.indexOf("border")!==-1)a=r/100*(l?t.clientWidth:t.clientHeight);else{if(h.cssText="border:0 solid red;position:"+Z(t,"position")+";line-height:0;","%"!==i&&f.appendChild&&"v"!==i.charAt(0)&&"rem"!==i)h[l?"borderLeftWidth":"borderTopWidth"]=r+i;else{if(f=t.parentNode||U.body,u=f._gsCache,c=e.ticker.frame,u&&l&&u.time===c)return u.width*r/100;h[l?"width":"height"]=r+i}f.appendChild(z),a=parseFloat(z[l?"offsetWidth":"offsetHeight"]),f.removeChild(z),l&&"%"===i&&s.cacheWidths!==!1&&(u=f._gsCache=f._gsCache||{},u.time=c,u.width=a/r*100),0!==a||o||(a=tt(t,n,r,i,!0))}return d&&(a/=100),p?-a:a},et=V.calculateOffset=function(t,e,n){if("absolute"!==Z(t,"position",n))return 0;var r="left"===e?"Left":"Top",i=Z(t,"margin"+r,n);return t["offset"+r]-(tt(t,e,parseFloat(i),i.replace(S,""))||0)},nt=function(t,e){var n,r,i,o={};if(e=e||J(t,null))if(n=e.length)for(;--n>-1;)i=e[n],i.indexOf("-transform")!==-1&&At!==i||(o[i.replace(A,R)]=e.getPropertyValue(i));else for(n in e)n.indexOf("Transform")!==-1&&Pt!==n||(o[n]=e[n]);else if(e=t.currentStyle||t.style)for(n in e)"string"==typeof n&&void 0===o[n]&&(o[n.replace(A,R)]=e[n]);return Y||(o.opacity=G(t)),r=zt(t,e,!1),o.rotation=r.rotation,o.skewX=r.skewX,o.scaleX=r.scaleX,o.scaleY=r.scaleY,o.x=r.x,o.y=r.y,Rt&&(o.z=r.z,o.rotationX=r.rotationX,o.rotationY=r.rotationY,o.scaleZ=r.scaleZ),o.filters&&delete o.filters,o},rt=function(t,e,n,r,i){var o,a,s,u={},c=t.style;for(a in n)"cssText"!==a&&"length"!==a&&isNaN(a)&&(e[a]!==(o=n[a])||i&&i[a])&&a.indexOf("Origin")===-1&&("number"!=typeof o&&"string"!=typeof o||(u[a]="auto"!==o||"left"!==a&&"top"!==a?""!==o&&"auto"!==o&&"none"!==o||"string"!=typeof e[a]||""===e[a].replace(x,"")?o:0:et(t,a),void 0!==c[a]&&(s=new gt(c,a,c[a],s))));if(r)for(a in r)"className"!==a&&(u[a]=r[a]);return{difs:u,firstMPT:s}},it={width:["Left","Right"],height:["Top","Bottom"]},ot=["marginLeft","marginRight","marginTop","marginBottom"],at=function(t,e,n){if("svg"===(t.nodeName+"").toLowerCase())return(n||J(t))[e]||0;if(t.getBBox&&Bt(t))return t.getBBox()[e]||0;var r=parseFloat("width"===e?t.offsetWidth:t.offsetHeight),i=it[e],o=i.length;for(n=n||J(t,null);--o>-1;)r-=parseFloat(Z(t,"padding"+i[o],n,!0))||0,r-=parseFloat(Z(t,"border"+i[o]+"Width",n,!0))||0;return r},st=function(t,e){if("contain"===t||"auto"===t||"auto auto"===t)return t+" ";null!=t&&""!==t||(t="0 0");var n,r=t.split(" "),i=t.indexOf("left")!==-1?"0%":t.indexOf("right")!==-1?"100%":r[0],o=t.indexOf("top")!==-1?"0%":t.indexOf("bottom")!==-1?"100%":r[1];if(r.length>3&&!e){for(r=t.split(", ").join(",").split(","),t=[],n=0;n<r.length;n++)t.push(st(r[n]));return t.join(",")}return null==o?o="center"===i?"50%":"0":"center"===o&&(o="50%"),("center"===i||isNaN(parseFloat(i))&&(i+"").indexOf("=")===-1)&&(i="50%"),t=i+" "+o+(r.length>2?" "+r[2]:""),e&&(e.oxp=i.indexOf("%")!==-1,e.oyp=o.indexOf("%")!==-1,e.oxr="="===i.charAt(1),e.oyr="="===o.charAt(1),e.ox=parseFloat(i.replace(x,"")),e.oy=parseFloat(o.replace(x,"")),e.v=t),e||t},ut=function(t,e){return"function"==typeof t&&(t=t(g,y)),"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2)):parseFloat(t)-parseFloat(e)||0},ct=function(t,e){return"function"==typeof t&&(t=t(g,y)),null==t?e:"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2))+e:parseFloat(t)||0},lt=function(t,e,n,r){var i,o,a,s,u,c=1e-6;return"function"==typeof t&&(t=t(g,y)),null==t?s=e:"number"==typeof t?s=t:(i=360,o=t.split("_"),u="="===t.charAt(1),a=(u?parseInt(t.charAt(0)+"1",10)*parseFloat(o[0].substr(2)):parseFloat(o[0]))*(t.indexOf("rad")===-1?1:N)-(u?0:e),o.length&&(r&&(r[n]=e+a),t.indexOf("short")!==-1&&(a%=i,a!==a%(i/2)&&(a=a<0?a+i:a-i)),t.indexOf("_cw")!==-1&&a<0?a=(a+9999999999*i)%i-(a/i|0)*i:t.indexOf("ccw")!==-1&&a>0&&(a=(a-9999999999*i)%i-(a/i|0)*i)),s=e+a),s<c&&s>-c&&(s=0),s},ft={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},ht=function(t,e,n){return t=t<0?t+1:t>1?t-1:t,255*(6*t<1?e+(n-e)*t*6:t<.5?n:3*t<2?e+(n-e)*(2/3-t)*6:e)+.5|0},pt=s.parseColor=function(t,e){var n,r,i,o,a,s,u,c,l,f,h;if(t)if("number"==typeof t)n=[t>>16,t>>8&255,255&t];else{if(","===t.charAt(t.length-1)&&(t=t.substr(0,t.length-1)),ft[t])n=ft[t];else if("#"===t.charAt(0))4===t.length&&(r=t.charAt(1),i=t.charAt(2),o=t.charAt(3),t="#"+r+r+i+i+o+o),t=parseInt(t.substr(1),16),n=[t>>16,t>>8&255,255&t];else if("hsl"===t.substr(0,3))if(n=h=t.match(m),e){if(t.indexOf("=")!==-1)return t.match(b)}else a=Number(n[0])%360/360,s=Number(n[1])/100,u=Number(n[2])/100,i=u<=.5?u*(s+1):u+s-u*s,r=2*u-i,n.length>3&&(n[3]=Number(t[3])),n[0]=ht(a+1/3,r,i),n[1]=ht(a,r,i),n[2]=ht(a-1/3,r,i);else n=t.match(m)||ft.transparent;n[0]=Number(n[0]),n[1]=Number(n[1]),n[2]=Number(n[2]),n.length>3&&(n[3]=Number(n[3]))}else n=ft.black;return e&&!h&&(r=n[0]/255,i=n[1]/255,o=n[2]/255,c=Math.max(r,i,o),l=Math.min(r,i,o),u=(c+l)/2,c===l?a=s=0:(f=c-l,s=u>.5?f/(2-c-l):f/(c+l),a=c===r?(i-o)/f+(i<o?6:0):c===i?(o-r)/f+2:(r-i)/f+4,a*=60),n[0]=a+.5|0,n[1]=100*s+.5|0,n[2]=100*u+.5|0),n},dt=function(t,e){var n,r,i,o=t.match(_t)||[],a=0,s=o.length?"":t;for(n=0;n<o.length;n++)r=o[n],i=t.substr(a,t.indexOf(r,a)-a),a+=i.length+r.length,r=pt(r,e),3===r.length&&r.push(1),s+=i+(e?"hsla("+r[0]+","+r[1]+"%,"+r[2]+"%,"+r[3]:"rgba("+r.join(","))+")";return s+t.substr(a)},_t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b";for(l in ft)_t+="|"+l+"\\b";_t=new RegExp(_t+")","gi"),s.colorStringFilter=function(t){var e,n=t[0]+t[1];_t.test(n)&&(e=n.indexOf("hsl(")!==-1||n.indexOf("hsla(")!==-1,t[0]=dt(t[0],e),t[1]=dt(t[1],e)),_t.lastIndex=0},e.defaultStringFilter||(e.defaultStringFilter=s.colorStringFilter);var vt=function(t,e,n,r){if(null==t)return function(t){return t};var i,o=e?(t.match(_t)||[""])[0]:"",a=t.split(o).join("").match(w)||[],s=t.substr(0,t.indexOf(a[0])),u=")"===t.charAt(t.length-1)?")":"",c=t.indexOf(" ")!==-1?" ":",",l=a.length,f=l>0?a[0].replace(m,""):"";return l?i=e?function(t){var e,h,p,d;if("number"==typeof t)t+=f;else if(r&&L.test(t)){for(d=t.replace(L,"|").split("|"),p=0;p<d.length;p++)d[p]=i(d[p]);return d.join(",")}if(e=(t.match(_t)||[o])[0],h=t.split(e).join("").match(w)||[],p=h.length,l>p--)for(;++p<l;)h[p]=n?h[(p-1)/2|0]:a[p];return s+h.join(c)+c+e+u+(t.indexOf("inset")!==-1?" inset":"")}:function(t){var e,o,h;if("number"==typeof t)t+=f;else if(r&&L.test(t)){for(o=t.replace(L,"|").split("|"),h=0;h<o.length;h++)o[h]=i(o[h]);return o.join(",")}if(e=t.match(w)||[],h=e.length,l>h--)for(;++h<l;)e[h]=n?e[(h-1)/2|0]:a[h];return s+e.join(c)+u}:function(t){return t}},yt=function(t){return t=t.split(","),function(e,n,r,i,o,a,s){var u,c=(n+"").split(" ");for(s={},u=0;u<4;u++)s[t[u]]=c[u]=c[u]||c[(u-1)/2>>0];return i.parse(e,s,o,a)}},gt=(V._setPluginRatio=function(t){this.plugin.setRatio(t);for(var e,n,r,i,o,a=this.data,s=a.proxy,u=a.firstMPT,c=1e-6;u;)e=s[u.v],u.r?e=Math.round(e):e<c&&e>-c&&(e=0),u.t[u.p]=e,u=u._next;if(a.autoRotate&&(a.autoRotate.rotation=a.mod?a.mod(s.rotation,this.t):s.rotation),1===t||0===t)for(u=a.firstMPT,o=1===t?"e":"b";u;){if(n=u.t,n.type){if(1===n.type){for(i=n.xs0+n.s+n.xs1,r=1;r<n.l;r++)i+=n["xn"+r]+n["xs"+(r+1)];n[o]=i}}else n[o]=n.s+n.xs0;u=u._next}},function(t,e,n,r,i){this.t=t,this.p=e,this.v=n,this.r=i,r&&(r._prev=this,this._next=r)}),mt=(V._parseToProxy=function(t,e,n,r,i,o){var a,s,u,c,l,f=r,h={},p={},d=n._transform,_=B;for(n._transform=null,B=e,r=l=n.parse(t,e,r,i),B=_,o&&(n._transform=d,f&&(f._prev=null,f._prev&&(f._prev._next=null)));r&&r!==f;){if(r.type<=1&&(s=r.p,p[s]=r.s+r.c,h[s]=r.s,o||(c=new gt(r,"s",s,c,r.r),r.c=0),1===r.type))for(a=r.l;--a>0;)u="xn"+a,s=r.p+"_"+u,p[s]=r.data[u],h[s]=r[u],o||(c=new gt(r,u,s,c,r.rxp[u]));r=r._next}return{proxy:h,end:p,firstMPT:c,pt:l}},V.CSSPropTween=function(t,e,r,i,a,s,u,c,l,f,h){this.t=t,this.p=e,this.s=r,this.c=i,this.n=u||e,t instanceof mt||o.push(this.n),this.r=c,this.type=s||0,l&&(this.pr=l,n=!0),this.b=void 0===f?r:f,this.e=void 0===h?r+i:h,a&&(this._next=a,a._prev=this)}),bt=function(t,e,n,r,i,o){var a=new mt(t,e,n,r-n,i,(-1),o);return a.b=n,a.e=a.xs0=r,a},wt=s.parseComplex=function(t,e,n,r,i,o,a,u,c,l){n=n||o||"","function"==typeof r&&(r=r(g,y)),a=new mt(t,e,0,0,a,l?2:1,null,(!1),u,n,r),r+="",i&&_t.test(r+n)&&(r=[n,r],s.colorStringFilter(r),n=r[0],r=r[1]);var h,p,d,_,v,w,x,S,k,T,O,E,P,A=n.split(", ").join(",").split(" "),C=r.split(", ").join(",").split(" "),R=A.length,j=f!==!1;for(r.indexOf(",")===-1&&n.indexOf(",")===-1||(A=A.join(" ").replace(L,", ").split(" "),C=C.join(" ").replace(L,", ").split(" "),R=A.length),R!==C.length&&(A=(o||"").split(" "),R=A.length),a.plugin=c,a.setRatio=l,_t.lastIndex=0,h=0;h<R;h++)if(_=A[h],v=C[h],S=parseFloat(_),S||0===S)a.appendXtra("",S,ut(v,S),v.replace(b,""),j&&v.indexOf("px")!==-1,!0);else if(i&&_t.test(_))E=v.indexOf(")")+1,E=")"+(E?v.substr(E):""),P=v.indexOf("hsl")!==-1&&Y,_=pt(_,P),v=pt(v,P),k=_.length+v.length>6,k&&!Y&&0===v[3]?(a["xs"+a.l]+=a.l?" transparent":"transparent",a.e=a.e.split(C[h]).join("transparent")):(Y||(k=!1),P?a.appendXtra(k?"hsla(":"hsl(",_[0],ut(v[0],_[0]),",",!1,!0).appendXtra("",_[1],ut(v[1],_[1]),"%,",!1).appendXtra("",_[2],ut(v[2],_[2]),k?"%,":"%"+E,!1):a.appendXtra(k?"rgba(":"rgb(",_[0],v[0]-_[0],",",!0,!0).appendXtra("",_[1],v[1]-_[1],",",!0).appendXtra("",_[2],v[2]-_[2],k?",":E,!0),k&&(_=_.length<4?1:_[3],a.appendXtra("",_,(v.length<4?1:v[3])-_,E,!1))),_t.lastIndex=0;else if(w=_.match(m)){if(x=v.match(b),!x||x.length!==w.length)return a;for(d=0,p=0;p<w.length;p++)O=w[p],T=_.indexOf(O,d),a.appendXtra(_.substr(d,T-d),Number(O),ut(x[p],O),"",j&&"px"===_.substr(T+O.length,2),0===p),d=T+O.length;a["xs"+a.l]+=_.substr(d)}else a["xs"+a.l]+=a.l||a["xs"+a.l]?" "+v:v;if(r.indexOf("=")!==-1&&a.data){for(E=a.xs0+a.data.s,h=1;h<a.l;h++)E+=a["xs"+h]+a.data["xn"+h];a.e=E+a["xs"+h]}return a.l||(a.type=-1,a.xs0=a.e),a.xfirst||a},xt=9;for(l=mt.prototype,l.l=l.pr=0;--xt>0;)l["xn"+xt]=0,l["xs"+xt]="";l.xs0="",l._next=l._prev=l.xfirst=l.data=l.plugin=l.setRatio=l.rxp=null,l.appendXtra=function(t,e,n,r,i,o){var a=this,s=a.l;return a["xs"+s]+=o&&(s||a["xs"+s])?" "+t:t||"",n||0===s||a.plugin?(a.l++,a.type=a.setRatio?2:1,a["xs"+a.l]=r||"",s>0?(a.data["xn"+s]=e+n,a.rxp["xn"+s]=i,a["xn"+s]=e,a.plugin||(a.xfirst=new mt(a,"xn"+s,e,n,a.xfirst||a,0,a.n,i,a.pr),a.xfirst.xs0=0),a):(a.data={s:e+n},a.rxp={},a.s=e,a.c=n,a.r=i,a)):(a["xs"+s]+=e+(r||""),a)};var St=function(t,e){e=e||{},this.p=e.prefix?K(t)||t:t,c[t]=c[this.p]=this,this.format=e.formatter||vt(e.defaultValue,e.color,e.collapsible,e.multi),e.parser&&(this.parse=e.parser),this.clrs=e.color,this.multi=e.multi,this.keyword=e.keyword,this.dflt=e.defaultValue,this.pr=e.priority||0},kt=V._registerComplexSpecialProp=function(t,e,n){"object"!=typeof e&&(e={parser:n});var r,i,o=t.split(","),a=e.defaultValue;for(n=n||[a],r=0;r<o.length;r++)e.prefix=0===r&&e.prefix,e.defaultValue=n[r]||a,i=new St(o[r],e)},Tt=V._registerPluginProp=function(t){if(!c[t]){var e=t.charAt(0).toUpperCase()+t.substr(1)+"Plugin";kt(t,{parser:function(t,n,r,i,o,a,s){var l=u.com.greensock.plugins[e];return l?(l._cssRegister(),c[r].parse(t,n,r,i,o,a,s)):(X("Error: "+e+" js file not loaded."),o)}})}};l=St.prototype,l.parseComplex=function(t,e,n,r,i,o){var a,s,u,c,l,f,h=this.keyword;if(this.multi&&(L.test(n)||L.test(e)?(s=e.replace(L,"|").split("|"),u=n.replace(L,"|").split("|")):h&&(s=[e],u=[n])),u){for(c=u.length>s.length?u.length:s.length,a=0;a<c;a++)e=s[a]=s[a]||this.dflt,n=u[a]=u[a]||this.dflt,h&&(l=e.indexOf(h),f=n.indexOf(h),l!==f&&(f===-1?s[a]=s[a].split(h).join(""):l===-1&&(s[a]+=" "+h)));e=s.join(", "),n=u.join(", ")}return wt(t,this.p,e,n,this.clrs,this.dflt,r,this.pr,i,o)},l.parse=function(t,e,n,r,o,a,s){return this.parseComplex(t.style,this.format(Z(t,this.p,i,!1,this.dflt)),this.format(e),o,a)},s.registerSpecialProp=function(t,e,n){kt(t,{parser:function(t,r,i,o,a,s,u){var c=new mt(t,i,0,0,a,2,i,(!1),n);return c.plugin=s,c.setRatio=e(t,r,o._tween,i),c},priority:n})},s.useSVGTransformAttr=p||d;var Ot,Et="scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","),Pt=K("transform"),At=$+"transform",Ct=K("transformOrigin"),Rt=null!==K("perspective"),jt=V.Transform=function(){this.perspective=parseFloat(s.defaultTransformPerspective)||0,this.force3D=!(s.defaultForce3D===!1||!Rt)&&(s.defaultForce3D||"auto")},Mt=window.SVGElement,It=function(t,e,n){var r,i=U.createElementNS("http://www.w3.org/2000/svg",t),o=/([a-z])([A-Z])/g;for(r in n)i.setAttributeNS(null,r.replace(o,"$1-$2").toLowerCase(),n[r]);return e.appendChild(i),i},Lt=U.documentElement,Ft=function(){var t,e,n,r=v||/Android/i.test(W)&&!window.chrome;return U.createElementNS&&!r&&(t=It("svg",Lt),e=It("rect",t,{width:100,height:50,x:100}),n=e.getBoundingClientRect().width,e.style[Ct]="50% 50%",e.style[Pt]="scaleX(0.5)",r=n===e.getBoundingClientRect().width&&!(d&&Rt),Lt.removeChild(t)),r}(),Dt=function(t,e,n,r,i,o){var a,u,c,l,f,h,p,d,_,v,y,g,m,b,w=t._gsTransform,x=qt(t,!0);w&&(m=w.xOrigin,b=w.yOrigin),(!r||(a=r.split(" ")).length<2)&&(p=t.getBBox(),e=st(e).split(" "),a=[(e[0].indexOf("%")!==-1?parseFloat(e[0])/100*p.width:parseFloat(e[0]))+p.x,(e[1].indexOf("%")!==-1?parseFloat(e[1])/100*p.height:parseFloat(e[1]))+p.y]),n.xOrigin=l=parseFloat(a[0]),n.yOrigin=f=parseFloat(a[1]),r&&x!==Ut&&(h=x[0],p=x[1],d=x[2],_=x[3],v=x[4],y=x[5],g=h*_-p*d,u=l*(_/g)+f*(-d/g)+(d*y-_*v)/g,c=l*(-p/g)+f*(h/g)-(h*y-p*v)/g,l=n.xOrigin=a[0]=u,f=n.yOrigin=a[1]=c),w&&(o&&(n.xOffset=w.xOffset,n.yOffset=w.yOffset,w=n),i||i!==!1&&s.defaultSmoothOrigin!==!1?(u=l-m,c=f-b,w.xOffset+=u*x[0]+c*x[2]-u,w.yOffset+=u*x[1]+c*x[3]-c):w.xOffset=w.yOffset=0),o||t.setAttribute("data-svg-origin",a.join(" "))},Nt=function(t){try{return t.getBBox()}catch(t){}},Bt=function(t){return!!(Mt&&t.getBBox&&t.getCTM&&Nt(t)&&(!t.parentNode||t.parentNode.getBBox&&t.parentNode.getCTM))},Ut=[1,0,0,1,0,0],qt=function(t,e){var n,r,i,o,a,s,u=t._gsTransform||new jt,c=1e5,l=t.style;if(Pt?r=Z(t,At,null,!0):t.currentStyle&&(r=t.currentStyle.filter.match(M),r=r&&4===r.length?[r[0].substr(4),Number(r[2].substr(4)),Number(r[1].substr(4)),r[3].substr(4),u.x||0,u.y||0].join(","):""),n=!r||"none"===r||"matrix(1, 0, 0, 1, 0, 0)"===r,n&&Pt&&((s="none"===J(t).display)||!t.parentNode)&&(s&&(o=l.display,l.display="block"),t.parentNode||(a=1,Lt.appendChild(t)),r=Z(t,At,null,!0),n=!r||"none"===r||"matrix(1, 0, 0, 1, 0, 0)"===r,o?l.display=o:s&&Yt(l,"display"),a&&Lt.removeChild(t)),(u.svg||t.getBBox&&Bt(t))&&(n&&(l[Pt]+"").indexOf("matrix")!==-1&&(r=l[Pt],n=0),i=t.getAttribute("transform"),n&&i&&(i.indexOf("matrix")!==-1?(r=i,n=0):i.indexOf("translate")!==-1&&(r="matrix(1,0,0,1,"+i.match(/(?:\-|\b)[\d\-\.e]+\b/gi).join(",")+")",n=0))),n)return Ut;for(i=(r||"").match(m)||[],xt=i.length;--xt>-1;)o=Number(i[xt]),i[xt]=(a=o-(o|=0))?(a*c+(a<0?-.5:.5)|0)/c+o:o;return e&&i.length>6?[i[0],i[1],i[4],i[5],i[12],i[13]]:i},zt=V.getTransform=function(t,n,r,i){if(t._gsTransform&&r&&!i)return t._gsTransform;var o,a,u,c,l,f,h=r?t._gsTransform||new jt:new jt,p=h.scaleX<0,d=2e-5,_=1e5,v=Rt?parseFloat(Z(t,Ct,n,!1,"0 0 0").split(" ")[2])||h.zOrigin||0:0,y=parseFloat(s.defaultTransformPerspective)||0;if(h.svg=!(!t.getBBox||!Bt(t)),h.svg&&(Dt(t,Z(t,Ct,n,!1,"50% 50%")+"",h,t.getAttribute("data-svg-origin")),Ot=s.useSVGTransformAttr||Ft),o=qt(t),o!==Ut){if(16===o.length){var g,m,b,w,x,S=o[0],k=o[1],T=o[2],O=o[3],E=o[4],P=o[5],A=o[6],C=o[7],R=o[8],j=o[9],M=o[10],I=o[12],L=o[13],F=o[14],D=o[11],B=Math.atan2(A,M);h.zOrigin&&(F=-h.zOrigin,I=R*F-o[12],L=j*F-o[13],F=M*F+h.zOrigin-o[14]),h.rotationX=B*N,B&&(w=Math.cos(-B),x=Math.sin(-B),g=E*w+R*x,m=P*w+j*x,b=A*w+M*x,R=E*-x+R*w,j=P*-x+j*w,M=A*-x+M*w,D=C*-x+D*w,E=g,P=m,A=b),B=Math.atan2(-T,M),h.rotationY=B*N,B&&(w=Math.cos(-B),x=Math.sin(-B),g=S*w-R*x,m=k*w-j*x,b=T*w-M*x,j=k*x+j*w,M=T*x+M*w,D=O*x+D*w,S=g,k=m,T=b),B=Math.atan2(k,S),h.rotation=B*N,B&&(w=Math.cos(-B),x=Math.sin(-B),S=S*w+E*x,m=k*w+P*x,P=k*-x+P*w,A=T*-x+A*w,k=m),h.rotationX&&Math.abs(h.rotationX)+Math.abs(h.rotation)>359.9&&(h.rotationX=h.rotation=0,h.rotationY=180-h.rotationY),h.scaleX=(Math.sqrt(S*S+k*k)*_+.5|0)/_,h.scaleY=(Math.sqrt(P*P+j*j)*_+.5|0)/_,h.scaleZ=(Math.sqrt(A*A+M*M)*_+.5|0)/_,h.rotationX||h.rotationY?h.skewX=0:(h.skewX=E||P?Math.atan2(E,P)*N+h.rotation:h.skewX||0,Math.abs(h.skewX)>90&&Math.abs(h.skewX)<270&&(p?(h.scaleX*=-1,h.skewX+=h.rotation<=0?180:-180,h.rotation+=h.rotation<=0?180:-180):(h.scaleY*=-1,h.skewX+=h.skewX<=0?180:-180))),h.perspective=D?1/(D<0?-D:D):0,h.x=I,h.y=L,h.z=F,h.svg&&(h.x-=h.xOrigin-(h.xOrigin*S-h.yOrigin*E),h.y-=h.yOrigin-(h.yOrigin*k-h.xOrigin*P))}else if(!Rt||i||!o.length||h.x!==o[4]||h.y!==o[5]||!h.rotationX&&!h.rotationY){var U=o.length>=6,q=U?o[0]:1,z=o[1]||0,H=o[2]||0,V=U?o[3]:1;h.x=o[4]||0,h.y=o[5]||0,u=Math.sqrt(q*q+z*z),c=Math.sqrt(V*V+H*H),l=q||z?Math.atan2(z,q)*N:h.rotation||0,f=H||V?Math.atan2(H,V)*N+l:h.skewX||0,Math.abs(f)>90&&Math.abs(f)<270&&(p?(u*=-1,f+=l<=0?180:-180,l+=l<=0?180:-180):(c*=-1,f+=f<=0?180:-180)),h.scaleX=u,h.scaleY=c,h.rotation=l,h.skewX=f,Rt&&(h.rotationX=h.rotationY=h.z=0,h.perspective=y,h.scaleZ=1),h.svg&&(h.x-=h.xOrigin-(h.xOrigin*q+h.yOrigin*H),h.y-=h.yOrigin-(h.xOrigin*z+h.yOrigin*V))}h.zOrigin=v;for(a in h)h[a]<d&&h[a]>-d&&(h[a]=0)}return r&&(t._gsTransform=h,h.svg&&(Ot&&t.style[Pt]?e.delayedCall(.001,function(){Yt(t.style,Pt)}):!Ot&&t.getAttribute("transform")&&e.delayedCall(.001,function(){t.removeAttribute("transform")}))),h},Ht=function(t){var e,n,r=this.data,i=-r.rotation*D,o=i+r.skewX*D,a=1e5,s=(Math.cos(i)*r.scaleX*a|0)/a,u=(Math.sin(i)*r.scaleX*a|0)/a,c=(Math.sin(o)*-r.scaleY*a|0)/a,l=(Math.cos(o)*r.scaleY*a|0)/a,f=this.t.style,h=this.t.currentStyle;if(h){n=u,u=-c,c=-n,e=h.filter,f.filter="";var p,d,_=this.t.offsetWidth,y=this.t.offsetHeight,g="absolute"!==h.position,m="progid:DXImageTransform.Microsoft.Matrix(M11="+s+", M12="+u+", M21="+c+", M22="+l,b=r.x+_*r.xPercent/100,w=r.y+y*r.yPercent/100;if(null!=r.ox&&(p=(r.oxp?_*r.ox*.01:r.ox)-_/2,d=(r.oyp?y*r.oy*.01:r.oy)-y/2,b+=p-(p*s+d*u),w+=d-(p*c+d*l)),g?(p=_/2,d=y/2,m+=", Dx="+(p-(p*s+d*u)+b)+", Dy="+(d-(p*c+d*l)+w)+")"):m+=", sizingMethod='auto expand')",
e.indexOf("DXImageTransform.Microsoft.Matrix(")!==-1?f.filter=e.replace(I,m):f.filter=m+" "+e,0!==t&&1!==t||1===s&&0===u&&0===c&&1===l&&(g&&m.indexOf("Dx=0, Dy=0")===-1||k.test(e)&&100!==parseFloat(RegExp.$1)||e.indexOf(e.indexOf("Alpha"))===-1&&f.removeAttribute("filter")),!g){var x,T,O,E=v<8?1:-1;for(p=r.ieOffsetX||0,d=r.ieOffsetY||0,r.ieOffsetX=Math.round((_-((s<0?-s:s)*_+(u<0?-u:u)*y))/2+b),r.ieOffsetY=Math.round((y-((l<0?-l:l)*y+(c<0?-c:c)*_))/2+w),xt=0;xt<4;xt++)T=ot[xt],x=h[T],n=x.indexOf("px")!==-1?parseFloat(x):tt(this.t,T,parseFloat(x),x.replace(S,""))||0,O=n!==r[T]?xt<2?-r.ieOffsetX:-r.ieOffsetY:xt<2?p-r.ieOffsetX:d-r.ieOffsetY,f[T]=(r[T]=Math.round(n-O*(0===xt||2===xt?1:E)))+"px"}}},Vt=V.set3DTransformRatio=V.setTransformRatio=function(t){var e,n,r,i,o,a,s,u,c,l,f,h,p,_,v,y,g,m,b,w,x,S,k,T=this.data,O=this.t.style,E=T.rotation,P=T.rotationX,A=T.rotationY,C=T.scaleX,R=T.scaleY,j=T.scaleZ,M=T.x,I=T.y,L=T.z,F=T.svg,N=T.perspective,B=T.force3D;if(((1===t||0===t)&&"auto"===B&&(this.tween._totalTime===this.tween._totalDuration||!this.tween._totalTime)||!B)&&!L&&!N&&!A&&!P&&1===j||Ot&&F||!Rt)return void(E||T.skewX||F?(E*=D,S=T.skewX*D,k=1e5,e=Math.cos(E)*C,i=Math.sin(E)*C,n=Math.sin(E-S)*-R,o=Math.cos(E-S)*R,S&&"simple"===T.skewType&&(g=Math.tan(S-T.skewY*D),g=Math.sqrt(1+g*g),n*=g,o*=g,T.skewY&&(g=Math.tan(T.skewY*D),g=Math.sqrt(1+g*g),e*=g,i*=g)),F&&(M+=T.xOrigin-(T.xOrigin*e+T.yOrigin*n)+T.xOffset,I+=T.yOrigin-(T.xOrigin*i+T.yOrigin*o)+T.yOffset,Ot&&(T.xPercent||T.yPercent)&&(_=this.t.getBBox(),M+=.01*T.xPercent*_.width,I+=.01*T.yPercent*_.height),_=1e-6,M<_&&M>-_&&(M=0),I<_&&I>-_&&(I=0)),b=(e*k|0)/k+","+(i*k|0)/k+","+(n*k|0)/k+","+(o*k|0)/k+","+M+","+I+")",F&&Ot?this.t.setAttribute("transform","matrix("+b):O[Pt]=(T.xPercent||T.yPercent?"translate("+T.xPercent+"%,"+T.yPercent+"%) matrix(":"matrix(")+b):O[Pt]=(T.xPercent||T.yPercent?"translate("+T.xPercent+"%,"+T.yPercent+"%) matrix(":"matrix(")+C+",0,0,"+R+","+M+","+I+")");if(d&&(_=1e-4,C<_&&C>-_&&(C=j=2e-5),R<_&&R>-_&&(R=j=2e-5),!N||T.z||T.rotationX||T.rotationY||(N=0)),E||T.skewX)E*=D,v=e=Math.cos(E),y=i=Math.sin(E),T.skewX&&(E-=T.skewX*D,v=Math.cos(E),y=Math.sin(E),"simple"===T.skewType&&(g=Math.tan((T.skewX-T.skewY)*D),g=Math.sqrt(1+g*g),v*=g,y*=g,T.skewY&&(g=Math.tan(T.skewY*D),g=Math.sqrt(1+g*g),e*=g,i*=g))),n=-y,o=v;else{if(!(A||P||1!==j||N||F))return void(O[Pt]=(T.xPercent||T.yPercent?"translate("+T.xPercent+"%,"+T.yPercent+"%) translate3d(":"translate3d(")+M+"px,"+I+"px,"+L+"px)"+(1!==C||1!==R?" scale("+C+","+R+")":""));e=o=1,n=i=0}c=1,r=a=s=u=l=f=0,h=N?-1/N:0,p=T.zOrigin,_=1e-6,w=",",x="0",E=A*D,E&&(v=Math.cos(E),y=Math.sin(E),s=-y,l=h*-y,r=e*y,a=i*y,c=v,h*=v,e*=v,i*=v),E=P*D,E&&(v=Math.cos(E),y=Math.sin(E),g=n*v+r*y,m=o*v+a*y,u=c*y,f=h*y,r=n*-y+r*v,a=o*-y+a*v,c*=v,h*=v,n=g,o=m),1!==j&&(r*=j,a*=j,c*=j,h*=j),1!==R&&(n*=R,o*=R,u*=R,f*=R),1!==C&&(e*=C,i*=C,s*=C,l*=C),(p||F)&&(p&&(M+=r*-p,I+=a*-p,L+=c*-p+p),F&&(M+=T.xOrigin-(T.xOrigin*e+T.yOrigin*n)+T.xOffset,I+=T.yOrigin-(T.xOrigin*i+T.yOrigin*o)+T.yOffset),M<_&&M>-_&&(M=x),I<_&&I>-_&&(I=x),L<_&&L>-_&&(L=0)),b=T.xPercent||T.yPercent?"translate("+T.xPercent+"%,"+T.yPercent+"%) matrix3d(":"matrix3d(",b+=(e<_&&e>-_?x:e)+w+(i<_&&i>-_?x:i)+w+(s<_&&s>-_?x:s),b+=w+(l<_&&l>-_?x:l)+w+(n<_&&n>-_?x:n)+w+(o<_&&o>-_?x:o),P||A||1!==j?(b+=w+(u<_&&u>-_?x:u)+w+(f<_&&f>-_?x:f)+w+(r<_&&r>-_?x:r),b+=w+(a<_&&a>-_?x:a)+w+(c<_&&c>-_?x:c)+w+(h<_&&h>-_?x:h)+w):b+=",0,0,0,0,1,0,",b+=M+w+I+w+L+w+(N?1+-L/N:1)+")",O[Pt]=b};l=jt.prototype,l.x=l.y=l.z=l.skewX=l.skewY=l.rotation=l.rotationX=l.rotationY=l.zOrigin=l.xPercent=l.yPercent=l.xOffset=l.yOffset=0,l.scaleX=l.scaleY=l.scaleZ=1,kt("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent,smoothOrigin",{parser:function(t,e,n,r,o,a,u){if(r._lastParsedTransform===u)return o;r._lastParsedTransform=u;var c;"function"==typeof u[n]&&(c=u[n],u[n]=e);var l,f,h,p,d,_,v,m,b,w=t._gsTransform,x=t.style,S=1e-6,k=Et.length,T=u,O={},E="transformOrigin",P=zt(t,i,!0,T.parseTransform),A=T.transform&&("function"==typeof T.transform?T.transform(g,y):T.transform);if(r._transform=P,A&&"string"==typeof A&&Pt)f=z.style,f[Pt]=A,f.display="block",f.position="absolute",U.body.appendChild(z),l=zt(z,null,!1),P.svg&&(_=P.xOrigin,v=P.yOrigin,l.x-=P.xOffset,l.y-=P.yOffset,(T.transformOrigin||T.svgOrigin)&&(A={},Dt(t,st(T.transformOrigin),A,T.svgOrigin,T.smoothOrigin,!0),_=A.xOrigin,v=A.yOrigin,l.x-=A.xOffset-P.xOffset,l.y-=A.yOffset-P.yOffset),(_||v)&&(m=qt(z,!0),l.x-=_-(_*m[0]+v*m[2]),l.y-=v-(_*m[1]+v*m[3]))),U.body.removeChild(z),l.perspective||(l.perspective=P.perspective),null!=T.xPercent&&(l.xPercent=ct(T.xPercent,P.xPercent)),null!=T.yPercent&&(l.yPercent=ct(T.yPercent,P.yPercent));else if("object"==typeof T){if(l={scaleX:ct(null!=T.scaleX?T.scaleX:T.scale,P.scaleX),scaleY:ct(null!=T.scaleY?T.scaleY:T.scale,P.scaleY),scaleZ:ct(T.scaleZ,P.scaleZ),x:ct(T.x,P.x),y:ct(T.y,P.y),z:ct(T.z,P.z),xPercent:ct(T.xPercent,P.xPercent),yPercent:ct(T.yPercent,P.yPercent),perspective:ct(T.transformPerspective,P.perspective)},d=T.directionalRotation,null!=d)if("object"==typeof d)for(f in d)T[f]=d[f];else T.rotation=d;"string"==typeof T.x&&T.x.indexOf("%")!==-1&&(l.x=0,l.xPercent=ct(T.x,P.xPercent)),"string"==typeof T.y&&T.y.indexOf("%")!==-1&&(l.y=0,l.yPercent=ct(T.y,P.yPercent)),l.rotation=lt("rotation"in T?T.rotation:"shortRotation"in T?T.shortRotation+"_short":"rotationZ"in T?T.rotationZ:P.rotation-P.skewY,P.rotation-P.skewY,"rotation",O),Rt&&(l.rotationX=lt("rotationX"in T?T.rotationX:"shortRotationX"in T?T.shortRotationX+"_short":P.rotationX||0,P.rotationX,"rotationX",O),l.rotationY=lt("rotationY"in T?T.rotationY:"shortRotationY"in T?T.shortRotationY+"_short":P.rotationY||0,P.rotationY,"rotationY",O)),l.skewX=lt(T.skewX,P.skewX-P.skewY),(l.skewY=lt(T.skewY,P.skewY))&&(l.skewX+=l.skewY,l.rotation+=l.skewY)}for(Rt&&null!=T.force3D&&(P.force3D=T.force3D,p=!0),P.skewType=T.skewType||P.skewType||s.defaultSkewType,h=P.force3D||P.z||P.rotationX||P.rotationY||l.z||l.rotationX||l.rotationY||l.perspective,h||null==T.scale||(l.scaleZ=1);--k>-1;)b=Et[k],A=l[b]-P[b],(A>S||A<-S||null!=T[b]||null!=B[b])&&(p=!0,o=new mt(P,b,P[b],A,o),b in O&&(o.e=O[b]),o.xs0=0,o.plugin=a,r._overwriteProps.push(o.n));return A=T.transformOrigin,P.svg&&(A||T.svgOrigin)&&(_=P.xOffset,v=P.yOffset,Dt(t,st(A),l,T.svgOrigin,T.smoothOrigin),o=bt(P,"xOrigin",(w?P:l).xOrigin,l.xOrigin,o,E),o=bt(P,"yOrigin",(w?P:l).yOrigin,l.yOrigin,o,E),_===P.xOffset&&v===P.yOffset||(o=bt(P,"xOffset",w?_:P.xOffset,P.xOffset,o,E),o=bt(P,"yOffset",w?v:P.yOffset,P.yOffset,o,E)),A=Ot?null:"0px 0px"),(A||Rt&&h&&P.zOrigin)&&(Pt?(p=!0,b=Ct,A=(A||Z(t,b,i,!1,"50% 50%"))+"",o=new mt(x,b,0,0,o,(-1),E),o.b=x[b],o.plugin=a,Rt?(f=P.zOrigin,A=A.split(" "),P.zOrigin=(A.length>2&&(0===f||"0px"!==A[2])?parseFloat(A[2]):f)||0,o.xs0=o.e=A[0]+" "+(A[1]||"50%")+" 0px",o=new mt(P,"zOrigin",0,0,o,(-1),o.n),o.b=f,o.xs0=o.e=P.zOrigin):o.xs0=o.e=A):st(A+"",P)),p&&(r._transformType=P.svg&&Ot||!h&&3!==this._transformType?2:3),c&&(u[n]=c),o},prefix:!0}),kt("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),kt("borderRadius",{defaultValue:"0px",parser:function(t,e,n,o,a,s){e=this.format(e);var u,c,l,f,h,p,d,_,v,y,g,m,b,w,x,S,k=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],T=t.style;for(v=parseFloat(t.offsetWidth),y=parseFloat(t.offsetHeight),u=e.split(" "),c=0;c<k.length;c++)this.p.indexOf("border")&&(k[c]=K(k[c])),h=f=Z(t,k[c],i,!1,"0px"),h.indexOf(" ")!==-1&&(f=h.split(" "),h=f[0],f=f[1]),p=l=u[c],d=parseFloat(h),m=h.substr((d+"").length),b="="===p.charAt(1),b?(_=parseInt(p.charAt(0)+"1",10),p=p.substr(2),_*=parseFloat(p),g=p.substr((_+"").length-(_<0?1:0))||""):(_=parseFloat(p),g=p.substr((_+"").length)),""===g&&(g=r[n]||m),g!==m&&(w=tt(t,"borderLeft",d,m),x=tt(t,"borderTop",d,m),"%"===g?(h=w/v*100+"%",f=x/y*100+"%"):"em"===g?(S=tt(t,"borderLeft",1,"em"),h=w/S+"em",f=x/S+"em"):(h=w+"px",f=x+"px"),b&&(p=parseFloat(h)+_+g,l=parseFloat(f)+_+g)),a=wt(T,k[c],h+" "+f,p+" "+l,!1,"0px",a);return a},prefix:!0,formatter:vt("0px 0px 0px 0px",!1,!0)}),kt("borderBottomLeftRadius,borderBottomRightRadius,borderTopLeftRadius,borderTopRightRadius",{defaultValue:"0px",parser:function(t,e,n,r,o,a){return wt(t.style,n,this.format(Z(t,n,i,!1,"0px 0px")),this.format(e),!1,"0px",o)},prefix:!0,formatter:vt("0px 0px",!1,!0)}),kt("backgroundPosition",{defaultValue:"0 0",parser:function(t,e,n,r,o,a){var s,u,c,l,f,h,p="background-position",d=i||J(t,null),_=this.format((d?v?d.getPropertyValue(p+"-x")+" "+d.getPropertyValue(p+"-y"):d.getPropertyValue(p):t.currentStyle.backgroundPositionX+" "+t.currentStyle.backgroundPositionY)||"0 0"),y=this.format(e);if(_.indexOf("%")!==-1!=(y.indexOf("%")!==-1)&&y.split(",").length<2&&(h=Z(t,"backgroundImage").replace(C,""),h&&"none"!==h)){for(s=_.split(" "),u=y.split(" "),H.setAttribute("src",h),c=2;--c>-1;)_=s[c],l=_.indexOf("%")!==-1,l!==(u[c].indexOf("%")!==-1)&&(f=0===c?t.offsetWidth-H.width:t.offsetHeight-H.height,s[c]=l?parseFloat(_)/100*f+"px":parseFloat(_)/f*100+"%");_=s.join(" ")}return this.parseComplex(t.style,_,y,o,a)},formatter:st}),kt("backgroundSize",{defaultValue:"0 0",formatter:function(t){return t+="",st(t.indexOf(" ")===-1?t+" "+t:t)}}),kt("perspective",{defaultValue:"0px",prefix:!0}),kt("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),kt("transformStyle",{prefix:!0}),kt("backfaceVisibility",{prefix:!0}),kt("userSelect",{prefix:!0}),kt("margin",{parser:yt("marginTop,marginRight,marginBottom,marginLeft")}),kt("padding",{parser:yt("paddingTop,paddingRight,paddingBottom,paddingLeft")}),kt("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(t,e,n,r,o,a){var s,u,c;return v<9?(u=t.currentStyle,c=v<8?" ":",",s="rect("+u.clipTop+c+u.clipRight+c+u.clipBottom+c+u.clipLeft+")",e=this.format(e).split(",").join(c)):(s=this.format(Z(t,this.p,i,!1,this.dflt)),e=this.format(e)),this.parseComplex(t.style,s,e,o,a)}}),kt("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),kt("autoRound,strictUnits",{parser:function(t,e,n,r,i){return i}}),kt("border",{defaultValue:"0px solid #000",parser:function(t,e,n,r,o,a){var s=Z(t,"borderTopWidth",i,!1,"0px"),u=this.format(e).split(" "),c=u[0].replace(S,"");return"px"!==c&&(s=parseFloat(s)/tt(t,"borderTopWidth",1,c)+c),this.parseComplex(t.style,this.format(s+" "+Z(t,"borderTopStyle",i,!1,"solid")+" "+Z(t,"borderTopColor",i,!1,"#000")),u.join(" "),o,a)},color:!0,formatter:function(t){var e=t.split(" ");return e[0]+" "+(e[1]||"solid")+" "+(t.match(_t)||["#000"])[0]}}),kt("borderWidth",{parser:yt("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),kt("float,cssFloat,styleFloat",{parser:function(t,e,n,r,i,o){var a=t.style,s="cssFloat"in a?"cssFloat":"styleFloat";return new mt(a,s,0,0,i,(-1),n,(!1),0,a[s],e)}});var Wt=function(t){var e,n=this.t,r=n.filter||Z(this.data,"filter")||"",i=this.s+this.c*t|0;100===i&&(r.indexOf("atrix(")===-1&&r.indexOf("radient(")===-1&&r.indexOf("oader(")===-1?(n.removeAttribute("filter"),e=!Z(this.data,"filter")):(n.filter=r.replace(O,""),e=!0)),e||(this.xn1&&(n.filter=r=r||"alpha(opacity="+i+")"),r.indexOf("pacity")===-1?0===i&&this.xn1||(n.filter=r+" alpha(opacity="+i+")"):n.filter=r.replace(k,"opacity="+i))};kt("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(t,e,n,r,o,a){var s=parseFloat(Z(t,"opacity",i,!1,"1")),u=t.style,c="autoAlpha"===n;return"string"==typeof e&&"="===e.charAt(1)&&(e=("-"===e.charAt(0)?-1:1)*parseFloat(e.substr(2))+s),c&&1===s&&"hidden"===Z(t,"visibility",i)&&0!==e&&(s=0),Y?o=new mt(u,"opacity",s,e-s,o):(o=new mt(u,"opacity",100*s,100*(e-s),o),o.xn1=c?1:0,u.zoom=1,o.type=2,o.b="alpha(opacity="+o.s+")",o.e="alpha(opacity="+(o.s+o.c)+")",o.data=t,o.plugin=a,o.setRatio=Wt),c&&(o=new mt(u,"visibility",0,0,o,(-1),null,(!1),0,0!==s?"inherit":"hidden",0===e?"hidden":"inherit"),o.xs0="inherit",r._overwriteProps.push(o.n),r._overwriteProps.push(n)),o}});var Yt=function(t,e){e&&(t.removeProperty?("ms"!==e.substr(0,2)&&"webkit"!==e.substr(0,6)||(e="-"+e),t.removeProperty(e.replace(P,"-$1").toLowerCase())):t.removeAttribute(e))},Gt=function(t){if(this.t._gsClassPT=this,1===t||0===t){this.t.setAttribute("class",0===t?this.b:this.e);for(var e=this.data,n=this.t.style;e;)e.v?n[e.p]=e.v:Yt(n,e.p),e=e._next;1===t&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.getAttribute("class")!==this.e&&this.t.setAttribute("class",this.e)};kt("className",{parser:function(t,e,r,o,a,s,u){var c,l,f,h,p,d=t.getAttribute("class")||"",_=t.style.cssText;if(a=o._classNamePT=new mt(t,r,0,0,a,2),a.setRatio=Gt,a.pr=-11,n=!0,a.b=d,l=nt(t,i),f=t._gsClassPT){for(h={},p=f.data;p;)h[p.p]=1,p=p._next;f.setRatio(1)}return t._gsClassPT=a,a.e="="!==e.charAt(1)?e:d.replace(new RegExp("(?:\\s|^)"+e.substr(2)+"(?![\\w-])"),"")+("+"===e.charAt(0)?" "+e.substr(2):""),t.setAttribute("class",a.e),c=rt(t,l,nt(t),u,h),t.setAttribute("class",d),a.data=c.firstMPT,t.style.cssText=_,a=a.xfirst=o.parse(t,c.difs,a,s)}});var Xt=function(t){if((1===t||0===t)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var e,n,r,i,o,a=this.t.style,s=c.transform.parse;if("all"===this.e)a.cssText="",i=!0;else for(e=this.e.split(" ").join("").split(","),r=e.length;--r>-1;)n=e[r],c[n]&&(c[n].parse===s?i=!0:n="transformOrigin"===n?Ct:c[n].p),Yt(a,n);i&&(Yt(a,Pt),o=this.t._gsTransform,o&&(o.svg&&(this.t.removeAttribute("data-svg-origin"),this.t.removeAttribute("transform")),delete this.t._gsTransform))}};for(kt("clearProps",{parser:function(t,e,r,i,o){return o=new mt(t,r,0,0,o,2),o.setRatio=Xt,o.e=e,o.pr=-10,o.data=i._tween,n=!0,o}}),l="bezier,throwProps,physicsProps,physics2D".split(","),xt=l.length;xt--;)Tt(l[xt]);l=s.prototype,l._firstPT=l._lastParsedTransform=l._transform=null,l._onInitTween=function(t,e,a,u){if(!t.nodeType)return!1;this._target=y=t,this._tween=a,this._vars=e,g=u,f=e.autoRound,n=!1,r=e.suffixMap||s.suffixMap,i=J(t,""),o=this._overwriteProps;var l,d,v,m,b,w,x,S,k,O=t.style;if(h&&""===O.zIndex&&(l=Z(t,"zIndex",i),"auto"!==l&&""!==l||this._addLazySet(O,"zIndex",0)),"string"==typeof e&&(m=O.cssText,l=nt(t,i),O.cssText=m+";"+e,l=rt(t,l,nt(t)).difs,!Y&&T.test(e)&&(l.opacity=parseFloat(RegExp.$1)),e=l,O.cssText=m),e.className?this._firstPT=d=c.className.parse(t,e.className,"className",this,null,null,e):this._firstPT=d=this.parse(t,e,null),this._transformType){for(k=3===this._transformType,Pt?p&&(h=!0,""===O.zIndex&&(x=Z(t,"zIndex",i),"auto"!==x&&""!==x||this._addLazySet(O,"zIndex",0)),_&&this._addLazySet(O,"WebkitBackfaceVisibility",this._vars.WebkitBackfaceVisibility||(k?"visible":"hidden"))):O.zoom=1,v=d;v&&v._next;)v=v._next;S=new mt(t,"transform",0,0,null,2),this._linkCSSP(S,null,v),S.setRatio=Pt?Vt:Ht,S.data=this._transform||zt(t,i,!0),S.tween=a,S.pr=-1,o.pop()}if(n){for(;d;){for(w=d._next,v=m;v&&v.pr>d.pr;)v=v._next;(d._prev=v?v._prev:b)?d._prev._next=d:m=d,(d._next=v)?v._prev=d:b=d,d=w}this._firstPT=m}return!0},l.parse=function(t,e,n,o){var a,s,u,l,h,p,d,_,v,m,b=t.style;for(a in e)p=e[a],"function"==typeof p&&(p=p(g,y)),s=c[a],s?n=s.parse(t,p,a,this,n,o,e):(h=Z(t,a,i)+"",v="string"==typeof p,"color"===a||"fill"===a||"stroke"===a||a.indexOf("Color")!==-1||v&&E.test(p)?(v||(p=pt(p),p=(p.length>3?"rgba(":"rgb(")+p.join(",")+")"),n=wt(b,a,h,p,!0,"transparent",n,0,o)):v&&F.test(p)?n=wt(b,a,h,p,!0,null,n,0,o):(u=parseFloat(h),d=u||0===u?h.substr((u+"").length):"",""!==h&&"auto"!==h||("width"===a||"height"===a?(u=at(t,a,i),d="px"):"left"===a||"top"===a?(u=et(t,a,i),d="px"):(u="opacity"!==a?0:1,d="")),m=v&&"="===p.charAt(1),m?(l=parseInt(p.charAt(0)+"1",10),p=p.substr(2),l*=parseFloat(p),_=p.replace(S,"")):(l=parseFloat(p),_=v?p.replace(S,""):""),""===_&&(_=a in r?r[a]:d),p=l||0===l?(m?l+u:l)+_:e[a],d!==_&&""!==_&&(l||0===l)&&u&&(u=tt(t,a,u,d),"%"===_?(u/=tt(t,a,100,"%")/100,e.strictUnits!==!0&&(h=u+"%")):"em"===_||"rem"===_||"vw"===_||"vh"===_?u/=tt(t,a,1,_):"px"!==_&&(l=tt(t,a,l,_),_="px"),m&&(l||0===l)&&(p=l+u+_)),m&&(l+=u),!u&&0!==u||!l&&0!==l?void 0!==b[a]&&(p||p+""!="NaN"&&null!=p)?(n=new mt(b,a,l||u||0,0,n,(-1),a,(!1),0,h,p),n.xs0="none"!==p||"display"!==a&&a.indexOf("Style")===-1?p:h):X("invalid "+a+" tween value: "+e[a]):(n=new mt(b,a,u,l-u,n,0,a,f!==!1&&("px"===_||"zIndex"===a),0,h,p),n.xs0=_))),o&&n&&!n.plugin&&(n.plugin=o);return n},l.setRatio=function(t){var e,n,r,i=this._firstPT,o=1e-6;if(1!==t||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(t||this._tween._time!==this._tween._duration&&0!==this._tween._time||this._tween._rawPrevTime===-1e-6)for(;i;){if(e=i.c*t+i.s,i.r?e=Math.round(e):e<o&&e>-o&&(e=0),i.type)if(1===i.type)if(r=i.l,2===r)i.t[i.p]=i.xs0+e+i.xs1+i.xn1+i.xs2;else if(3===r)i.t[i.p]=i.xs0+e+i.xs1+i.xn1+i.xs2+i.xn2+i.xs3;else if(4===r)i.t[i.p]=i.xs0+e+i.xs1+i.xn1+i.xs2+i.xn2+i.xs3+i.xn3+i.xs4;else if(5===r)i.t[i.p]=i.xs0+e+i.xs1+i.xn1+i.xs2+i.xn2+i.xs3+i.xn3+i.xs4+i.xn4+i.xs5;else{for(n=i.xs0+e+i.xs1,r=1;r<i.l;r++)n+=i["xn"+r]+i["xs"+(r+1)];i.t[i.p]=n}else i.type===-1?i.t[i.p]=i.xs0:i.setRatio&&i.setRatio(t);else i.t[i.p]=e+i.xs0;i=i._next}else for(;i;)2!==i.type?i.t[i.p]=i.b:i.setRatio(t),i=i._next;else for(;i;){if(2!==i.type)if(i.r&&i.type!==-1)if(e=Math.round(i.s+i.c),i.type){if(1===i.type){for(r=i.l,n=i.xs0+e+i.xs1,r=1;r<i.l;r++)n+=i["xn"+r]+i["xs"+(r+1)];i.t[i.p]=n}}else i.t[i.p]=e+i.xs0;else i.t[i.p]=i.e;else i.setRatio(t);i=i._next}},l._enableTransforms=function(t){this._transform=this._transform||zt(this._target,i,!0),this._transformType=this._transform.svg&&Ot||!t&&3!==this._transformType?2:3};var $t=function(t){this.t[this.p]=this.e,this.data._linkCSSP(this,this._next,null,!0)};l._addLazySet=function(t,e,n){var r=this._firstPT=new mt(t,e,0,0,this._firstPT,2);r.e=n,r.setRatio=$t,r.data=this},l._linkCSSP=function(t,e,n,r){return t&&(e&&(e._prev=t),t._next&&(t._next._prev=t._prev),t._prev?t._prev._next=t._next:this._firstPT===t&&(this._firstPT=t._next,r=!0),n?n._next=t:r||null!==this._firstPT||(this._firstPT=t),t._next=e,t._prev=n),t},l._mod=function(t){for(var e=this._firstPT;e;)"function"==typeof t[e.p]&&t[e.p]===Math.round&&(e.r=1),e=e._next},l._kill=function(e){var n,r,i,o=e;if(e.autoAlpha||e.alpha){o={};for(r in e)o[r]=e[r];o.opacity=1,o.autoAlpha&&(o.visibility=1)}for(e.className&&(n=this._classNamePT)&&(i=n.xfirst,i&&i._prev?this._linkCSSP(i._prev,n._next,i._prev._prev):i===this._firstPT&&(this._firstPT=n._next),n._next&&this._linkCSSP(n._next,n._next._next,i._prev),this._classNamePT=null),n=this._firstPT;n;)n.plugin&&n.plugin!==r&&n.plugin._kill&&(n.plugin._kill(e),r=n.plugin),n=n._next;return t.prototype._kill.call(this,o)};var Qt=function(t,e,n){var r,i,o,a;if(t.slice)for(i=t.length;--i>-1;)Qt(t[i],e,n);else for(r=t.childNodes,i=r.length;--i>-1;)o=r[i],a=o.type,o.style&&(e.push(nt(o)),n&&n.push(o)),1!==a&&9!==a&&11!==a||!o.childNodes.length||Qt(o,e,n)};return s.cascadeTo=function(t,n,r){var i,o,a,s,u=e.to(t,n,r),c=[u],l=[],f=[],h=[],p=e._internals.reservedProps;for(t=u._targets||u.target,Qt(t,l,h),u.render(n,!0,!0),Qt(t,f),u.render(0,!0,!0),u._enabled(!0),i=h.length;--i>-1;)if(o=rt(h[i],l[i],f[i]),o.firstMPT){o=o.difs;for(a in r)p[a]&&(o[a]=r[a]);s={};for(a in o)s[a]=l[i][a];c.push(e.fromTo(h[i],n,s,o))}return c},t.activate([s]),s},!0),function(){var t=a._gsDefine.plugin({propName:"roundProps",version:"1.6.0",priority:-1,API:2,init:function(t,e,n){return this._tween=n,!0}}),e=function(t){for(;t;)t.f||t.blob||(t.m=Math.round),t=t._next},n=t.prototype;n._onInitAllProps=function(){for(var t,n,r,i=this._tween,o=i.vars.roundProps.join?i.vars.roundProps:i.vars.roundProps.split(","),a=o.length,s={},u=i._propLookup.roundProps;--a>-1;)s[o[a]]=Math.round;for(a=o.length;--a>-1;)for(t=o[a],n=i._firstPT;n;)r=n._next,n.pg?n.t._mod(s):n.n===t&&(2===n.f&&n.t?e(n.t._firstPT):(this._add(n.t,t,n.s,n.c),r&&(r._prev=n._prev),n._prev?n._prev._next=r:i._firstPT===n&&(i._firstPT=r),n._next=n._prev=null,i._propLookup[t]=u)),n=r;return!1},n._add=function(t,e,n,r){this._addTween(t,e,n,n+r,e,Math.round),this._overwriteProps.push(e)}}(),function(){a._gsDefine.plugin({propName:"attr",API:2,version:"0.6.0",init:function(t,e,n,r){var i,o;if("function"!=typeof t.setAttribute)return!1;for(i in e)o=e[i],"function"==typeof o&&(o=o(r,t)),this._addTween(t,"setAttribute",t.getAttribute(i)+"",o+"",i,!1,i),this._overwriteProps.push(i);return!0}})}(),a._gsDefine.plugin({propName:"directionalRotation",version:"0.3.0",API:2,init:function(t,e,n,r){"object"!=typeof e&&(e={rotation:e}),this.finals={};var i,o,a,s,u,c,l=e.useRadians===!0?2*Math.PI:360,f=1e-6;for(i in e)"useRadians"!==i&&(s=e[i],"function"==typeof s&&(s=s(r,t)),c=(s+"").split("_"),o=c[0],a=parseFloat("function"!=typeof t[i]?t[i]:t[i.indexOf("set")||"function"!=typeof t["get"+i.substr(3)]?i:"get"+i.substr(3)]()),s=this.finals[i]="string"==typeof o&&"="===o.charAt(1)?a+parseInt(o.charAt(0)+"1",10)*Number(o.substr(2)):Number(o)||0,u=s-a,c.length&&(o=c.join("_"),o.indexOf("short")!==-1&&(u%=l,u!==u%(l/2)&&(u=u<0?u+l:u-l)),o.indexOf("_cw")!==-1&&u<0?u=(u+9999999999*l)%l-(u/l|0)*l:o.indexOf("ccw")!==-1&&u>0&&(u=(u-9999999999*l)%l-(u/l|0)*l)),(u>f||u<-f)&&(this._addTween(t,i,a,a+u,i),this._overwriteProps.push(i)));return!0},set:function(t){var e;if(1!==t)this._super.setRatio.call(this,t);else for(e=this._firstPT;e;)e.f?e.t[e.p](this.finals[e.p]):e.t[e.p]=this.finals[e.p],e=e._next}})._autoCSS=!0,a._gsDefine("easing.Back",["easing.Ease"],function(t){var e,n,r,i=a.GreenSockGlobals||a,o=i.com.greensock,s=2*Math.PI,u=Math.PI/2,c=o._class,l=function(e,n){var r=c("easing."+e,function(){},!0),i=r.prototype=new t;return i.constructor=r,i.getRatio=n,r},f=t.register||function(){},h=function(t,e,n,r,i){var o=c("easing."+t,{easeOut:new e,easeIn:new n,easeInOut:new r},!0);return f(o,t),o},p=function(t,e,n){this.t=t,this.v=e,n&&(this.next=n,n.prev=this,this.c=n.v-e,this.gap=n.t-t)},d=function(e,n){var r=c("easing."+e,function(t){this._p1=t||0===t?t:1.70158,this._p2=1.525*this._p1},!0),i=r.prototype=new t;return i.constructor=r,i.getRatio=n,i.config=function(t){return new r(t)},r},_=h("Back",d("BackOut",function(t){return(t-=1)*t*((this._p1+1)*t+this._p1)+1}),d("BackIn",function(t){return t*t*((this._p1+1)*t-this._p1)}),d("BackInOut",function(t){return(t*=2)<1?.5*t*t*((this._p2+1)*t-this._p2):.5*((t-=2)*t*((this._p2+1)*t+this._p2)+2)})),v=c("easing.SlowMo",function(t,e,n){e=e||0===e?e:.7,null==t?t=.7:t>1&&(t=1),this._p=1!==t?e:0,this._p1=(1-t)/2,this._p2=t,this._p3=this._p1+this._p2,this._calcEnd=n===!0},!0),y=v.prototype=new t;return y.constructor=v,y.getRatio=function(t){var e=t+(.5-t)*this._p;return t<this._p1?this._calcEnd?1-(t=1-t/this._p1)*t:e-(t=1-t/this._p1)*t*t*t*e:t>this._p3?this._calcEnd?1-(t=(t-this._p3)/this._p1)*t:e+(t-e)*(t=(t-this._p3)/this._p1)*t*t*t:this._calcEnd?1:e},v.ease=new v(.7,.7),y.config=v.config=function(t,e,n){return new v(t,e,n)},e=c("easing.SteppedEase",function(t){t=t||1,this._p1=1/t,this._p2=t+1},!0),y=e.prototype=new t,y.constructor=e,y.getRatio=function(t){return t<0?t=0:t>=1&&(t=.999999999),(this._p2*t>>0)*this._p1},y.config=e.config=function(t){return new e(t)},n=c("easing.RoughEase",function(e){e=e||{};for(var n,r,i,o,a,s,u=e.taper||"none",c=[],l=0,f=0|(e.points||20),h=f,d=e.randomize!==!1,_=e.clamp===!0,v=e.template instanceof t?e.template:null,y="number"==typeof e.strength?.4*e.strength:.4;--h>-1;)n=d?Math.random():1/f*h,r=v?v.getRatio(n):n,"none"===u?i=y:"out"===u?(o=1-n,i=o*o*y):"in"===u?i=n*n*y:n<.5?(o=2*n,i=o*o*.5*y):(o=2*(1-n),i=o*o*.5*y),d?r+=Math.random()*i-.5*i:h%2?r+=.5*i:r-=.5*i,_&&(r>1?r=1:r<0&&(r=0)),c[l++]={x:n,y:r};for(c.sort(function(t,e){return t.x-e.x}),s=new p(1,1,null),h=f;--h>-1;)a=c[h],s=new p(a.x,a.y,s);this._prev=new p(0,0,0!==s.t?s:s.next)},!0),y=n.prototype=new t,y.constructor=n,y.getRatio=function(t){var e=this._prev;if(t>e.t){for(;e.next&&t>=e.t;)e=e.next;e=e.prev}else for(;e.prev&&t<=e.t;)e=e.prev;return this._prev=e,e.v+(t-e.t)/e.gap*e.c},y.config=function(t){return new n(t)},n.ease=new n,h("Bounce",l("BounceOut",function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}),l("BounceIn",function(t){return(t=1-t)<1/2.75?1-7.5625*t*t:t<2/2.75?1-(7.5625*(t-=1.5/2.75)*t+.75):t<2.5/2.75?1-(7.5625*(t-=2.25/2.75)*t+.9375):1-(7.5625*(t-=2.625/2.75)*t+.984375)}),l("BounceInOut",function(t){var e=t<.5;return t=e?1-2*t:2*t-1,t=t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,e?.5*(1-t):.5*t+.5})),h("Circ",l("CircOut",function(t){return Math.sqrt(1-(t-=1)*t)}),l("CircIn",function(t){return-(Math.sqrt(1-t*t)-1)}),l("CircInOut",function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)})),r=function(e,n,r){var i=c("easing."+e,function(t,e){this._p1=t>=1?t:1,this._p2=(e||r)/(t<1?t:1),this._p3=this._p2/s*(Math.asin(1/this._p1)||0),this._p2=s/this._p2},!0),o=i.prototype=new t;return o.constructor=i,o.getRatio=n,o.config=function(t,e){return new i(t,e)},i},h("Elastic",r("ElasticOut",function(t){return this._p1*Math.pow(2,-10*t)*Math.sin((t-this._p3)*this._p2)+1},.3),r("ElasticIn",function(t){return-(this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*this._p2))},.3),r("ElasticInOut",function(t){return(t*=2)<1?-.5*(this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*this._p2)):this._p1*Math.pow(2,-10*(t-=1))*Math.sin((t-this._p3)*this._p2)*.5+1},.45)),h("Expo",l("ExpoOut",function(t){return 1-Math.pow(2,-10*t)}),l("ExpoIn",function(t){return Math.pow(2,10*(t-1))-.001}),l("ExpoInOut",function(t){return(t*=2)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))})),h("Sine",l("SineOut",function(t){return Math.sin(t*u)}),l("SineIn",function(t){return-Math.cos(t*u)+1}),l("SineInOut",function(t){return-.5*(Math.cos(Math.PI*t)-1)})),c("easing.EaseLookup",{find:function(e){return t.map[e]}},!0),f(i.SlowMo,"SlowMo","ease,"),f(n,"RoughEase","ease,"),f(e,"SteppedEase","ease,"),_},!0)}),a._gsDefine&&a._gsQueue.pop()(),function(r,a){"use strict";var s={},u=r.GreenSockGlobals=r.GreenSockGlobals||r;if(!u.TweenLite){var c,l,f,h,p,d=function(t){var e,n=t.split("."),r=u;for(e=0;e<n.length;e++)r[n[e]]=r=r[n[e]]||{};return r},_=d("com.greensock"),v=1e-10,y=function(t){var e,n=[],r=t.length;for(e=0;e!==r;n.push(t[e++]));return n},g=function(){},m=function(){var t=Object.prototype.toString,e=t.call([]);return function(n){return null!=n&&(n instanceof Array||"object"==typeof n&&!!n.push&&t.call(n)===e)}}(),b={},w=function(r,c,l,f){this.sc=b[r]?b[r].sc:[],b[r]=this,this.gsClass=null,this.func=l;var h=[];this.check=function(p){for(var _,v,y,g,m,x=c.length,S=x;--x>-1;)(_=b[c[x]]||new w(c[x],[])).gsClass?(h[x]=_.gsClass,S--):p&&_.sc.push(this);if(0===S&&l){if(v=("com.greensock."+r).split("."),y=v.pop(),g=d(v.join("."))[y]=this.gsClass=l.apply(l,h),f)if(u[y]=s[y]=g,m="undefined"!=typeof t&&t.exports,!m&&n(398))i=[],o=function(){return g}.apply(e,i),!(void 0!==o&&(t.exports=o));else if(m)if(r===a){t.exports=s[a]=g;for(x in s)g[x]=s[x]}else s[a]&&(s[a][y]=g);for(x=0;x<this.sc.length;x++)this.sc[x].check()}},this.check(!0)},x=r._gsDefine=function(t,e,n,r){return new w(t,e,n,r)},S=_._class=function(t,e,n){return e=e||function(){},x(t,[],function(){return e},n),e};x.globals=u;var k=[0,0,1,1],T=S("easing.Ease",function(t,e,n,r){this._func=t,this._type=n||0,this._power=r||0,this._params=e?k.concat(e):k},!0),O=T.map={},E=T.register=function(t,e,n,r){for(var i,o,a,s,u=e.split(","),c=u.length,l=(n||"easeIn,easeOut,easeInOut").split(",");--c>-1;)for(o=u[c],i=r?S("easing."+o,null,!0):_.easing[o]||{},a=l.length;--a>-1;)s=l[a],O[o+"."+s]=O[s+o]=i[s]=t.getRatio?t:t[s]||new t};for(f=T.prototype,f._calcEnd=!1,f.getRatio=function(t){if(this._func)return this._params[0]=t,this._func.apply(null,this._params);var e=this._type,n=this._power,r=1===e?1-t:2===e?t:t<.5?2*t:2*(1-t);return 1===n?r*=r:2===n?r*=r*r:3===n?r*=r*r*r:4===n&&(r*=r*r*r*r),1===e?1-r:2===e?r:t<.5?r/2:1-r/2},c=["Linear","Quad","Cubic","Quart","Quint,Strong"],l=c.length;--l>-1;)f=c[l]+",Power"+l,E(new T(null,null,1,l),f,"easeOut",!0),E(new T(null,null,2,l),f,"easeIn"+(0===l?",easeNone":"")),E(new T(null,null,3,l),f,"easeInOut");O.linear=_.easing.Linear.easeIn,O.swing=_.easing.Quad.easeInOut;var P=S("events.EventDispatcher",function(t){this._listeners={},this._eventTarget=t||this});f=P.prototype,f.addEventListener=function(t,e,n,r,i){i=i||0;var o,a,s=this._listeners[t],u=0;for(this!==h||p||h.wake(),null==s&&(this._listeners[t]=s=[]),a=s.length;--a>-1;)o=s[a],o.c===e&&o.s===n?s.splice(a,1):0===u&&o.pr<i&&(u=a+1);s.splice(u,0,{c:e,s:n,up:r,pr:i})},f.removeEventListener=function(t,e){var n,r=this._listeners[t];if(r)for(n=r.length;--n>-1;)if(r[n].c===e)return void r.splice(n,1)},f.dispatchEvent=function(t){var e,n,r,i=this._listeners[t];if(i)for(e=i.length,e>1&&(i=i.slice(0)),n=this._eventTarget;--e>-1;)r=i[e],r&&(r.up?r.c.call(r.s||n,{type:t,target:n}):r.c.call(r.s||n))};var A=r.requestAnimationFrame,C=r.cancelAnimationFrame,R=Date.now||function(){return(new Date).getTime()},j=R();for(c=["ms","moz","webkit","o"],l=c.length;--l>-1&&!A;)A=r[c[l]+"RequestAnimationFrame"],C=r[c[l]+"CancelAnimationFrame"]||r[c[l]+"CancelRequestAnimationFrame"];S("Ticker",function(t,e){var n,r,i,o,a,s=this,u=R(),c=!(e===!1||!A)&&"auto",l=500,f=33,d="tick",_=function(t){var e,c,h=R()-j;h>l&&(u+=h-f),j+=h,s.time=(j-u)/1e3,e=s.time-a,(!n||e>0||t===!0)&&(s.frame++,a+=e+(e>=o?.004:o-e),c=!0),t!==!0&&(i=r(_)),c&&s.dispatchEvent(d)};P.call(s),s.time=s.frame=0,s.tick=function(){_(!0)},s.lagSmoothing=function(t,e){l=t||1/v,f=Math.min(e,l,0)},s.sleep=function(){null!=i&&(c&&C?C(i):clearTimeout(i),r=g,i=null,s===h&&(p=!1))},s.wake=function(t){null!==i?s.sleep():t?u+=-j+(j=R()):s.frame>10&&(j=R()-l+5),r=0===n?g:c&&A?A:function(t){return setTimeout(t,1e3*(a-s.time)+1|0)},s===h&&(p=!0),_(2)},s.fps=function(t){return arguments.length?(n=t,o=1/(n||60),a=this.time+o,void s.wake()):n},s.useRAF=function(t){return arguments.length?(s.sleep(),c=t,void s.fps(n)):c},s.fps(t),setTimeout(function(){"auto"===c&&s.frame<5&&"hidden"!==document.visibilityState&&s.useRAF(!1)},1500)}),f=_.Ticker.prototype=new _.events.EventDispatcher,f.constructor=_.Ticker;var M=S("core.Animation",function(t,e){if(this.vars=e=e||{},this._duration=this._totalDuration=t||0,this._delay=Number(e.delay)||0,this._timeScale=1,this._active=e.immediateRender===!0,this.data=e.data,this._reversed=e.reversed===!0,J){p||h.wake();var n=this.vars.useFrames?K:J;n.add(this,n._time),this.vars.paused&&this.paused(!0)}});h=M.ticker=new _.Ticker,f=M.prototype,f._dirty=f._gc=f._initted=f._paused=!1,f._totalTime=f._time=0,f._rawPrevTime=-1,f._next=f._last=f._onUpdate=f._timeline=f.timeline=null,f._paused=!1;var I=function(){p&&R()-j>2e3&&h.wake(),setTimeout(I,2e3)};I(),f.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},f.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},f.resume=function(t,e){return null!=t&&this.seek(t,e),this.paused(!1)},f.seek=function(t,e){return this.totalTime(Number(t),e!==!1)},f.restart=function(t,e){return this.reversed(!1).paused(!1).totalTime(t?-this._delay:0,e!==!1,!0)},f.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},f.render=function(t,e,n){},f.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,!this._gc&&this.timeline||this._enabled(!0),this},f.isActive=function(){var t,e=this._timeline,n=this._startTime;return!e||!this._gc&&!this._paused&&e.isActive()&&(t=e.rawTime())>=n&&t<n+this.totalDuration()/this._timeScale},f._enabled=function(t,e){return p||h.wake(),this._gc=!t,this._active=this.isActive(),e!==!0&&(t&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!t&&this.timeline&&this._timeline._remove(this,!0)),
!1},f._kill=function(t,e){return this._enabled(!1,!1)},f.kill=function(t,e){return this._kill(t,e),this},f._uncache=function(t){for(var e=t?this:this.timeline;e;)e._dirty=!0,e=e.timeline;return this},f._swapSelfInParams=function(t){for(var e=t.length,n=t.concat();--e>-1;)"{self}"===t[e]&&(n[e]=this);return n},f._callback=function(t){var e=this.vars,n=e[t],r=e[t+"Params"],i=e[t+"Scope"]||e.callbackScope||this,o=r?r.length:0;switch(o){case 0:n.call(i);break;case 1:n.call(i,r[0]);break;case 2:n.call(i,r[0],r[1]);break;default:n.apply(i,r)}},f.eventCallback=function(t,e,n,r){if("on"===(t||"").substr(0,2)){var i=this.vars;if(1===arguments.length)return i[t];null==e?delete i[t]:(i[t]=e,i[t+"Params"]=m(n)&&n.join("").indexOf("{self}")!==-1?this._swapSelfInParams(n):n,i[t+"Scope"]=r),"onUpdate"===t&&(this._onUpdate=e)}return this},f.delay=function(t){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+t-this._delay),this._delay=t,this):this._delay},f.duration=function(t){return arguments.length?(this._duration=this._totalDuration=t,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==t&&this.totalTime(this._totalTime*(t/this._duration),!0),this):(this._dirty=!1,this._duration)},f.totalDuration=function(t){return this._dirty=!1,arguments.length?this.duration(t):this._totalDuration},f.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(t>this._duration?this._duration:t,e)):this._time},f.totalTime=function(t,e,n){if(p||h.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(t<0&&!n&&(t+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var r=this._totalDuration,i=this._timeline;if(t>r&&!n&&(t=r),this._startTime=(this._paused?this._pauseTime:i._time)-(this._reversed?r-t:t)/this._timeScale,i._dirty||this._uncache(!1),i._timeline)for(;i._timeline;)i._timeline._time!==(i._startTime+i._totalTime)/i._timeScale&&i.totalTime(i._totalTime,!0),i=i._timeline}this._gc&&this._enabled(!0,!1),this._totalTime===t&&0!==this._duration||(B.length&&tt(),this.render(t,e,!1),B.length&&tt())}return this},f.progress=f.totalProgress=function(t,e){var n=this.duration();return arguments.length?this.totalTime(n*t,e):n?this._time/n:this.ratio},f.startTime=function(t){return arguments.length?(t!==this._startTime&&(this._startTime=t,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,t-this._delay)),this):this._startTime},f.endTime=function(t){return this._startTime+(0!=t?this.totalDuration():this.duration())/this._timeScale},f.timeScale=function(t){if(!arguments.length)return this._timeScale;if(t=t||v,this._timeline&&this._timeline.smoothChildTiming){var e=this._pauseTime,n=e||0===e?e:this._timeline.totalTime();this._startTime=n-(n-this._startTime)*this._timeScale/t}return this._timeScale=t,this._uncache(!1)},f.reversed=function(t){return arguments.length?(t!=this._reversed&&(this._reversed=t,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},f.paused=function(t){if(!arguments.length)return this._paused;var e,n,r=this._timeline;return t!=this._paused&&r&&(p||t||h.wake(),e=r.rawTime(),n=e-this._pauseTime,!t&&r.smoothChildTiming&&(this._startTime+=n,this._uncache(!1)),this._pauseTime=t?e:null,this._paused=t,this._active=this.isActive(),!t&&0!==n&&this._initted&&this.duration()&&(e=r.smoothChildTiming?this._totalTime:(e-this._startTime)/this._timeScale,this.render(e,e===this._totalTime,!0))),this._gc&&!t&&this._enabled(!0,!1),this};var L=S("core.SimpleTimeline",function(t){M.call(this,0,t),this.autoRemoveChildren=this.smoothChildTiming=!0});f=L.prototype=new M,f.constructor=L,f.kill()._gc=!1,f._first=f._last=f._recent=null,f._sortChildren=!1,f.add=f.insert=function(t,e,n,r){var i,o;if(t._startTime=Number(e||0)+t._delay,t._paused&&this!==t._timeline&&(t._pauseTime=t._startTime+(this.rawTime()-t._startTime)/t._timeScale),t.timeline&&t.timeline._remove(t,!0),t.timeline=t._timeline=this,t._gc&&t._enabled(!0,!0),i=this._last,this._sortChildren)for(o=t._startTime;i&&i._startTime>o;)i=i._prev;return i?(t._next=i._next,i._next=t):(t._next=this._first,this._first=t),t._next?t._next._prev=t:this._last=t,t._prev=i,this._recent=t,this._timeline&&this._uncache(!0),this},f._remove=function(t,e){return t.timeline===this&&(e||t._enabled(!1,!0),t._prev?t._prev._next=t._next:this._first===t&&(this._first=t._next),t._next?t._next._prev=t._prev:this._last===t&&(this._last=t._prev),t._next=t._prev=t.timeline=null,t===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},f.render=function(t,e,n){var r,i=this._first;for(this._totalTime=this._time=this._rawPrevTime=t;i;)r=i._next,(i._active||t>=i._startTime&&!i._paused)&&(i._reversed?i.render((i._dirty?i.totalDuration():i._totalDuration)-(t-i._startTime)*i._timeScale,e,n):i.render((t-i._startTime)*i._timeScale,e,n)),i=r},f.rawTime=function(){return p||h.wake(),this._totalTime};var F=S("TweenLite",function(t,e,n){if(M.call(this,e,n),this.render=F.prototype.render,null==t)throw"Cannot tween a null target.";this.target=t="string"!=typeof t?t:F.selector(t)||t;var i,o,a,s=t.jquery||t.length&&t!==r&&t[0]&&(t[0]===r||t[0].nodeType&&t[0].style&&!t.nodeType),u=this.vars.overwrite;if(this._overwrite=u=null==u?Q[F.defaultOverwrite]:"number"==typeof u?u>>0:Q[u],(s||t instanceof Array||t.push&&m(t))&&"number"!=typeof t[0])for(this._targets=a=y(t),this._propLookup=[],this._siblings=[],i=0;i<a.length;i++)o=a[i],o?"string"!=typeof o?o.length&&o!==r&&o[0]&&(o[0]===r||o[0].nodeType&&o[0].style&&!o.nodeType)?(a.splice(i--,1),this._targets=a=a.concat(y(o))):(this._siblings[i]=et(o,this,!1),1===u&&this._siblings[i].length>1&&rt(o,this,null,1,this._siblings[i])):(o=a[i--]=F.selector(o),"string"==typeof o&&a.splice(i+1,1)):a.splice(i--,1);else this._propLookup={},this._siblings=et(t,this,!1),1===u&&this._siblings.length>1&&rt(t,this,null,1,this._siblings);(this.vars.immediateRender||0===e&&0===this._delay&&this.vars.immediateRender!==!1)&&(this._time=-v,this.render(Math.min(0,-this._delay)))},!0),D=function(t){return t&&t.length&&t!==r&&t[0]&&(t[0]===r||t[0].nodeType&&t[0].style&&!t.nodeType)},N=function(t,e){var n,r={};for(n in t)$[n]||n in e&&"transform"!==n&&"x"!==n&&"y"!==n&&"width"!==n&&"height"!==n&&"className"!==n&&"border"!==n||!(!Y[n]||Y[n]&&Y[n]._autoCSS)||(r[n]=t[n],delete t[n]);t.css=r};f=F.prototype=new M,f.constructor=F,f.kill()._gc=!1,f.ratio=0,f._firstPT=f._targets=f._overwrittenProps=f._startAt=null,f._notifyPluginsOfEnabled=f._lazy=!1,F.version="1.19.0",F.defaultEase=f._ease=new T(null,null,1,1),F.defaultOverwrite="auto",F.ticker=h,F.autoSleep=120,F.lagSmoothing=function(t,e){h.lagSmoothing(t,e)},F.selector=r.$||r.jQuery||function(t){var e=r.$||r.jQuery;return e?(F.selector=e,e(t)):"undefined"==typeof document?t:document.querySelectorAll?document.querySelectorAll(t):document.getElementById("#"===t.charAt(0)?t.substr(1):t)};var B=[],U={},q=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,z=function(t){for(var e,n=this._firstPT,r=1e-6;n;)e=n.blob?t?this.join(""):this.start:n.c*t+n.s,n.m?e=n.m(e,this._target||n.t):e<r&&e>-r&&(e=0),n.f?n.fp?n.t[n.p](n.fp,e):n.t[n.p](e):n.t[n.p]=e,n=n._next},H=function(t,e,n,r){var i,o,a,s,u,c,l,f=[t,e],h=0,p="",d=0;for(f.start=t,n&&(n(f),t=f[0],e=f[1]),f.length=0,i=t.match(q)||[],o=e.match(q)||[],r&&(r._next=null,r.blob=1,f._firstPT=f._applyPT=r),u=o.length,s=0;s<u;s++)l=o[s],c=e.substr(h,e.indexOf(l,h)-h),p+=c||!s?c:",",h+=c.length,d?d=(d+1)%5:"rgba("===c.substr(-5)&&(d=1),l===i[s]||i.length<=s?p+=l:(p&&(f.push(p),p=""),a=parseFloat(i[s]),f.push(a),f._firstPT={_next:f._firstPT,t:f,p:f.length-1,s:a,c:("="===l.charAt(1)?parseInt(l.charAt(0)+"1",10)*parseFloat(l.substr(2)):parseFloat(l)-a)||0,f:0,m:d&&d<4?Math.round:0}),h+=l.length;return p+=e.substr(h),p&&f.push(p),f.setRatio=z,f},V=function(t,e,n,r,i,o,a,s,u){"function"==typeof r&&(r=r(u||0,t));var c,l,f="get"===n?t[e]:n,h=typeof t[e],p="string"==typeof r&&"="===r.charAt(1),d={t:t,p:e,s:f,f:"function"===h,pg:0,n:i||e,m:o?"function"==typeof o?o:Math.round:0,pr:0,c:p?parseInt(r.charAt(0)+"1",10)*parseFloat(r.substr(2)):parseFloat(r)-f||0};if("number"!==h&&("function"===h&&"get"===n&&(l=e.indexOf("set")||"function"!=typeof t["get"+e.substr(3)]?e:"get"+e.substr(3),d.s=f=a?t[l](a):t[l]()),"string"==typeof f&&(a||isNaN(f))?(d.fp=a,c=H(f,r,s||F.defaultStringFilter,d),d={t:c,p:"setRatio",s:0,c:1,f:2,pg:0,n:i||e,pr:0,m:0}):p||(d.s=parseFloat(f),d.c=parseFloat(r)-d.s||0)),d.c)return(d._next=this._firstPT)&&(d._next._prev=d),this._firstPT=d,d},W=F._internals={isArray:m,isSelector:D,lazyTweens:B,blobDif:H},Y=F._plugins={},G=W.tweenLookup={},X=0,$=W.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1,stringFilter:1,id:1},Q={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,"true":1,"false":0},K=M._rootFramesTimeline=new L,J=M._rootTimeline=new L,Z=30,tt=W.lazyRender=function(){var t,e=B.length;for(U={};--e>-1;)t=B[e],t&&t._lazy!==!1&&(t.render(t._lazy[0],t._lazy[1],!0),t._lazy=!1);B.length=0};J._startTime=h.time,K._startTime=h.frame,J._active=K._active=!0,setTimeout(tt,1),M._updateRoot=F.render=function(){var t,e,n;if(B.length&&tt(),J.render((h.time-J._startTime)*J._timeScale,!1,!1),K.render((h.frame-K._startTime)*K._timeScale,!1,!1),B.length&&tt(),h.frame>=Z){Z=h.frame+(parseInt(F.autoSleep,10)||120);for(n in G){for(e=G[n].tweens,t=e.length;--t>-1;)e[t]._gc&&e.splice(t,1);0===e.length&&delete G[n]}if(n=J._first,(!n||n._paused)&&F.autoSleep&&!K._first&&1===h._listeners.tick.length){for(;n&&n._paused;)n=n._next;n||h.sleep()}}},h.addEventListener("tick",M._updateRoot);var et=function(t,e,n){var r,i,o=t._gsTweenID;if(G[o||(t._gsTweenID=o="t"+X++)]||(G[o]={target:t,tweens:[]}),e&&(r=G[o].tweens,r[i=r.length]=e,n))for(;--i>-1;)r[i]===e&&r.splice(i,1);return G[o].tweens},nt=function(t,e,n,r){var i,o,a=t.vars.onOverwrite;return a&&(i=a(t,e,n,r)),a=F.onOverwrite,a&&(o=a(t,e,n,r)),i!==!1&&o!==!1},rt=function(t,e,n,r,i){var o,a,s,u;if(1===r||r>=4){for(u=i.length,o=0;o<u;o++)if((s=i[o])!==e)s._gc||s._kill(null,t,e)&&(a=!0);else if(5===r)break;return a}var c,l=e._startTime+v,f=[],h=0,p=0===e._duration;for(o=i.length;--o>-1;)(s=i[o])===e||s._gc||s._paused||(s._timeline!==e._timeline?(c=c||it(e,0,p),0===it(s,c,p)&&(f[h++]=s)):s._startTime<=l&&s._startTime+s.totalDuration()/s._timeScale>l&&((p||!s._initted)&&l-s._startTime<=2e-10||(f[h++]=s)));for(o=h;--o>-1;)if(s=f[o],2===r&&s._kill(n,t,e)&&(a=!0),2!==r||!s._firstPT&&s._initted){if(2!==r&&!nt(s,e))continue;s._enabled(!1,!1)&&(a=!0)}return a},it=function(t,e,n){for(var r=t._timeline,i=r._timeScale,o=t._startTime;r._timeline;){if(o+=r._startTime,i*=r._timeScale,r._paused)return-100;r=r._timeline}return o/=i,o>e?o-e:n&&o===e||!t._initted&&o-e<2*v?v:(o+=t.totalDuration()/t._timeScale/i)>e+v?0:o-e-v};f._init=function(){var t,e,n,r,i,o,a=this.vars,s=this._overwrittenProps,u=this._duration,c=!!a.immediateRender,l=a.ease;if(a.startAt){this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),i={};for(r in a.startAt)i[r]=a.startAt[r];if(i.overwrite=!1,i.immediateRender=!0,i.lazy=c&&a.lazy!==!1,i.startAt=i.delay=null,this._startAt=F.to(this.target,0,i),c)if(this._time>0)this._startAt=null;else if(0!==u)return}else if(a.runBackwards&&0!==u)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{0!==this._time&&(c=!1),n={};for(r in a)$[r]&&"autoCSS"!==r||(n[r]=a[r]);if(n.overwrite=0,n.data="isFromStart",n.lazy=c&&a.lazy!==!1,n.immediateRender=c,this._startAt=F.to(this.target,0,n),c){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=l=l?l instanceof T?l:"function"==typeof l?new T(l,a.easeParams):O[l]||F.defaultEase:F.defaultEase,a.easeParams instanceof Array&&l.config&&(this._ease=l.config.apply(l,a.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(o=this._targets.length,t=0;t<o;t++)this._initProps(this._targets[t],this._propLookup[t]={},this._siblings[t],s?s[t]:null,t)&&(e=!0);else e=this._initProps(this.target,this._propLookup,this._siblings,s,0);if(e&&F._onPluginEvent("_onInitAllProps",this),s&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),a.runBackwards)for(n=this._firstPT;n;)n.s+=n.c,n.c=-n.c,n=n._next;this._onUpdate=a.onUpdate,this._initted=!0},f._initProps=function(t,e,n,i,o){var a,s,u,c,l,f;if(null==t)return!1;U[t._gsTweenID]&&tt(),this.vars.css||t.style&&t!==r&&t.nodeType&&Y.css&&this.vars.autoCSS!==!1&&N(this.vars,t);for(a in this.vars)if(f=this.vars[a],$[a])f&&(f instanceof Array||f.push&&m(f))&&f.join("").indexOf("{self}")!==-1&&(this.vars[a]=f=this._swapSelfInParams(f,this));else if(Y[a]&&(c=new Y[a])._onInitTween(t,this.vars[a],this,o)){for(this._firstPT=l={_next:this._firstPT,t:c,p:"setRatio",s:0,c:1,f:1,n:a,pg:1,pr:c._priority,m:0},s=c._overwriteProps.length;--s>-1;)e[c._overwriteProps[s]]=this._firstPT;(c._priority||c._onInitAllProps)&&(u=!0),(c._onDisable||c._onEnable)&&(this._notifyPluginsOfEnabled=!0),l._next&&(l._next._prev=l)}else e[a]=V.call(this,t,a,"get",f,a,0,null,this.vars.stringFilter,o);return i&&this._kill(i,t)?this._initProps(t,e,n,i,o):this._overwrite>1&&this._firstPT&&n.length>1&&rt(t,this,e,this._overwrite,n)?(this._kill(e,t),this._initProps(t,e,n,i,o)):(this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration)&&(U[t._gsTweenID]=!0),u)},f.render=function(t,e,n){var r,i,o,a,s=this._time,u=this._duration,c=this._rawPrevTime;if(t>=u-1e-7)this._totalTime=this._time=u,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(r=!0,i="onComplete",n=n||this._timeline.autoRemoveChildren),0===u&&(this._initted||!this.vars.lazy||n)&&(this._startTime===this._timeline._duration&&(t=0),(c<0||t<=0&&t>=-1e-7||c===v&&"isPause"!==this.data)&&c!==t&&(n=!0,c>v&&(i="onReverseComplete")),this._rawPrevTime=a=!e||t||c===t?t:v);else if(t<1e-7)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==s||0===u&&c>0)&&(i="onReverseComplete",r=this._reversed),t<0&&(this._active=!1,0===u&&(this._initted||!this.vars.lazy||n)&&(c>=0&&(c!==v||"isPause"!==this.data)&&(n=!0),this._rawPrevTime=a=!e||t||c===t?t:v)),this._initted||(n=!0);else if(this._totalTime=this._time=t,this._easeType){var l=t/u,f=this._easeType,h=this._easePower;(1===f||3===f&&l>=.5)&&(l=1-l),3===f&&(l*=2),1===h?l*=l:2===h?l*=l*l:3===h?l*=l*l*l:4===h&&(l*=l*l*l*l),1===f?this.ratio=1-l:2===f?this.ratio=l:t/u<.5?this.ratio=l/2:this.ratio=1-l/2}else this.ratio=this._ease.getRatio(t/u);if(this._time!==s||n){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!n&&this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=s,this._rawPrevTime=c,B.push(this),void(this._lazy=[t,e]);this._time&&!r?this.ratio=this._ease.getRatio(this._time/u):r&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._lazy!==!1&&(this._lazy=!1),this._active||!this._paused&&this._time!==s&&t>=0&&(this._active=!0),0===s&&(this._startAt&&(t>=0?this._startAt.render(t,e,n):i||(i="_dummyGS")),this.vars.onStart&&(0===this._time&&0!==u||e||this._callback("onStart"))),o=this._firstPT;o;)o.f?o.t[o.p](o.c*this.ratio+o.s):o.t[o.p]=o.c*this.ratio+o.s,o=o._next;this._onUpdate&&(t<0&&this._startAt&&t!==-1e-4&&this._startAt.render(t,e,n),e||(this._time!==s||r||n)&&this._callback("onUpdate")),i&&(this._gc&&!n||(t<0&&this._startAt&&!this._onUpdate&&t!==-1e-4&&this._startAt.render(t,e,n),r&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[i]&&this._callback(i),0===u&&this._rawPrevTime===v&&a!==v&&(this._rawPrevTime=0)))}},f._kill=function(t,e,n){if("all"===t&&(t=null),null==t&&(null==e||e===this.target))return this._lazy=!1,this._enabled(!1,!1);e="string"!=typeof e?e||this._targets||this.target:F.selector(e)||e;var r,i,o,a,s,u,c,l,f,h=n&&this._time&&n._startTime===this._startTime&&this._timeline===n._timeline;if((m(e)||D(e))&&"number"!=typeof e[0])for(r=e.length;--r>-1;)this._kill(t,e[r],n)&&(u=!0);else{if(this._targets){for(r=this._targets.length;--r>-1;)if(e===this._targets[r]){s=this._propLookup[r]||{},this._overwrittenProps=this._overwrittenProps||[],i=this._overwrittenProps[r]=t?this._overwrittenProps[r]||{}:"all";break}}else{if(e!==this.target)return!1;s=this._propLookup,i=this._overwrittenProps=t?this._overwrittenProps||{}:"all"}if(s){if(c=t||s,l=t!==i&&"all"!==i&&t!==s&&("object"!=typeof t||!t._tempKill),n&&(F.onOverwrite||this.vars.onOverwrite)){for(o in c)s[o]&&(f||(f=[]),f.push(o));if((f||!t)&&!nt(this,n,e,f))return!1}for(o in c)(a=s[o])&&(h&&(a.f?a.t[a.p](a.s):a.t[a.p]=a.s,u=!0),a.pg&&a.t._kill(c)&&(u=!0),a.pg&&0!==a.t._overwriteProps.length||(a._prev?a._prev._next=a._next:a===this._firstPT&&(this._firstPT=a._next),a._next&&(a._next._prev=a._prev),a._next=a._prev=null),delete s[o]),l&&(i[o]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return u},f.invalidate=function(){return this._notifyPluginsOfEnabled&&F._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],M.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-v,this.render(Math.min(0,-this._delay))),this},f._enabled=function(t,e){if(p||h.wake(),t&&this._gc){var n,r=this._targets;if(r)for(n=r.length;--n>-1;)this._siblings[n]=et(r[n],this,!0);else this._siblings=et(this.target,this,!0)}return M.prototype._enabled.call(this,t,e),!(!this._notifyPluginsOfEnabled||!this._firstPT)&&F._onPluginEvent(t?"_onEnable":"_onDisable",this)},F.to=function(t,e,n){return new F(t,e,n)},F.from=function(t,e,n){return n.runBackwards=!0,n.immediateRender=0!=n.immediateRender,new F(t,e,n)},F.fromTo=function(t,e,n,r){return r.startAt=n,r.immediateRender=0!=r.immediateRender&&0!=n.immediateRender,new F(t,e,r)},F.delayedCall=function(t,e,n,r,i){return new F(e,0,{delay:t,onComplete:e,onCompleteParams:n,callbackScope:r,onReverseComplete:e,onReverseCompleteParams:n,immediateRender:!1,lazy:!1,useFrames:i,overwrite:0})},F.set=function(t,e){return new F(t,0,e)},F.getTweensOf=function(t,e){if(null==t)return[];t="string"!=typeof t?t:F.selector(t)||t;var n,r,i,o;if((m(t)||D(t))&&"number"!=typeof t[0]){for(n=t.length,r=[];--n>-1;)r=r.concat(F.getTweensOf(t[n],e));for(n=r.length;--n>-1;)for(o=r[n],i=n;--i>-1;)o===r[i]&&r.splice(n,1)}else for(r=et(t).concat(),n=r.length;--n>-1;)(r[n]._gc||e&&!r[n].isActive())&&r.splice(n,1);return r},F.killTweensOf=F.killDelayedCallsTo=function(t,e,n){"object"==typeof e&&(n=e,e=!1);for(var r=F.getTweensOf(t,e),i=r.length;--i>-1;)r[i]._kill(n,t)};var ot=S("plugins.TweenPlugin",function(t,e){this._overwriteProps=(t||"").split(","),this._propName=this._overwriteProps[0],this._priority=e||0,this._super=ot.prototype},!0);if(f=ot.prototype,ot.version="1.19.0",ot.API=2,f._firstPT=null,f._addTween=V,f.setRatio=z,f._kill=function(t){var e,n=this._overwriteProps,r=this._firstPT;if(null!=t[this._propName])this._overwriteProps=[];else for(e=n.length;--e>-1;)null!=t[n[e]]&&n.splice(e,1);for(;r;)null!=t[r.n]&&(r._next&&(r._next._prev=r._prev),r._prev?(r._prev._next=r._next,r._prev=null):this._firstPT===r&&(this._firstPT=r._next)),r=r._next;return!1},f._mod=f._roundProps=function(t){for(var e,n=this._firstPT;n;)e=t[this._propName]||null!=n.n&&t[n.n.split(this._propName+"_").join("")],e&&"function"==typeof e&&(2===n.f?n.t._applyPT.m=e:n.m=e),n=n._next},F._onPluginEvent=function(t,e){var n,r,i,o,a,s=e._firstPT;if("_onInitAllProps"===t){for(;s;){for(a=s._next,r=i;r&&r.pr>s.pr;)r=r._next;(s._prev=r?r._prev:o)?s._prev._next=s:i=s,(s._next=r)?r._prev=s:o=s,s=a}s=e._firstPT=i}for(;s;)s.pg&&"function"==typeof s.t[t]&&s.t[t]()&&(n=!0),s=s._next;return n},ot.activate=function(t){for(var e=t.length;--e>-1;)t[e].API===ot.API&&(Y[(new t[e])._propName]=t[e]);return!0},x.plugin=function(t){if(!(t&&t.propName&&t.init&&t.API))throw"illegal plugin definition.";var e,n=t.propName,r=t.priority||0,i=t.overwriteProps,o={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_mod",mod:"_mod",initAll:"_onInitAllProps"},a=S("plugins."+n.charAt(0).toUpperCase()+n.substr(1)+"Plugin",function(){ot.call(this,n,r),this._overwriteProps=i||[]},t.global===!0),s=a.prototype=new ot(n);s.constructor=a,a.API=t.API;for(e in o)"function"==typeof t[e]&&(s[o[e]]=t[e]);return a.version=t.version,ot.activate([a]),a},c=r._gsQueue){for(l=0;l<c.length;l++)c[l]();for(f in b)b[f].func||r.console.log("GSAP encountered missing dependency: "+f)}p=!1}}("undefined"!=typeof t&&t.exports&&"undefined"!=typeof r?r:this||window,"TweenMax")}).call(e,n(12))},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(8),o=r(i),a=n(110),s=r(a),u=n(5),c=r(u),l=n(191),f=r(l),h=function(){function t(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];t||c.default.emit("log:error","AssetLoader: no sources"),o.default.isArray(t)||(t=t.src||[]);var e=t.map(function(t){return c.default.emit("log:log","AssetLoader: preloading "+t,3,11),{url:t,type:"bin"}}),n=new f.default({assets:e});return n.start(),new s.default(function(t,e){n.on("complete",function(e){t(n)})})}return{load:t}}();e.default=h},,,function(t,e){"use strict";function n(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent("on"+e,n)}function r(t,e,n){t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent("on"+e,n)}function i(){return window.location.href.split("#")[1]||""}function o(t){window.location.replace(window.location.pathname+window.location.search+"#"+t)}function a(){return window.location.pathname+window.location.search+window.location.hash}function s(t){t&&window.history.go(t)}function u(t,e){e(window.confirm(t))}function c(){var t=navigator.userAgent;return(t.indexOf("Android 2.")===-1&&t.indexOf("Android 4.0")===-1||t.indexOf("Mobile Safari")===-1||t.indexOf("Chrome")!==-1||t.indexOf("Windows Phone")!==-1)&&(window.history&&"pushState"in window.history)}function l(){var t=navigator.userAgent;return t.indexOf("Firefox")===-1}e.__esModule=!0,e.addEventListener=n,e.removeEventListener=r,e.getHashPath=i,e.replaceHashPath=o,e.getWindowPath=a,e.go=s,e.getUserConfirmation=u,e.supportsHistory=c,e.supportsGoWithoutReloadUsingHash=l},function(t,e,n){!function(e,n){t.exports=n()}(this,function(){"use strict";function t(t,e){e&&(t.prototype=Object.create(e.prototype)),t.prototype.constructor=t}function e(t){return o(t)?t:A(t)}function n(t){return a(t)?t:C(t)}function r(t){return s(t)?t:R(t)}function i(t){return o(t)&&!u(t)?t:j(t)}function o(t){return!(!t||!t[cn])}function a(t){return!(!t||!t[ln])}function s(t){return!(!t||!t[fn])}function u(t){return a(t)||s(t)}function c(t){return!(!t||!t[hn])}function l(t){return t.value=!1,t}function f(t){t&&(t.value=!0)}function h(){}function p(t,e){e=e||0;for(var n=Math.max(0,t.length-e),r=new Array(n),i=0;i<n;i++)r[i]=t[i+e];return r}function d(t){return void 0===t.size&&(t.size=t.__iterate(v)),t.size}function _(t,e){if("number"!=typeof e){var n=e>>>0;if(""+n!==e||4294967295===n)return NaN;e=n}return e<0?d(t)+e:e}function v(){return!0}function y(t,e,n){return(0===t||void 0!==n&&t<=-n)&&(void 0===e||void 0!==n&&e>=n)}function g(t,e){return b(t,e,0)}function m(t,e){return b(t,e,e)}function b(t,e,n){return void 0===t?n:t<0?Math.max(0,e+t):void 0===e?t:Math.min(e,t)}function w(t){this.next=t}function x(t,e,n,r){var i=0===t?e:1===t?n:[e,n];return r?r.value=i:r={value:i,done:!1},r}function S(){return{value:void 0,done:!0}}function k(t){return!!E(t)}function T(t){return t&&"function"==typeof t.next}function O(t){var e=E(t);return e&&e.call(t)}function E(t){var e=t&&(Sn&&t[Sn]||t[kn]);if("function"==typeof e)return e}function P(t){return t&&"number"==typeof t.length}function A(t){return null===t||void 0===t?N():o(t)?t.toSeq():q(t)}function C(t){return null===t||void 0===t?N().toKeyedSeq():o(t)?a(t)?t.toSeq():t.fromEntrySeq():B(t)}function R(t){return null===t||void 0===t?N():o(t)?a(t)?t.entrySeq():t.toIndexedSeq():U(t)}function j(t){return(null===t||void 0===t?N():o(t)?a(t)?t.entrySeq():t:U(t)).toSetSeq()}function M(t){this._array=t,this.size=t.length}function I(t){var e=Object.keys(t);this._object=t,this._keys=e,this.size=e.length}function L(t){this._iterable=t,this.size=t.length||t.size}function F(t){this._iterator=t,this._iteratorCache=[]}function D(t){return!(!t||!t[On])}function N(){return En||(En=new M([]))}function B(t){var e=Array.isArray(t)?new M(t).fromEntrySeq():T(t)?new F(t).fromEntrySeq():k(t)?new L(t).fromEntrySeq():"object"==typeof t?new I(t):void 0;if(!e)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+t);return e}function U(t){var e=z(t);if(!e)throw new TypeError("Expected Array or iterable object of values: "+t);return e}function q(t){var e=z(t)||"object"==typeof t&&new I(t);if(!e)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+t);return e}function z(t){return P(t)?new M(t):T(t)?new F(t):k(t)?new L(t):void 0}function H(t,e,n,r){var i=t._cache;if(i){for(var o=i.length-1,a=0;a<=o;a++){var s=i[n?o-a:a];if(e(s[1],r?s[0]:a,t)===!1)return a+1}return a}return t.__iterateUncached(e,n)}function V(t,e,n,r){var i=t._cache;if(i){var o=i.length-1,a=0;return new w(function(){var t=i[n?o-a:a];return a++>o?S():x(e,r?t[0]:a-1,t[1])})}return t.__iteratorUncached(e,n)}function W(t,e){return e?Y(e,t,"",{"":t}):G(t)}function Y(t,e,n,r){return Array.isArray(e)?t.call(r,n,R(e).map(function(n,r){return Y(t,n,r,e)})):X(e)?t.call(r,n,C(e).map(function(n,r){return Y(t,n,r,e)})):e}function G(t){return Array.isArray(t)?R(t).map(G).toList():X(t)?C(t).map(G).toMap():t}function X(t){return t&&(t.constructor===Object||void 0===t.constructor)}function $(t,e){if(t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1;if("function"==typeof t.valueOf&&"function"==typeof e.valueOf){if(t=t.valueOf(),e=e.valueOf(),t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1}return!("function"!=typeof t.equals||"function"!=typeof e.equals||!t.equals(e))}function Q(t,e){if(t===e)return!0;if(!o(e)||void 0!==t.size&&void 0!==e.size&&t.size!==e.size||void 0!==t.__hash&&void 0!==e.__hash&&t.__hash!==e.__hash||a(t)!==a(e)||s(t)!==s(e)||c(t)!==c(e))return!1;if(0===t.size&&0===e.size)return!0;var n=!u(t);if(c(t)){var r=t.entries();return e.every(function(t,e){var i=r.next().value;return i&&$(i[1],t)&&(n||$(i[0],e))})&&r.next().done}var i=!1;if(void 0===t.size)if(void 0===e.size)"function"==typeof t.cacheResult&&t.cacheResult();else{i=!0;var l=t;t=e,e=l}var f=!0,h=e.__iterate(function(e,r){if(n?!t.has(e):i?!$(e,t.get(r,yn)):!$(t.get(r,yn),e))return f=!1,!1});return f&&t.size===h}function K(t,e){if(!(this instanceof K))return new K(t,e);if(this._value=t,this.size=void 0===e?1/0:Math.max(0,e),0===this.size){if(Pn)return Pn;Pn=this}}function J(t,e){if(!t)throw new Error(e)}function Z(t,e,n){if(!(this instanceof Z))return new Z(t,e,n);if(J(0!==n,"Cannot step a Range by 0"),t=t||0,void 0===e&&(e=1/0),n=void 0===n?1:Math.abs(n),e<t&&(n=-n),this._start=t,this._end=e,this._step=n,this.size=Math.max(0,Math.ceil((e-t)/n-1)+1),0===this.size){if(An)return An;An=this}}function tt(){throw TypeError("Abstract")}function et(){}function nt(){}function rt(){}function it(t){return t>>>1&1073741824|3221225471&t}function ot(t){if(t===!1||null===t||void 0===t)return 0;if("function"==typeof t.valueOf&&(t=t.valueOf(),t===!1||null===t||void 0===t))return 0;if(t===!0)return 1;var e=typeof t;if("number"===e){if(t!==t||t===1/0)return 0;var n=0|t;for(n!==t&&(n^=4294967295*t);t>4294967295;)t/=4294967295,n^=t;return it(n)}if("string"===e)return t.length>Dn?at(t):st(t);if("function"==typeof t.hashCode)return t.hashCode();if("object"===e)return ut(t);if("function"==typeof t.toString)return st(t.toString());throw new Error("Value type "+e+" cannot be hashed.")}function at(t){var e=Un[t];return void 0===e&&(e=st(t),Bn===Nn&&(Bn=0,Un={}),Bn++,Un[t]=e),e}function st(t){for(var e=0,n=0;n<t.length;n++)e=31*e+t.charCodeAt(n)|0;return it(e)}function ut(t){var e;if(In&&(e=Cn.get(t),void 0!==e))return e;if(e=t[Fn],void 0!==e)return e;if(!Mn){if(e=t.propertyIsEnumerable&&t.propertyIsEnumerable[Fn],void 0!==e)return e;if(e=ct(t),void 0!==e)return e}if(e=++Ln,1073741824&Ln&&(Ln=0),In)Cn.set(t,e);else{if(void 0!==jn&&jn(t)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(Mn)Object.defineProperty(t,Fn,{enumerable:!1,configurable:!1,writable:!1,value:e});else if(void 0!==t.propertyIsEnumerable&&t.propertyIsEnumerable===t.constructor.prototype.propertyIsEnumerable)t.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},t.propertyIsEnumerable[Fn]=e;else{if(void 0===t.nodeType)throw new Error("Unable to set a non-enumerable property on object.");t[Fn]=e}}return e}function ct(t){if(t&&t.nodeType>0)switch(t.nodeType){case 1:return t.uniqueID;case 9:return t.documentElement&&t.documentElement.uniqueID}}function lt(t){J(t!==1/0,"Cannot perform this action with an infinite size.")}function ft(t){return null===t||void 0===t?xt():ht(t)&&!c(t)?t:xt().withMutations(function(e){var r=n(t);lt(r.size),r.forEach(function(t,n){return e.set(n,t)})})}function ht(t){return!(!t||!t[qn])}function pt(t,e){this.ownerID=t,this.entries=e}function dt(t,e,n){this.ownerID=t,this.bitmap=e,this.nodes=n}function _t(t,e,n){this.ownerID=t,this.count=e,this.nodes=n}function vt(t,e,n){this.ownerID=t,this.keyHash=e,this.entries=n}function yt(t,e,n){this.ownerID=t,this.keyHash=e,this.entry=n}function gt(t,e,n){this._type=e,this._reverse=n,this._stack=t._root&&bt(t._root)}function mt(t,e){return x(t,e[0],e[1])}function bt(t,e){return{node:t,index:0,__prev:e}}function wt(t,e,n,r){var i=Object.create(zn);return i.size=t,i._root=e,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function xt(){return Hn||(Hn=wt(0))}function St(t,e,n){var r,i;if(t._root){var o=l(gn),a=l(mn);if(r=kt(t._root,t.__ownerID,0,void 0,e,n,o,a),!a.value)return t;i=t.size+(o.value?n===yn?-1:1:0)}else{if(n===yn)return t;i=1,r=new pt(t.__ownerID,[[e,n]])}return t.__ownerID?(t.size=i,t._root=r,t.__hash=void 0,t.__altered=!0,t):r?wt(i,r):xt()}function kt(t,e,n,r,i,o,a,s){return t?t.update(e,n,r,i,o,a,s):o===yn?t:(f(s),f(a),new yt(e,r,[i,o]))}function Tt(t){return t.constructor===yt||t.constructor===vt}function Ot(t,e,n,r,i){if(t.keyHash===r)return new vt(e,r,[t.entry,i]);var o,a=(0===n?t.keyHash:t.keyHash>>>n)&vn,s=(0===n?r:r>>>n)&vn,u=a===s?[Ot(t,e,n+dn,r,i)]:(o=new yt(e,r,i),a<s?[t,o]:[o,t]);return new dt(e,1<<a|1<<s,u)}function Et(t,e,n,r){t||(t=new h);for(var i=new yt(t,ot(n),[n,r]),o=0;o<e.length;o++){var a=e[o];i=i.update(t,0,void 0,a[0],a[1])}return i}function Pt(t,e,n,r){for(var i=0,o=0,a=new Array(n),s=0,u=1,c=e.length;s<c;s++,u<<=1){var l=e[s];void 0!==l&&s!==r&&(i|=u,a[o++]=l)}return new dt(t,i,a)}function At(t,e,n,r,i){for(var o=0,a=new Array(_n),s=0;0!==n;s++,n>>>=1)a[s]=1&n?e[o++]:void 0;return a[r]=i,new _t(t,o+1,a)}function Ct(t,e,r){for(var i=[],a=0;a<r.length;a++){var s=r[a],u=n(s);o(s)||(u=u.map(function(t){return W(t)})),i.push(u)}return Mt(t,e,i)}function Rt(t,e,n){return t&&t.mergeDeep&&o(e)?t.mergeDeep(e):$(t,e)?t:e}function jt(t){return function(e,n,r){if(e&&e.mergeDeepWith&&o(n))return e.mergeDeepWith(t,n);var i=t(e,n,r);return $(e,i)?e:i}}function Mt(t,e,n){return n=n.filter(function(t){
return 0!==t.size}),0===n.length?t:0!==t.size||t.__ownerID||1!==n.length?t.withMutations(function(t){for(var r=e?function(n,r){t.update(r,yn,function(t){return t===yn?n:e(t,n,r)})}:function(e,n){t.set(n,e)},i=0;i<n.length;i++)n[i].forEach(r)}):t.constructor(n[0])}function It(t,e,n,r){var i=t===yn,o=e.next();if(o.done){var a=i?n:t,s=r(a);return s===a?t:s}J(i||t&&t.set,"invalid keyPath");var u=o.value,c=i?yn:t.get(u,yn),l=It(c,e,n,r);return l===c?t:l===yn?t.remove(u):(i?xt():t).set(u,l)}function Lt(t){return t-=t>>1&1431655765,t=(858993459&t)+(t>>2&858993459),t=t+(t>>4)&252645135,t+=t>>8,t+=t>>16,127&t}function Ft(t,e,n,r){var i=r?t:p(t);return i[e]=n,i}function Dt(t,e,n,r){var i=t.length+1;if(r&&e+1===i)return t[e]=n,t;for(var o=new Array(i),a=0,s=0;s<i;s++)s===e?(o[s]=n,a=-1):o[s]=t[s+a];return o}function Nt(t,e,n){var r=t.length-1;if(n&&e===r)return t.pop(),t;for(var i=new Array(r),o=0,a=0;a<r;a++)a===e&&(o=1),i[a]=t[a+o];return i}function Bt(t){var e=Vt();if(null===t||void 0===t)return e;if(Ut(t))return t;var n=r(t),i=n.size;return 0===i?e:(lt(i),i>0&&i<_n?Ht(0,i,dn,null,new qt(n.toArray())):e.withMutations(function(t){t.setSize(i),n.forEach(function(e,n){return t.set(n,e)})}))}function Ut(t){return!(!t||!t[Gn])}function qt(t,e){this.array=t,this.ownerID=e}function zt(t,e){function n(t,e,n){return 0===e?r(t,n):i(t,e,n)}function r(t,n){var r=n===s?u&&u.array:t&&t.array,i=n>o?0:o-n,c=a-n;return c>_n&&(c=_n),function(){if(i===c)return Qn;var t=e?--c:i++;return r&&r[t]}}function i(t,r,i){var s,u=t&&t.array,c=i>o?0:o-i>>r,l=(a-i>>r)+1;return l>_n&&(l=_n),function(){for(;;){if(s){var t=s();if(t!==Qn)return t;s=null}if(c===l)return Qn;var o=e?--l:c++;s=n(u&&u[o],r-dn,i+(o<<r))}}}var o=t._origin,a=t._capacity,s=Kt(a),u=t._tail;return n(t._root,t._level,0)}function Ht(t,e,n,r,i,o,a){var s=Object.create(Xn);return s.size=e-t,s._origin=t,s._capacity=e,s._level=n,s._root=r,s._tail=i,s.__ownerID=o,s.__hash=a,s.__altered=!1,s}function Vt(){return $n||($n=Ht(0,0,dn))}function Wt(t,e,n){if(e=_(t,e),e!==e)return t;if(e>=t.size||e<0)return t.withMutations(function(t){e<0?$t(t,e).set(0,n):$t(t,0,e+1).set(e,n)});e+=t._origin;var r=t._tail,i=t._root,o=l(mn);return e>=Kt(t._capacity)?r=Yt(r,t.__ownerID,0,e,n,o):i=Yt(i,t.__ownerID,t._level,e,n,o),o.value?t.__ownerID?(t._root=i,t._tail=r,t.__hash=void 0,t.__altered=!0,t):Ht(t._origin,t._capacity,t._level,i,r):t}function Yt(t,e,n,r,i,o){var a=r>>>n&vn,s=t&&a<t.array.length;if(!s&&void 0===i)return t;var u;if(n>0){var c=t&&t.array[a],l=Yt(c,e,n-dn,r,i,o);return l===c?t:(u=Gt(t,e),u.array[a]=l,u)}return s&&t.array[a]===i?t:(f(o),u=Gt(t,e),void 0===i&&a===u.array.length-1?u.array.pop():u.array[a]=i,u)}function Gt(t,e){return e&&t&&e===t.ownerID?t:new qt(t?t.array.slice():[],e)}function Xt(t,e){if(e>=Kt(t._capacity))return t._tail;if(e<1<<t._level+dn){for(var n=t._root,r=t._level;n&&r>0;)n=n.array[e>>>r&vn],r-=dn;return n}}function $t(t,e,n){void 0!==e&&(e=0|e),void 0!==n&&(n=0|n);var r=t.__ownerID||new h,i=t._origin,o=t._capacity,a=i+e,s=void 0===n?o:n<0?o+n:i+n;if(a===i&&s===o)return t;if(a>=s)return t.clear();for(var u=t._level,c=t._root,l=0;a+l<0;)c=new qt(c&&c.array.length?[void 0,c]:[],r),u+=dn,l+=1<<u;l&&(a+=l,i+=l,s+=l,o+=l);for(var f=Kt(o),p=Kt(s);p>=1<<u+dn;)c=new qt(c&&c.array.length?[c]:[],r),u+=dn;var d=t._tail,_=p<f?Xt(t,s-1):p>f?new qt([],r):d;if(d&&p>f&&a<o&&d.array.length){c=Gt(c,r);for(var v=c,y=u;y>dn;y-=dn){var g=f>>>y&vn;v=v.array[g]=Gt(v.array[g],r)}v.array[f>>>dn&vn]=d}if(s<o&&(_=_&&_.removeAfter(r,0,s)),a>=p)a-=p,s-=p,u=dn,c=null,_=_&&_.removeBefore(r,0,a);else if(a>i||p<f){for(l=0;c;){var m=a>>>u&vn;if(m!==p>>>u&vn)break;m&&(l+=(1<<u)*m),u-=dn,c=c.array[m]}c&&a>i&&(c=c.removeBefore(r,u,a-l)),c&&p<f&&(c=c.removeAfter(r,u,p-l)),l&&(a-=l,s-=l)}return t.__ownerID?(t.size=s-a,t._origin=a,t._capacity=s,t._level=u,t._root=c,t._tail=_,t.__hash=void 0,t.__altered=!0,t):Ht(a,s,u,c,_)}function Qt(t,e,n){for(var i=[],a=0,s=0;s<n.length;s++){var u=n[s],c=r(u);c.size>a&&(a=c.size),o(u)||(c=c.map(function(t){return W(t)})),i.push(c)}return a>t.size&&(t=t.setSize(a)),Mt(t,e,i)}function Kt(t){return t<_n?0:t-1>>>dn<<dn}function Jt(t){return null===t||void 0===t?ee():Zt(t)?t:ee().withMutations(function(e){var r=n(t);lt(r.size),r.forEach(function(t,n){return e.set(n,t)})})}function Zt(t){return ht(t)&&c(t)}function te(t,e,n,r){var i=Object.create(Jt.prototype);return i.size=t?t.size:0,i._map=t,i._list=e,i.__ownerID=n,i.__hash=r,i}function ee(){return Kn||(Kn=te(xt(),Vt()))}function ne(t,e,n){var r,i,o=t._map,a=t._list,s=o.get(e),u=void 0!==s;if(n===yn){if(!u)return t;a.size>=_n&&a.size>=2*o.size?(i=a.filter(function(t,e){return void 0!==t&&s!==e}),r=i.toKeyedSeq().map(function(t){return t[0]}).flip().toMap(),t.__ownerID&&(r.__ownerID=i.__ownerID=t.__ownerID)):(r=o.remove(e),i=s===a.size-1?a.pop():a.set(s,void 0))}else if(u){if(n===a.get(s)[1])return t;r=o,i=a.set(s,[e,n])}else r=o.set(e,a.size),i=a.set(a.size,[e,n]);return t.__ownerID?(t.size=r.size,t._map=r,t._list=i,t.__hash=void 0,t):te(r,i)}function re(t,e){this._iter=t,this._useKeys=e,this.size=t.size}function ie(t){this._iter=t,this.size=t.size}function oe(t){this._iter=t,this.size=t.size}function ae(t){this._iter=t,this.size=t.size}function se(t){var e=Pe(t);return e._iter=t,e.size=t.size,e.flip=function(){return t},e.reverse=function(){var e=t.reverse.apply(this);return e.flip=function(){return t.reverse()},e},e.has=function(e){return t.includes(e)},e.includes=function(e){return t.has(e)},e.cacheResult=Ae,e.__iterateUncached=function(e,n){var r=this;return t.__iterate(function(t,n){return e(n,t,r)!==!1},n)},e.__iteratorUncached=function(e,n){if(e===xn){var r=t.__iterator(e,n);return new w(function(){var t=r.next();if(!t.done){var e=t.value[0];t.value[0]=t.value[1],t.value[1]=e}return t})}return t.__iterator(e===wn?bn:wn,n)},e}function ue(t,e,n){var r=Pe(t);return r.size=t.size,r.has=function(e){return t.has(e)},r.get=function(r,i){var o=t.get(r,yn);return o===yn?i:e.call(n,o,r,t)},r.__iterateUncached=function(r,i){var o=this;return t.__iterate(function(t,i,a){return r(e.call(n,t,i,a),i,o)!==!1},i)},r.__iteratorUncached=function(r,i){var o=t.__iterator(xn,i);return new w(function(){var i=o.next();if(i.done)return i;var a=i.value,s=a[0];return x(r,s,e.call(n,a[1],s,t),i)})},r}function ce(t,e){var n=Pe(t);return n._iter=t,n.size=t.size,n.reverse=function(){return t},t.flip&&(n.flip=function(){var e=se(t);return e.reverse=function(){return t.flip()},e}),n.get=function(n,r){return t.get(e?n:-1-n,r)},n.has=function(n){return t.has(e?n:-1-n)},n.includes=function(e){return t.includes(e)},n.cacheResult=Ae,n.__iterate=function(e,n){var r=this;return t.__iterate(function(t,n){return e(t,n,r)},!n)},n.__iterator=function(e,n){return t.__iterator(e,!n)},n}function le(t,e,n,r){var i=Pe(t);return r&&(i.has=function(r){var i=t.get(r,yn);return i!==yn&&!!e.call(n,i,r,t)},i.get=function(r,i){var o=t.get(r,yn);return o!==yn&&e.call(n,o,r,t)?o:i}),i.__iterateUncached=function(i,o){var a=this,s=0;return t.__iterate(function(t,o,u){if(e.call(n,t,o,u))return s++,i(t,r?o:s-1,a)},o),s},i.__iteratorUncached=function(i,o){var a=t.__iterator(xn,o),s=0;return new w(function(){for(;;){var o=a.next();if(o.done)return o;var u=o.value,c=u[0],l=u[1];if(e.call(n,l,c,t))return x(i,r?c:s++,l,o)}})},i}function fe(t,e,n){var r=ft().asMutable();return t.__iterate(function(i,o){r.update(e.call(n,i,o,t),0,function(t){return t+1})}),r.asImmutable()}function he(t,e,n){var r=a(t),i=(c(t)?Jt():ft()).asMutable();t.__iterate(function(o,a){i.update(e.call(n,o,a,t),function(t){return t=t||[],t.push(r?[a,o]:o),t})});var o=Ee(t);return i.map(function(e){return ke(t,o(e))})}function pe(t,e,n,r){var i=t.size;if(void 0!==e&&(e=0|e),void 0!==n&&(n=n===1/0?i:0|n),y(e,n,i))return t;var o=g(e,i),a=m(n,i);if(o!==o||a!==a)return pe(t.toSeq().cacheResult(),e,n,r);var s,u=a-o;u===u&&(s=u<0?0:u);var c=Pe(t);return c.size=0===s?s:t.size&&s||void 0,!r&&D(t)&&s>=0&&(c.get=function(e,n){return e=_(this,e),e>=0&&e<s?t.get(e+o,n):n}),c.__iterateUncached=function(e,n){var i=this;if(0===s)return 0;if(n)return this.cacheResult().__iterate(e,n);var a=0,u=!0,c=0;return t.__iterate(function(t,n){if(!u||!(u=a++<o))return c++,e(t,r?n:c-1,i)!==!1&&c!==s}),c},c.__iteratorUncached=function(e,n){if(0!==s&&n)return this.cacheResult().__iterator(e,n);var i=0!==s&&t.__iterator(e,n),a=0,u=0;return new w(function(){for(;a++<o;)i.next();if(++u>s)return S();var t=i.next();return r||e===wn?t:e===bn?x(e,u-1,void 0,t):x(e,u-1,t.value[1],t)})},c}function de(t,e,n){var r=Pe(t);return r.__iterateUncached=function(r,i){var o=this;if(i)return this.cacheResult().__iterate(r,i);var a=0;return t.__iterate(function(t,i,s){return e.call(n,t,i,s)&&++a&&r(t,i,o)}),a},r.__iteratorUncached=function(r,i){var o=this;if(i)return this.cacheResult().__iterator(r,i);var a=t.__iterator(xn,i),s=!0;return new w(function(){if(!s)return S();var t=a.next();if(t.done)return t;var i=t.value,u=i[0],c=i[1];return e.call(n,c,u,o)?r===xn?t:x(r,u,c,t):(s=!1,S())})},r}function _e(t,e,n,r){var i=Pe(t);return i.__iterateUncached=function(i,o){var a=this;if(o)return this.cacheResult().__iterate(i,o);var s=!0,u=0;return t.__iterate(function(t,o,c){if(!s||!(s=e.call(n,t,o,c)))return u++,i(t,r?o:u-1,a)}),u},i.__iteratorUncached=function(i,o){var a=this;if(o)return this.cacheResult().__iterator(i,o);var s=t.__iterator(xn,o),u=!0,c=0;return new w(function(){var t,o,l;do{if(t=s.next(),t.done)return r||i===wn?t:i===bn?x(i,c++,void 0,t):x(i,c++,t.value[1],t);var f=t.value;o=f[0],l=f[1],u&&(u=e.call(n,l,o,a))}while(u);return i===xn?t:x(i,o,l,t)})},i}function ve(t,e){var r=a(t),i=[t].concat(e).map(function(t){return o(t)?r&&(t=n(t)):t=r?B(t):U(Array.isArray(t)?t:[t]),t}).filter(function(t){return 0!==t.size});if(0===i.length)return t;if(1===i.length){var u=i[0];if(u===t||r&&a(u)||s(t)&&s(u))return u}var c=new M(i);return r?c=c.toKeyedSeq():s(t)||(c=c.toSetSeq()),c=c.flatten(!0),c.size=i.reduce(function(t,e){if(void 0!==t){var n=e.size;if(void 0!==n)return t+n}},0),c}function ye(t,e,n){var r=Pe(t);return r.__iterateUncached=function(r,i){function a(t,c){var l=this;t.__iterate(function(t,i){return(!e||c<e)&&o(t)?a(t,c+1):r(t,n?i:s++,l)===!1&&(u=!0),!u},i)}var s=0,u=!1;return a(t,0),s},r.__iteratorUncached=function(r,i){var a=t.__iterator(r,i),s=[],u=0;return new w(function(){for(;a;){var t=a.next();if(t.done===!1){var c=t.value;if(r===xn&&(c=c[1]),e&&!(s.length<e)||!o(c))return n?t:x(r,u++,c,t);s.push(a),a=c.__iterator(r,i)}else a=s.pop()}return S()})},r}function ge(t,e,n){var r=Ee(t);return t.toSeq().map(function(i,o){return r(e.call(n,i,o,t))}).flatten(!0)}function me(t,e){var n=Pe(t);return n.size=t.size&&2*t.size-1,n.__iterateUncached=function(n,r){var i=this,o=0;return t.__iterate(function(t,r){return(!o||n(e,o++,i)!==!1)&&n(t,o++,i)!==!1},r),o},n.__iteratorUncached=function(n,r){var i,o=t.__iterator(wn,r),a=0;return new w(function(){return(!i||a%2)&&(i=o.next(),i.done)?i:a%2?x(n,a++,e):x(n,a++,i.value,i)})},n}function be(t,e,n){e||(e=Ce);var r=a(t),i=0,o=t.toSeq().map(function(e,r){return[r,e,i++,n?n(e,r,t):e]}).toArray();return o.sort(function(t,n){return e(t[3],n[3])||t[2]-n[2]}).forEach(r?function(t,e){o[e].length=2}:function(t,e){o[e]=t[1]}),r?C(o):s(t)?R(o):j(o)}function we(t,e,n){if(e||(e=Ce),n){var r=t.toSeq().map(function(e,r){return[e,n(e,r,t)]}).reduce(function(t,n){return xe(e,t[1],n[1])?n:t});return r&&r[0]}return t.reduce(function(t,n){return xe(e,t,n)?n:t})}function xe(t,e,n){var r=t(n,e);return 0===r&&n!==e&&(void 0===n||null===n||n!==n)||r>0}function Se(t,n,r){var i=Pe(t);return i.size=new M(r).map(function(t){return t.size}).min(),i.__iterate=function(t,e){for(var n,r=this.__iterator(wn,e),i=0;!(n=r.next()).done&&t(n.value,i++,this)!==!1;);return i},i.__iteratorUncached=function(t,i){var o=r.map(function(t){return t=e(t),O(i?t.reverse():t)}),a=0,s=!1;return new w(function(){var e;return s||(e=o.map(function(t){return t.next()}),s=e.some(function(t){return t.done})),s?S():x(t,a++,n.apply(null,e.map(function(t){return t.value})))})},i}function ke(t,e){return D(t)?e:t.constructor(e)}function Te(t){if(t!==Object(t))throw new TypeError("Expected [K, V] tuple: "+t)}function Oe(t){return lt(t.size),d(t)}function Ee(t){return a(t)?n:s(t)?r:i}function Pe(t){return Object.create((a(t)?C:s(t)?R:j).prototype)}function Ae(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):A.prototype.cacheResult.call(this)}function Ce(t,e){return t>e?1:t<e?-1:0}function Re(t){var n=O(t);if(!n){if(!P(t))throw new TypeError("Expected iterable or array-like: "+t);n=O(e(t))}return n}function je(t,e){var n,r=function(o){if(o instanceof r)return o;if(!(this instanceof r))return new r(o);if(!n){n=!0;var a=Object.keys(t);Le(i,a),i.size=a.length,i._name=e,i._keys=a,i._defaultValues=t}this._map=ft(o)},i=r.prototype=Object.create(Jn);return i.constructor=r,r}function Me(t,e,n){var r=Object.create(Object.getPrototypeOf(t));return r._map=e,r.__ownerID=n,r}function Ie(t){return t._name||t.constructor.name||"Record"}function Le(t,e){try{e.forEach(Fe.bind(void 0,t))}catch(n){}}function Fe(t,e){Object.defineProperty(t,e,{get:function(){return this.get(e)},set:function(t){J(this.__ownerID,"Cannot set on an immutable record."),this.set(e,t)}})}function De(t){return null===t||void 0===t?qe():Ne(t)&&!c(t)?t:qe().withMutations(function(e){var n=i(t);lt(n.size),n.forEach(function(t){return e.add(t)})})}function Ne(t){return!(!t||!t[Zn])}function Be(t,e){return t.__ownerID?(t.size=e.size,t._map=e,t):e===t._map?t:0===e.size?t.__empty():t.__make(e)}function Ue(t,e){var n=Object.create(tr);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}function qe(){return er||(er=Ue(xt()))}function ze(t){return null===t||void 0===t?We():He(t)?t:We().withMutations(function(e){var n=i(t);lt(n.size),n.forEach(function(t){return e.add(t)})})}function He(t){return Ne(t)&&c(t)}function Ve(t,e){var n=Object.create(nr);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}function We(){return rr||(rr=Ve(ee()))}function Ye(t){return null===t||void 0===t?$e():Ge(t)?t:$e().unshiftAll(t)}function Ge(t){return!(!t||!t[ir])}function Xe(t,e,n,r){var i=Object.create(or);return i.size=t,i._head=e,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function $e(){return ar||(ar=Xe(0))}function Qe(t,e){var n=function(n){t.prototype[n]=e[n]};return Object.keys(e).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(n),t}function Ke(t,e){return e}function Je(t,e){return[e,t]}function Ze(t){return function(){return!t.apply(this,arguments)}}function tn(t){return function(){return-t.apply(this,arguments)}}function en(t){return"string"==typeof t?JSON.stringify(t):String(t)}function nn(){return p(arguments)}function rn(t,e){return t<e?1:t>e?-1:0}function on(t){if(t.size===1/0)return 0;var e=c(t),n=a(t),r=e?1:0,i=t.__iterate(n?e?function(t,e){r=31*r+sn(ot(t),ot(e))|0}:function(t,e){r=r+sn(ot(t),ot(e))|0}:e?function(t){r=31*r+ot(t)|0}:function(t){r=r+ot(t)|0});return an(i,r)}function an(t,e){return e=Rn(e,3432918353),e=Rn(e<<15|e>>>-15,461845907),e=Rn(e<<13|e>>>-13,5),e=(e+3864292196|0)^t,e=Rn(e^e>>>16,2246822507),e=Rn(e^e>>>13,3266489909),e=it(e^e>>>16)}function sn(t,e){return t^e+2654435769+(t<<6)+(t>>2)|0}var un=Array.prototype.slice;t(n,e),t(r,e),t(i,e),e.isIterable=o,e.isKeyed=a,e.isIndexed=s,e.isAssociative=u,e.isOrdered=c,e.Keyed=n,e.Indexed=r,e.Set=i;var cn="@@__IMMUTABLE_ITERABLE__@@",ln="@@__IMMUTABLE_KEYED__@@",fn="@@__IMMUTABLE_INDEXED__@@",hn="@@__IMMUTABLE_ORDERED__@@",pn="delete",dn=5,_n=1<<dn,vn=_n-1,yn={},gn={value:!1},mn={value:!1},bn=0,wn=1,xn=2,Sn="function"==typeof Symbol&&Symbol.iterator,kn="@@iterator",Tn=Sn||kn;w.prototype.toString=function(){return"[Iterator]"},w.KEYS=bn,w.VALUES=wn,w.ENTRIES=xn,w.prototype.inspect=w.prototype.toSource=function(){return this.toString()},w.prototype[Tn]=function(){return this},t(A,e),A.of=function(){return A(arguments)},A.prototype.toSeq=function(){return this},A.prototype.toString=function(){return this.__toString("Seq {","}")},A.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},A.prototype.__iterate=function(t,e){return H(this,t,e,!0)},A.prototype.__iterator=function(t,e){return V(this,t,e,!0)},t(C,A),C.prototype.toKeyedSeq=function(){return this},t(R,A),R.of=function(){return R(arguments)},R.prototype.toIndexedSeq=function(){return this},R.prototype.toString=function(){return this.__toString("Seq [","]")},R.prototype.__iterate=function(t,e){return H(this,t,e,!1)},R.prototype.__iterator=function(t,e){return V(this,t,e,!1)},t(j,A),j.of=function(){return j(arguments)},j.prototype.toSetSeq=function(){return this},A.isSeq=D,A.Keyed=C,A.Set=j,A.Indexed=R;var On="@@__IMMUTABLE_SEQ__@@";A.prototype[On]=!0,t(M,R),M.prototype.get=function(t,e){return this.has(t)?this._array[_(this,t)]:e},M.prototype.__iterate=function(t,e){for(var n=this._array,r=n.length-1,i=0;i<=r;i++)if(t(n[e?r-i:i],i,this)===!1)return i+1;return i},M.prototype.__iterator=function(t,e){var n=this._array,r=n.length-1,i=0;return new w(function(){return i>r?S():x(t,i,n[e?r-i++:i++])})},t(I,C),I.prototype.get=function(t,e){return void 0===e||this.has(t)?this._object[t]:e},I.prototype.has=function(t){return this._object.hasOwnProperty(t)},I.prototype.__iterate=function(t,e){for(var n=this._object,r=this._keys,i=r.length-1,o=0;o<=i;o++){var a=r[e?i-o:o];if(t(n[a],a,this)===!1)return o+1}return o},I.prototype.__iterator=function(t,e){var n=this._object,r=this._keys,i=r.length-1,o=0;return new w(function(){var a=r[e?i-o:o];return o++>i?S():x(t,a,n[a])})},I.prototype[hn]=!0,t(L,R),L.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);var n=this._iterable,r=O(n),i=0;if(T(r))for(var o;!(o=r.next()).done&&t(o.value,i++,this)!==!1;);return i},L.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var n=this._iterable,r=O(n);if(!T(r))return new w(S);var i=0;return new w(function(){var e=r.next();return e.done?e:x(t,i++,e.value)})},t(F,R),F.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);for(var n=this._iterator,r=this._iteratorCache,i=0;i<r.length;)if(t(r[i],i++,this)===!1)return i;for(var o;!(o=n.next()).done;){var a=o.value;if(r[i]=a,t(a,i++,this)===!1)break}return i},F.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var n=this._iterator,r=this._iteratorCache,i=0;return new w(function(){if(i>=r.length){var e=n.next();if(e.done)return e;r[i]=e.value}return x(t,i,r[i++])})};var En;t(K,R),K.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},K.prototype.get=function(t,e){return this.has(t)?this._value:e},K.prototype.includes=function(t){return $(this._value,t)},K.prototype.slice=function(t,e){var n=this.size;return y(t,e,n)?this:new K(this._value,m(e,n)-g(t,n))},K.prototype.reverse=function(){return this},K.prototype.indexOf=function(t){return $(this._value,t)?0:-1},K.prototype.lastIndexOf=function(t){return $(this._value,t)?this.size:-1},K.prototype.__iterate=function(t,e){for(var n=0;n<this.size;n++)if(t(this._value,n,this)===!1)return n+1;return n},K.prototype.__iterator=function(t,e){var n=this,r=0;return new w(function(){return r<n.size?x(t,r++,n._value):S()})},K.prototype.equals=function(t){return t instanceof K?$(this._value,t._value):Q(t)};var Pn;t(Z,R),Z.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"},Z.prototype.get=function(t,e){return this.has(t)?this._start+_(this,t)*this._step:e},Z.prototype.includes=function(t){var e=(t-this._start)/this._step;return e>=0&&e<this.size&&e===Math.floor(e)},Z.prototype.slice=function(t,e){return y(t,e,this.size)?this:(t=g(t,this.size),e=m(e,this.size),e<=t?new Z(0,0):new Z(this.get(t,this._end),this.get(e,this._end),this._step))},Z.prototype.indexOf=function(t){var e=t-this._start;if(e%this._step===0){var n=e/this._step;if(n>=0&&n<this.size)return n}return-1},Z.prototype.lastIndexOf=function(t){return this.indexOf(t)},Z.prototype.__iterate=function(t,e){for(var n=this.size-1,r=this._step,i=e?this._start+n*r:this._start,o=0;o<=n;o++){if(t(i,o,this)===!1)return o+1;i+=e?-r:r}return o},Z.prototype.__iterator=function(t,e){var n=this.size-1,r=this._step,i=e?this._start+n*r:this._start,o=0;return new w(function(){var a=i;return i+=e?-r:r,o>n?S():x(t,o++,a)})},Z.prototype.equals=function(t){return t instanceof Z?this._start===t._start&&this._end===t._end&&this._step===t._step:Q(this,t)};var An;t(tt,e),t(et,tt),t(nt,tt),t(rt,tt),tt.Keyed=et,tt.Indexed=nt,tt.Set=rt;var Cn,Rn="function"==typeof Math.imul&&Math.imul(4294967295,2)===-2?Math.imul:function(t,e){t=0|t,e=0|e;var n=65535&t,r=65535&e;return n*r+((t>>>16)*r+n*(e>>>16)<<16>>>0)|0},jn=Object.isExtensible,Mn=function(){try{return Object.defineProperty({},"@",{}),!0}catch(t){return!1}}(),In="function"==typeof WeakMap;In&&(Cn=new WeakMap);var Ln=0,Fn="__immutablehash__";"function"==typeof Symbol&&(Fn=Symbol(Fn));var Dn=16,Nn=255,Bn=0,Un={};t(ft,et),ft.of=function(){var t=un.call(arguments,0);return xt().withMutations(function(e){for(var n=0;n<t.length;n+=2){if(n+1>=t.length)throw new Error("Missing value for key: "+t[n]);e.set(t[n],t[n+1])}})},ft.prototype.toString=function(){return this.__toString("Map {","}")},ft.prototype.get=function(t,e){return this._root?this._root.get(0,void 0,t,e):e},ft.prototype.set=function(t,e){return St(this,t,e)},ft.prototype.setIn=function(t,e){return this.updateIn(t,yn,function(){return e})},ft.prototype.remove=function(t){return St(this,t,yn)},ft.prototype.deleteIn=function(t){return this.updateIn(t,function(){return yn})},ft.prototype.update=function(t,e,n){return 1===arguments.length?t(this):this.updateIn([t],e,n)},ft.prototype.updateIn=function(t,e,n){n||(n=e,e=void 0);var r=It(this,Re(t),e,n);return r===yn?void 0:r},ft.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):xt()},ft.prototype.merge=function(){return Ct(this,void 0,arguments)},ft.prototype.mergeWith=function(t){var e=un.call(arguments,1);return Ct(this,t,e)},ft.prototype.mergeIn=function(t){var e=un.call(arguments,1);return this.updateIn(t,xt(),function(t){return"function"==typeof t.merge?t.merge.apply(t,e):e[e.length-1]})},ft.prototype.mergeDeep=function(){return Ct(this,Rt,arguments)},ft.prototype.mergeDeepWith=function(t){var e=un.call(arguments,1);return Ct(this,jt(t),e)},ft.prototype.mergeDeepIn=function(t){var e=un.call(arguments,1);return this.updateIn(t,xt(),function(t){return"function"==typeof t.mergeDeep?t.mergeDeep.apply(t,e):e[e.length-1]})},ft.prototype.sort=function(t){return Jt(be(this,t))},ft.prototype.sortBy=function(t,e){return Jt(be(this,e,t))},ft.prototype.withMutations=function(t){var e=this.asMutable();return t(e),e.wasAltered()?e.__ensureOwner(this.__ownerID):this},ft.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new h)},ft.prototype.asImmutable=function(){return this.__ensureOwner()},ft.prototype.wasAltered=function(){return this.__altered},ft.prototype.__iterator=function(t,e){return new gt(this,t,e)},ft.prototype.__iterate=function(t,e){var n=this,r=0;return this._root&&this._root.iterate(function(e){return r++,t(e[1],e[0],n)},e),r},ft.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?wt(this.size,this._root,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},ft.isMap=ht;var qn="@@__IMMUTABLE_MAP__@@",zn=ft.prototype;zn[qn]=!0,zn[pn]=zn.remove,zn.removeIn=zn.deleteIn,pt.prototype.get=function(t,e,n,r){for(var i=this.entries,o=0,a=i.length;o<a;o++)if($(n,i[o][0]))return i[o][1];return r},pt.prototype.update=function(t,e,n,r,i,o,a){for(var s=i===yn,u=this.entries,c=0,l=u.length;c<l&&!$(r,u[c][0]);c++);var h=c<l;if(h?u[c][1]===i:s)return this;if(f(a),(s||!h)&&f(o),!s||1!==u.length){if(!h&&!s&&u.length>=Vn)return Et(t,u,r,i);var d=t&&t===this.ownerID,_=d?u:p(u);return h?s?c===l-1?_.pop():_[c]=_.pop():_[c]=[r,i]:_.push([r,i]),d?(this.entries=_,this):new pt(t,_)}},dt.prototype.get=function(t,e,n,r){void 0===e&&(e=ot(n));var i=1<<((0===t?e:e>>>t)&vn),o=this.bitmap;return 0===(o&i)?r:this.nodes[Lt(o&i-1)].get(t+dn,e,n,r)},dt.prototype.update=function(t,e,n,r,i,o,a){void 0===n&&(n=ot(r));var s=(0===e?n:n>>>e)&vn,u=1<<s,c=this.bitmap,l=0!==(c&u);if(!l&&i===yn)return this;var f=Lt(c&u-1),h=this.nodes,p=l?h[f]:void 0,d=kt(p,t,e+dn,n,r,i,o,a);if(d===p)return this;if(!l&&d&&h.length>=Wn)return At(t,h,c,s,d);if(l&&!d&&2===h.length&&Tt(h[1^f]))return h[1^f];if(l&&d&&1===h.length&&Tt(d))return d;var _=t&&t===this.ownerID,v=l?d?c:c^u:c|u,y=l?d?Ft(h,f,d,_):Nt(h,f,_):Dt(h,f,d,_);return _?(this.bitmap=v,this.nodes=y,this):new dt(t,v,y)},_t.prototype.get=function(t,e,n,r){void 0===e&&(e=ot(n));var i=(0===t?e:e>>>t)&vn,o=this.nodes[i];return o?o.get(t+dn,e,n,r):r},_t.prototype.update=function(t,e,n,r,i,o,a){void 0===n&&(n=ot(r));var s=(0===e?n:n>>>e)&vn,u=i===yn,c=this.nodes,l=c[s];if(u&&!l)return this;var f=kt(l,t,e+dn,n,r,i,o,a);if(f===l)return this;var h=this.count;if(l){if(!f&&(h--,h<Yn))return Pt(t,c,h,s)}else h++;var p=t&&t===this.ownerID,d=Ft(c,s,f,p);return p?(this.count=h,this.nodes=d,this):new _t(t,h,d)},vt.prototype.get=function(t,e,n,r){for(var i=this.entries,o=0,a=i.length;o<a;o++)if($(n,i[o][0]))return i[o][1];return r},vt.prototype.update=function(t,e,n,r,i,o,a){void 0===n&&(n=ot(r));var s=i===yn;if(n!==this.keyHash)return s?this:(f(a),f(o),Ot(this,t,e,n,[r,i]));for(var u=this.entries,c=0,l=u.length;c<l&&!$(r,u[c][0]);c++);var h=c<l;if(h?u[c][1]===i:s)return this;if(f(a),(s||!h)&&f(o),s&&2===l)return new yt(t,this.keyHash,u[1^c]);var d=t&&t===this.ownerID,_=d?u:p(u);return h?s?c===l-1?_.pop():_[c]=_.pop():_[c]=[r,i]:_.push([r,i]),d?(this.entries=_,this):new vt(t,this.keyHash,_)},yt.prototype.get=function(t,e,n,r){return $(n,this.entry[0])?this.entry[1]:r},yt.prototype.update=function(t,e,n,r,i,o,a){var s=i===yn,u=$(r,this.entry[0]);return(u?i===this.entry[1]:s)?this:(f(a),s?void f(o):u?t&&t===this.ownerID?(this.entry[1]=i,this):new yt(t,this.keyHash,[r,i]):(f(o),Ot(this,t,e,ot(r),[r,i])))},pt.prototype.iterate=vt.prototype.iterate=function(t,e){for(var n=this.entries,r=0,i=n.length-1;r<=i;r++)if(t(n[e?i-r:r])===!1)return!1},dt.prototype.iterate=_t.prototype.iterate=function(t,e){for(var n=this.nodes,r=0,i=n.length-1;r<=i;r++){var o=n[e?i-r:r];if(o&&o.iterate(t,e)===!1)return!1}},yt.prototype.iterate=function(t,e){return t(this.entry)},t(gt,w),gt.prototype.next=function(){for(var t=this._type,e=this._stack;e;){var n,r=e.node,i=e.index++;if(r.entry){if(0===i)return mt(t,r.entry)}else if(r.entries){if(n=r.entries.length-1,i<=n)return mt(t,r.entries[this._reverse?n-i:i])}else if(n=r.nodes.length-1,i<=n){var o=r.nodes[this._reverse?n-i:i];if(o){if(o.entry)return mt(t,o.entry);e=this._stack=bt(o,e)}continue}e=this._stack=this._stack.__prev}return S()};var Hn,Vn=_n/4,Wn=_n/2,Yn=_n/4;t(Bt,nt),Bt.of=function(){return this(arguments)},Bt.prototype.toString=function(){return this.__toString("List [","]")},Bt.prototype.get=function(t,e){if(t=_(this,t),t>=0&&t<this.size){t+=this._origin;var n=Xt(this,t);return n&&n.array[t&vn]}return e},Bt.prototype.set=function(t,e){return Wt(this,t,e)},Bt.prototype.remove=function(t){return this.has(t)?0===t?this.shift():t===this.size-1?this.pop():this.splice(t,1):this},Bt.prototype.insert=function(t,e){return this.splice(t,0,e)},Bt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=dn,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):Vt()},Bt.prototype.push=function(){var t=arguments,e=this.size;return this.withMutations(function(n){$t(n,0,e+t.length);for(var r=0;r<t.length;r++)n.set(e+r,t[r])})},Bt.prototype.pop=function(){return $t(this,0,-1)},Bt.prototype.unshift=function(){var t=arguments;return this.withMutations(function(e){$t(e,-t.length);for(var n=0;n<t.length;n++)e.set(n,t[n])})},Bt.prototype.shift=function(){return $t(this,1)},Bt.prototype.merge=function(){return Qt(this,void 0,arguments)},Bt.prototype.mergeWith=function(t){var e=un.call(arguments,1);return Qt(this,t,e)},Bt.prototype.mergeDeep=function(){return Qt(this,Rt,arguments)},Bt.prototype.mergeDeepWith=function(t){var e=un.call(arguments,1);return Qt(this,jt(t),e)},Bt.prototype.setSize=function(t){return $t(this,0,t)},Bt.prototype.slice=function(t,e){var n=this.size;return y(t,e,n)?this:$t(this,g(t,n),m(e,n))},Bt.prototype.__iterator=function(t,e){var n=0,r=zt(this,e);return new w(function(){var e=r();return e===Qn?S():x(t,n++,e)})},Bt.prototype.__iterate=function(t,e){for(var n,r=0,i=zt(this,e);(n=i())!==Qn&&t(n,r++,this)!==!1;);return r},Bt.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Ht(this._origin,this._capacity,this._level,this._root,this._tail,t,this.__hash):(this.__ownerID=t,this)},Bt.isList=Ut;var Gn="@@__IMMUTABLE_LIST__@@",Xn=Bt.prototype;Xn[Gn]=!0,Xn[pn]=Xn.remove,Xn.setIn=zn.setIn,Xn.deleteIn=Xn.removeIn=zn.removeIn,Xn.update=zn.update,Xn.updateIn=zn.updateIn,Xn.mergeIn=zn.mergeIn,Xn.mergeDeepIn=zn.mergeDeepIn,Xn.withMutations=zn.withMutations,Xn.asMutable=zn.asMutable,Xn.asImmutable=zn.asImmutable,Xn.wasAltered=zn.wasAltered,qt.prototype.removeBefore=function(t,e,n){if(n===e?1<<e:0===this.array.length)return this;var r=n>>>e&vn;if(r>=this.array.length)return new qt([],t);var i,o=0===r;if(e>0){var a=this.array[r];if(i=a&&a.removeBefore(t,e-dn,n),i===a&&o)return this}if(o&&!i)return this;var s=Gt(this,t);if(!o)for(var u=0;u<r;u++)s.array[u]=void 0;return i&&(s.array[r]=i),s},qt.prototype.removeAfter=function(t,e,n){if(n===(e?1<<e:0)||0===this.array.length)return this;var r=n-1>>>e&vn;if(r>=this.array.length)return this;var i;if(e>0){var o=this.array[r];if(i=o&&o.removeAfter(t,e-dn,n),i===o&&r===this.array.length-1)return this}var a=Gt(this,t);return a.array.splice(r+1),i&&(a.array[r]=i),a};var $n,Qn={};t(Jt,ft),Jt.of=function(){return this(arguments)},Jt.prototype.toString=function(){return this.__toString("OrderedMap {","}")},Jt.prototype.get=function(t,e){var n=this._map.get(t);return void 0!==n?this._list.get(n)[1]:e},Jt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):ee()},Jt.prototype.set=function(t,e){return ne(this,t,e)},Jt.prototype.remove=function(t){return ne(this,t,yn)},Jt.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},Jt.prototype.__iterate=function(t,e){var n=this;return this._list.__iterate(function(e){return e&&t(e[1],e[0],n)},e)},Jt.prototype.__iterator=function(t,e){return this._list.fromEntrySeq().__iterator(t,e)},Jt.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t),n=this._list.__ensureOwner(t);return t?te(e,n,t,this.__hash):(this.__ownerID=t,this._map=e,this._list=n,this)},Jt.isOrderedMap=Zt,Jt.prototype[hn]=!0,Jt.prototype[pn]=Jt.prototype.remove;var Kn;t(re,C),re.prototype.get=function(t,e){return this._iter.get(t,e)},re.prototype.has=function(t){return this._iter.has(t)},re.prototype.valueSeq=function(){return this._iter.valueSeq()},re.prototype.reverse=function(){var t=this,e=ce(this,!0);return this._useKeys||(e.valueSeq=function(){return t._iter.toSeq().reverse()}),e},re.prototype.map=function(t,e){var n=this,r=ue(this,t,e);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().map(t,e)}),r},re.prototype.__iterate=function(t,e){var n,r=this;return this._iter.__iterate(this._useKeys?function(e,n){return t(e,n,r)}:(n=e?Oe(this):0,function(i){return t(i,e?--n:n++,r)}),e)},re.prototype.__iterator=function(t,e){if(this._useKeys)return this._iter.__iterator(t,e);var n=this._iter.__iterator(wn,e),r=e?Oe(this):0;return new w(function(){var i=n.next();return i.done?i:x(t,e?--r:r++,i.value,i);
})},re.prototype[hn]=!0,t(ie,R),ie.prototype.includes=function(t){return this._iter.includes(t)},ie.prototype.__iterate=function(t,e){var n=this,r=0;return this._iter.__iterate(function(e){return t(e,r++,n)},e)},ie.prototype.__iterator=function(t,e){var n=this._iter.__iterator(wn,e),r=0;return new w(function(){var e=n.next();return e.done?e:x(t,r++,e.value,e)})},t(oe,j),oe.prototype.has=function(t){return this._iter.includes(t)},oe.prototype.__iterate=function(t,e){var n=this;return this._iter.__iterate(function(e){return t(e,e,n)},e)},oe.prototype.__iterator=function(t,e){var n=this._iter.__iterator(wn,e);return new w(function(){var e=n.next();return e.done?e:x(t,e.value,e.value,e)})},t(ae,C),ae.prototype.entrySeq=function(){return this._iter.toSeq()},ae.prototype.__iterate=function(t,e){var n=this;return this._iter.__iterate(function(e){if(e){Te(e);var r=o(e);return t(r?e.get(1):e[1],r?e.get(0):e[0],n)}},e)},ae.prototype.__iterator=function(t,e){var n=this._iter.__iterator(wn,e);return new w(function(){for(;;){var e=n.next();if(e.done)return e;var r=e.value;if(r){Te(r);var i=o(r);return x(t,i?r.get(0):r[0],i?r.get(1):r[1],e)}}})},ie.prototype.cacheResult=re.prototype.cacheResult=oe.prototype.cacheResult=ae.prototype.cacheResult=Ae,t(je,et),je.prototype.toString=function(){return this.__toString(Ie(this)+" {","}")},je.prototype.has=function(t){return this._defaultValues.hasOwnProperty(t)},je.prototype.get=function(t,e){if(!this.has(t))return e;var n=this._defaultValues[t];return this._map?this._map.get(t,n):n},je.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var t=this.constructor;return t._empty||(t._empty=Me(this,xt()))},je.prototype.set=function(t,e){if(!this.has(t))throw new Error('Cannot set unknown key "'+t+'" on '+Ie(this));if(this._map&&!this._map.has(t)){var n=this._defaultValues[t];if(e===n)return this}var r=this._map&&this._map.set(t,e);return this.__ownerID||r===this._map?this:Me(this,r)},je.prototype.remove=function(t){if(!this.has(t))return this;var e=this._map&&this._map.remove(t);return this.__ownerID||e===this._map?this:Me(this,e)},je.prototype.wasAltered=function(){return this._map.wasAltered()},je.prototype.__iterator=function(t,e){var r=this;return n(this._defaultValues).map(function(t,e){return r.get(e)}).__iterator(t,e)},je.prototype.__iterate=function(t,e){var r=this;return n(this._defaultValues).map(function(t,e){return r.get(e)}).__iterate(t,e)},je.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map&&this._map.__ensureOwner(t);return t?Me(this,e,t):(this.__ownerID=t,this._map=e,this)};var Jn=je.prototype;Jn[pn]=Jn.remove,Jn.deleteIn=Jn.removeIn=zn.removeIn,Jn.merge=zn.merge,Jn.mergeWith=zn.mergeWith,Jn.mergeIn=zn.mergeIn,Jn.mergeDeep=zn.mergeDeep,Jn.mergeDeepWith=zn.mergeDeepWith,Jn.mergeDeepIn=zn.mergeDeepIn,Jn.setIn=zn.setIn,Jn.update=zn.update,Jn.updateIn=zn.updateIn,Jn.withMutations=zn.withMutations,Jn.asMutable=zn.asMutable,Jn.asImmutable=zn.asImmutable,t(De,rt),De.of=function(){return this(arguments)},De.fromKeys=function(t){return this(n(t).keySeq())},De.prototype.toString=function(){return this.__toString("Set {","}")},De.prototype.has=function(t){return this._map.has(t)},De.prototype.add=function(t){return Be(this,this._map.set(t,!0))},De.prototype.remove=function(t){return Be(this,this._map.remove(t))},De.prototype.clear=function(){return Be(this,this._map.clear())},De.prototype.union=function(){var t=un.call(arguments,0);return t=t.filter(function(t){return 0!==t.size}),0===t.length?this:0!==this.size||this.__ownerID||1!==t.length?this.withMutations(function(e){for(var n=0;n<t.length;n++)i(t[n]).forEach(function(t){return e.add(t)})}):this.constructor(t[0])},De.prototype.intersect=function(){var t=un.call(arguments,0);if(0===t.length)return this;t=t.map(function(t){return i(t)});var e=this;return this.withMutations(function(n){e.forEach(function(e){t.every(function(t){return t.includes(e)})||n.remove(e)})})},De.prototype.subtract=function(){var t=un.call(arguments,0);if(0===t.length)return this;t=t.map(function(t){return i(t)});var e=this;return this.withMutations(function(n){e.forEach(function(e){t.some(function(t){return t.includes(e)})&&n.remove(e)})})},De.prototype.merge=function(){return this.union.apply(this,arguments)},De.prototype.mergeWith=function(t){var e=un.call(arguments,1);return this.union.apply(this,e)},De.prototype.sort=function(t){return ze(be(this,t))},De.prototype.sortBy=function(t,e){return ze(be(this,e,t))},De.prototype.wasAltered=function(){return this._map.wasAltered()},De.prototype.__iterate=function(t,e){var n=this;return this._map.__iterate(function(e,r){return t(r,r,n)},e)},De.prototype.__iterator=function(t,e){return this._map.map(function(t,e){return e}).__iterator(t,e)},De.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t);return t?this.__make(e,t):(this.__ownerID=t,this._map=e,this)},De.isSet=Ne;var Zn="@@__IMMUTABLE_SET__@@",tr=De.prototype;tr[Zn]=!0,tr[pn]=tr.remove,tr.mergeDeep=tr.merge,tr.mergeDeepWith=tr.mergeWith,tr.withMutations=zn.withMutations,tr.asMutable=zn.asMutable,tr.asImmutable=zn.asImmutable,tr.__empty=qe,tr.__make=Ue;var er;t(ze,De),ze.of=function(){return this(arguments)},ze.fromKeys=function(t){return this(n(t).keySeq())},ze.prototype.toString=function(){return this.__toString("OrderedSet {","}")},ze.isOrderedSet=He;var nr=ze.prototype;nr[hn]=!0,nr.__empty=We,nr.__make=Ve;var rr;t(Ye,nt),Ye.of=function(){return this(arguments)},Ye.prototype.toString=function(){return this.__toString("Stack [","]")},Ye.prototype.get=function(t,e){var n=this._head;for(t=_(this,t);n&&t--;)n=n.next;return n?n.value:e},Ye.prototype.peek=function(){return this._head&&this._head.value},Ye.prototype.push=function(){if(0===arguments.length)return this;for(var t=this.size+arguments.length,e=this._head,n=arguments.length-1;n>=0;n--)e={value:arguments[n],next:e};return this.__ownerID?(this.size=t,this._head=e,this.__hash=void 0,this.__altered=!0,this):Xe(t,e)},Ye.prototype.pushAll=function(t){if(t=r(t),0===t.size)return this;lt(t.size);var e=this.size,n=this._head;return t.reverse().forEach(function(t){e++,n={value:t,next:n}}),this.__ownerID?(this.size=e,this._head=n,this.__hash=void 0,this.__altered=!0,this):Xe(e,n)},Ye.prototype.pop=function(){return this.slice(1)},Ye.prototype.unshift=function(){return this.push.apply(this,arguments)},Ye.prototype.unshiftAll=function(t){return this.pushAll(t)},Ye.prototype.shift=function(){return this.pop.apply(this,arguments)},Ye.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):$e()},Ye.prototype.slice=function(t,e){if(y(t,e,this.size))return this;var n=g(t,this.size),r=m(e,this.size);if(r!==this.size)return nt.prototype.slice.call(this,t,e);for(var i=this.size-n,o=this._head;n--;)o=o.next;return this.__ownerID?(this.size=i,this._head=o,this.__hash=void 0,this.__altered=!0,this):Xe(i,o)},Ye.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Xe(this.size,this._head,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},Ye.prototype.__iterate=function(t,e){if(e)return this.reverse().__iterate(t);for(var n=0,r=this._head;r&&t(r.value,n++,this)!==!1;)r=r.next;return n},Ye.prototype.__iterator=function(t,e){if(e)return this.reverse().__iterator(t);var n=0,r=this._head;return new w(function(){if(r){var e=r.value;return r=r.next,x(t,n++,e)}return S()})},Ye.isStack=Ge;var ir="@@__IMMUTABLE_STACK__@@",or=Ye.prototype;or[ir]=!0,or.withMutations=zn.withMutations,or.asMutable=zn.asMutable,or.asImmutable=zn.asImmutable,or.wasAltered=zn.wasAltered;var ar;e.Iterator=w,Qe(e,{toArray:function(){lt(this.size);var t=new Array(this.size||0);return this.valueSeq().__iterate(function(e,n){t[n]=e}),t},toIndexedSeq:function(){return new ie(this)},toJS:function(){return this.toSeq().map(function(t){return t&&"function"==typeof t.toJS?t.toJS():t}).__toJS()},toJSON:function(){return this.toSeq().map(function(t){return t&&"function"==typeof t.toJSON?t.toJSON():t}).__toJS()},toKeyedSeq:function(){return new re(this,(!0))},toMap:function(){return ft(this.toKeyedSeq())},toObject:function(){lt(this.size);var t={};return this.__iterate(function(e,n){t[n]=e}),t},toOrderedMap:function(){return Jt(this.toKeyedSeq())},toOrderedSet:function(){return ze(a(this)?this.valueSeq():this)},toSet:function(){return De(a(this)?this.valueSeq():this)},toSetSeq:function(){return new oe(this)},toSeq:function(){return s(this)?this.toIndexedSeq():a(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Ye(a(this)?this.valueSeq():this)},toList:function(){return Bt(a(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(t,e){return 0===this.size?t+e:t+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+e},concat:function(){var t=un.call(arguments,0);return ke(this,ve(this,t))},includes:function(t){return this.some(function(e){return $(e,t)})},entries:function(){return this.__iterator(xn)},every:function(t,e){lt(this.size);var n=!0;return this.__iterate(function(r,i,o){if(!t.call(e,r,i,o))return n=!1,!1}),n},filter:function(t,e){return ke(this,le(this,t,e,!0))},find:function(t,e,n){var r=this.findEntry(t,e);return r?r[1]:n},forEach:function(t,e){return lt(this.size),this.__iterate(e?t.bind(e):t)},join:function(t){lt(this.size),t=void 0!==t?""+t:",";var e="",n=!0;return this.__iterate(function(r){n?n=!1:e+=t,e+=null!==r&&void 0!==r?r.toString():""}),e},keys:function(){return this.__iterator(bn)},map:function(t,e){return ke(this,ue(this,t,e))},reduce:function(t,e,n){lt(this.size);var r,i;return arguments.length<2?i=!0:r=e,this.__iterate(function(e,o,a){i?(i=!1,r=e):r=t.call(n,r,e,o,a)}),r},reduceRight:function(t,e,n){var r=this.toKeyedSeq().reverse();return r.reduce.apply(r,arguments)},reverse:function(){return ke(this,ce(this,!0))},slice:function(t,e){return ke(this,pe(this,t,e,!0))},some:function(t,e){return!this.every(Ze(t),e)},sort:function(t){return ke(this,be(this,t))},values:function(){return this.__iterator(wn)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some(function(){return!0})},count:function(t,e){return d(t?this.toSeq().filter(t,e):this)},countBy:function(t,e){return fe(this,t,e)},equals:function(t){return Q(this,t)},entrySeq:function(){var t=this;if(t._cache)return new M(t._cache);var e=t.toSeq().map(Je).toIndexedSeq();return e.fromEntrySeq=function(){return t.toSeq()},e},filterNot:function(t,e){return this.filter(Ze(t),e)},findEntry:function(t,e,n){var r=n;return this.__iterate(function(n,i,o){if(t.call(e,n,i,o))return r=[i,n],!1}),r},findKey:function(t,e){var n=this.findEntry(t,e);return n&&n[0]},findLast:function(t,e,n){return this.toKeyedSeq().reverse().find(t,e,n)},findLastEntry:function(t,e,n){return this.toKeyedSeq().reverse().findEntry(t,e,n)},findLastKey:function(t,e){return this.toKeyedSeq().reverse().findKey(t,e)},first:function(){return this.find(v)},flatMap:function(t,e){return ke(this,ge(this,t,e))},flatten:function(t){return ke(this,ye(this,t,!0))},fromEntrySeq:function(){return new ae(this)},get:function(t,e){return this.find(function(e,n){return $(n,t)},void 0,e)},getIn:function(t,e){for(var n,r=this,i=Re(t);!(n=i.next()).done;){var o=n.value;if(r=r&&r.get?r.get(o,yn):yn,r===yn)return e}return r},groupBy:function(t,e){return he(this,t,e)},has:function(t){return this.get(t,yn)!==yn},hasIn:function(t){return this.getIn(t,yn)!==yn},isSubset:function(t){return t="function"==typeof t.includes?t:e(t),this.every(function(e){return t.includes(e)})},isSuperset:function(t){return t="function"==typeof t.isSubset?t:e(t),t.isSubset(this)},keyOf:function(t){return this.findKey(function(e){return $(e,t)})},keySeq:function(){return this.toSeq().map(Ke).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},lastKeyOf:function(t){return this.toKeyedSeq().reverse().keyOf(t)},max:function(t){return we(this,t)},maxBy:function(t,e){return we(this,e,t)},min:function(t){return we(this,t?tn(t):rn)},minBy:function(t,e){return we(this,e?tn(e):rn,t)},rest:function(){return this.slice(1)},skip:function(t){return this.slice(Math.max(0,t))},skipLast:function(t){return ke(this,this.toSeq().reverse().skip(t).reverse())},skipWhile:function(t,e){return ke(this,_e(this,t,e,!0))},skipUntil:function(t,e){return this.skipWhile(Ze(t),e)},sortBy:function(t,e){return ke(this,be(this,e,t))},take:function(t){return this.slice(0,Math.max(0,t))},takeLast:function(t){return ke(this,this.toSeq().reverse().take(t).reverse())},takeWhile:function(t,e){return ke(this,de(this,t,e))},takeUntil:function(t,e){return this.takeWhile(Ze(t),e)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=on(this))}});var sr=e.prototype;sr[cn]=!0,sr[Tn]=sr.values,sr.__toJS=sr.toArray,sr.__toStringMapper=en,sr.inspect=sr.toSource=function(){return this.toString()},sr.chain=sr.flatMap,sr.contains=sr.includes,Qe(n,{flip:function(){return ke(this,se(this))},mapEntries:function(t,e){var n=this,r=0;return ke(this,this.toSeq().map(function(i,o){return t.call(e,[o,i],r++,n)}).fromEntrySeq())},mapKeys:function(t,e){var n=this;return ke(this,this.toSeq().flip().map(function(r,i){return t.call(e,r,i,n)}).flip())}});var ur=n.prototype;ur[ln]=!0,ur[Tn]=sr.entries,ur.__toJS=sr.toObject,ur.__toStringMapper=function(t,e){return JSON.stringify(e)+": "+en(t)},Qe(r,{toKeyedSeq:function(){return new re(this,(!1))},filter:function(t,e){return ke(this,le(this,t,e,!1))},findIndex:function(t,e){var n=this.findEntry(t,e);return n?n[0]:-1},indexOf:function(t){var e=this.keyOf(t);return void 0===e?-1:e},lastIndexOf:function(t){var e=this.lastKeyOf(t);return void 0===e?-1:e},reverse:function(){return ke(this,ce(this,!1))},slice:function(t,e){return ke(this,pe(this,t,e,!1))},splice:function(t,e){var n=arguments.length;if(e=Math.max(0|e,0),0===n||2===n&&!e)return this;t=g(t,t<0?this.count():this.size);var r=this.slice(0,t);return ke(this,1===n?r:r.concat(p(arguments,2),this.slice(t+e)))},findLastIndex:function(t,e){var n=this.findLastEntry(t,e);return n?n[0]:-1},first:function(){return this.get(0)},flatten:function(t){return ke(this,ye(this,t,!1))},get:function(t,e){return t=_(this,t),t<0||this.size===1/0||void 0!==this.size&&t>this.size?e:this.find(function(e,n){return n===t},void 0,e)},has:function(t){return t=_(this,t),t>=0&&(void 0!==this.size?this.size===1/0||t<this.size:this.indexOf(t)!==-1)},interpose:function(t){return ke(this,me(this,t))},interleave:function(){var t=[this].concat(p(arguments)),e=Se(this.toSeq(),R.of,t),n=e.flatten(!0);return e.size&&(n.size=e.size*t.length),ke(this,n)},keySeq:function(){return Z(0,this.size)},last:function(){return this.get(-1)},skipWhile:function(t,e){return ke(this,_e(this,t,e,!1))},zip:function(){var t=[this].concat(p(arguments));return ke(this,Se(this,nn,t))},zipWith:function(t){var e=p(arguments);return e[0]=this,ke(this,Se(this,t,e))}}),r.prototype[fn]=!0,r.prototype[hn]=!0,Qe(i,{get:function(t,e){return this.has(t)?t:e},includes:function(t){return this.has(t)},keySeq:function(){return this.valueSeq()}}),i.prototype.has=sr.includes,i.prototype.contains=i.prototype.includes,Qe(C,n.prototype),Qe(R,r.prototype),Qe(j,i.prototype),Qe(et,n.prototype),Qe(nt,r.prototype),Qe(rt,i.prototype);var cr={Iterable:e,Seq:A,Collection:tt,Map:ft,OrderedMap:Jt,List:Bt,Stack:Ye,Set:De,OrderedSet:ze,Record:je,Range:Z,Repeat:K,is:$,fromJS:W};return cr})},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a=n(11),s=r(a),u=n(2),c=r(u),l=n(59),f=r(l),h=n(307),p=r(h),d=n(23),_=n(7),v=r(_),y=c.default.PropTypes,g=y.array,m=y.func,b=y.object,w=c.default.createClass({displayName:"RouterContext",propTypes:{history:b,router:b.isRequired,location:b.isRequired,routes:g.isRequired,params:b.isRequired,components:g.isRequired,createElement:m.isRequired},getDefaultProps:function(){return{createElement:c.default.createElement}},childContextTypes:{history:b,location:b.isRequired,router:b.isRequired},getChildContext:function(){var t=this.props,e=t.router,n=t.history,r=t.location;return e||((0,v.default)(!1,"`<RouterContext>` expects a `router` rather than a `history`"),e=o({},n,{setRouteLeaveHook:n.listenBeforeLeavingRoute}),delete e.listenBeforeLeavingRoute),r=(0,f.default)(r,"`context.location` is deprecated, please use a route component's `props.location` instead. http://tiny.cc/router-accessinglocation"),{history:n,location:r,router:e}},createElement:function(t,e){return null==t?null:this.props.createElement(t,e)},render:function(){var t=this,e=this.props,n=e.history,r=e.location,a=e.routes,u=e.params,l=e.components,f=null;return l&&(f=l.reduceRight(function(e,s,c){if(null==s)return e;var l=a[c],f=(0,p.default)(l,u),h={history:n,location:r,params:u,route:l,routeParams:f,routes:a};if((0,d.isReactChildren)(e))h.children=e;else if(e)for(var _ in e)Object.prototype.hasOwnProperty.call(e,_)&&(h[_]=e[_]);if("object"===("undefined"==typeof s?"undefined":i(s))){var v={};for(var y in s)Object.prototype.hasOwnProperty.call(s,y)&&(v[y]=t.createElement(s[y],o({key:y},h)));return v}return t.createElement(s,h)},f)),null===f||f===!1||c.default.isValidElement(f)?void 0:(0,s.default)(!1,"The root route must render a single element"),f}});e.default=w,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0,e.canUseMembrane=void 0;var i=n(7),o=r(i),a=e.canUseMembrane=!1,s=function(t){return t};try{Object.defineProperty({},"x",{get:function(){return!0}}).x&&(e.canUseMembrane=a=!0)}catch(u){}a&&(s=function(t,e){var n={},r=function(r){return Object.prototype.hasOwnProperty.call(t,r)?"function"==typeof t[r]?(n[r]=function(){return(0,o.default)(!1,e),t[r].apply(t,arguments)},"continue"):void Object.defineProperty(n,r,{get:function(){return(0,o.default)(!1,e),t[r]}}):"continue"};for(var i in t){r(i)}return n}),e.default=s},,,,,,,,,,function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.routerMiddleware=e.routerActions=e.goForward=e.goBack=e.go=e.replace=e.push=e.CALL_HISTORY_METHOD=e.routerReducer=e.LOCATION_CHANGE=e.syncHistoryWithStore=void 0;var i=n(135);Object.defineProperty(e,"LOCATION_CHANGE",{enumerable:!0,get:function(){return i.LOCATION_CHANGE}}),Object.defineProperty(e,"routerReducer",{enumerable:!0,get:function(){return i.routerReducer}});var o=n(134);Object.defineProperty(e,"CALL_HISTORY_METHOD",{enumerable:!0,get:function(){return o.CALL_HISTORY_METHOD}}),Object.defineProperty(e,"push",{enumerable:!0,get:function(){return o.push}}),Object.defineProperty(e,"replace",{enumerable:!0,get:function(){return o.replace}}),Object.defineProperty(e,"go",{enumerable:!0,get:function(){return o.go}}),Object.defineProperty(e,"goBack",{enumerable:!0,get:function(){return o.goBack}}),Object.defineProperty(e,"goForward",{enumerable:!0,get:function(){return o.goForward}}),Object.defineProperty(e,"routerActions",{enumerable:!0,get:function(){return o.routerActions}});var a=n(292),s=r(a),u=n(291),c=r(u);e.syncHistoryWithStore=s.default,e.routerMiddleware=c.default},,function(t,e,n){function r(){this.__data__={}}function i(t){return this.has(t)&&delete this.__data__[t]}function o(t){return"__proto__"==t?void 0:this.__data__[t]}function a(t){return"__proto__"!=t&&h.call(this.__data__,t)}function s(t,e){return"__proto__"!=t&&(this.__data__[t]=e),this}function u(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError(l);var n,r,i,o=function(){n=new Array(arguments.length);for(var a=0,s=arguments.length;a<s;a++)n[a]=arguments[a];if(r=e?e.apply(this,n):n[0],i=o.cache,i.has(r))return i.get(r);var u=t.apply(this,n);return o.cache=i.set(r,u),u};return o.cache=new u.Cache,o}var c=n(204),l="Expected a function",f=Object.prototype,h=f.hasOwnProperty;r.prototype.delete=i,r.prototype.get=o,r.prototype.has=a,r.prototype.set=s,u.Cache=c.Map||r,t.exports=u},function(t,e){"use strict";t.exports=Date.now||function(){return(new Date).getTime()}},function(t,e){var n;n="undefined"!=typeof window?window:"undefined"!=typeof self?self:this,t.exports=n},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=n(53),u=r(s),c=n(19),l=r(c),f=n(5),h=r(f),p=n(38),d=r(p),_=n(75),v=r(_),y=n(8),g=r(y),m=n(9),b=function(){function t(e){var n=this;o(this,t),this._data=e,this._id=this._data.id,this._locationsUrls=this._cacheLocationsUrls(),this._beat=0,this._beatCounter=0,this._sound=new v.default(this._data.options.sound,this._id),this._sound.endingSignal.add(this.onEnding.bind(this)),this._sound.endedSignal.add(this.onEnded.bind(this)),this._sound.loadedSignal.add(function(t){n.preloadNext()}),this._sound.playingSignal.add(this.onPlaying.bind(this)),this._playlist=[],this._playedSources={},this._updatedLocations=[]}return a(t,[{key:"onMetronome",value:function(){this._sound.onMetronome(),this._beatCounter++}},{key:"mapEntering",value:function(t){}},{key:"mapLeaving",value:function(){arguments.length<=0||void 0===arguments[0]||arguments[0]}},{key:"mapUpdate",value:function(t){var e=arguments.length<=1||void 0===arguments[1]||arguments[1];t[0]?this._buildPlaylist(t,e):this._buildOutPlaylist()}},{key:"onEnding",value:function(){}},{key:"onEnded",value:function(t){var e=t.soundName,n=(t.soundIndex,t.hasFinished),r=t.progress;n?delete this._playedSources[e]:(this._playedSources[e]=this._playedSources[e]||{},this._playedSources[e].hasFinished=n,this._playedSources[e].progress=r)}},{key:"onPlaying",value:function(){}},{key:"getInfo",value:function(){var t=this,e=[];return this._sound.sounds?g.default.each(this._sound.sounds,function(n){console.log(n),n.sound&&!n.sound.markedToDestroy&&(e.push("--------------"),e.push("nearFactor: "+n.sound.nearFactor),e.push("soundname: "+n.sound.soundname),e.push("playing: "+n.sound.playing),e.push("progress: "+n.sound.seek),e.push("scheduledVolume: "+t.scheduledVolume),e.push("volume: "+n.sound.volume),e.push("--------------"))}):e=[].concat(i(this._extractInfoFromSound(this._sound))),e}},{key:"_extractInfoFromSound",value:function(t){var e=[];return e.push("--------------"),e.push("activeIndex: "+this._sound.activeIndex),e.push("nearFactor: "+t.nearFactor),e.push("soundname: "+t.soundname),e.push("playtime: "+t.playtime),e.push("playing: "+t.playing),e.push("progress: "+t.seek),e.push("scheduledVolume: "+this.scheduledVolume),e.push("volume: "+t.volume),e.push("--------------"),e}},{key:"terminateCurrentSound",value:function(){}},{key:"increaseSeek",value:function(){var t=arguments.length<=0||void 0===arguments[0]?1:arguments[0],e=this._sound.seek,n=e+t;n<this._sound.duration&&(this._sound.seek=n)}},{key:"_buildPlaylist",value:function(t){var e=this,n=arguments.length<=1||void 0===arguments[1]||arguments[1];t=t||this._updatedLocations;var r=t.slice(0);this._updatedLocations=r;var i=this._playlist.shift();this._closestLocation=t[0];var o=0;g.default.each(r,function(t){t.sourcesLength=0,t.nearFactor=e._getNearFactor(t.distance,t.radius),t.sources=e._getLocationSourcesById(t.id),n&&l.default.shuffle(t.sources),t.sourcesLength=t.sources.length,o+=t.sourcesLength}),this._playlist.length=0;for(var a=0,s=r.length,u=0;this._playlist.length<m.PLAYLIST_LENGTH&&u<s;){var c=r[a],f=Math.random();if(f>c.nearFactor){var h=c.sources.shift();if(h){
//!!!
var p={src:h,nearFactor:c.nearFactor};this._playlist.push(p)}else a=(a+1)%s,u++}else a=(a+1)%s}i&&this._playlist.unshift(i)}},{key:"_buildOutPlaylist",value:function(){var t=this._createPlaylistObjectsFromSourceUrls(this._getTransitionSourceUrls());l.default.shuffle(t),this._playlist.length=0,this._playlist=t}},{key:"play",value:function(){var t=arguments.length<=0||void 0===arguments[0]?500:arguments[0],e=this._sound.soundname,n=this._playedSources[e];console.log("Layer: play() "+this._id),console.log("Saved data",n),this._sound.play(n,t)}},{key:"pause",value:function(){this._sound.pause()}},{key:"ramp",value:function(){var t=arguments.length<=0||void 0===arguments[0]?1:arguments[0],e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=!(arguments.length<=2||void 0===arguments[2])&&arguments[2];this._sound.ramp(t,e,n)}},{key:"_loadNext",value:function(t,e){var n=void 0;if(n=e?e.shift():this._playlist.shift()){var r=this._getFileNameFromSource(n);t=t||n.soundOptions,console.log("BaseLayer, _loadNext() ----------"),console.log(n),console.log(n.soundOptions),console.log("----------"),this._sound.newSound(n,r,t),this._preloading=!1,this._preloader&&(this._preloader.destroy(),this._preloader=null)}else h.default.emit("log:error","_loadNext fail "+this._id+" no source")}},{key:"preloadNext",value:function(){var t=this;if(!this._preloading){this._preloading=!0;var e=this._playlist[0];u.default.load(e).then(function(e){t._preloader=e}).finally()}}},{key:"update",value:function(){this._sound.update()}},{key:"getRandomDataKey",value:function(){var t=Math.floor(Math.random()*this._dataKeys.length);return this._dataKeys[t]}},{key:"_createPlaylistObjectsFromSourceUrls",value:function(){var t=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];return t.map(function(t){return g.default.isArray(t)?{src:t}:t})}},{key:"_makeSrcArrayFromLocationUrls",value:function(t){return t=t||this.closestLocationUrls,t.slice(0).map(function(t){return{src:t}})}},{key:"_getLocationSourcesById",value:function(t){var e=void 0,n=this._locationsUrls[t]||this._locationsUrls.misc;for(n=n||[];!n.length;){var r=Math.floor(Math.random()*this._data.locations.length),i=this._data.locations[r].id;n=this._locationsUrls[i]}return e=n.slice(0)}},{key:"_getLocationById",value:function(t){return this._data.locations.filter(function(e){return console.log(t,e.id),e.id===t})[0]}},{key:"_getTransitionSourceUrls",value:function(){var t=[].concat(i(this._locationsUrls.transitions||[]));return t}},{key:"_filterSourcesByTerm",value:function(t,e){return t.filter(function(t){return t.src[0].indexOf(e)>=0})}},{key:"_getNextFileIndex",value:function(){var t=arguments.length<=0||void 0===arguments[0]?1:arguments[0],e=this._fileIndex;return e+=t,e>this._locationsUrls.length-1&&(e=0),e}},{key:"_getFileNameFromSource",value:function(t){if(!t)return"";t=t.src||t;var e=t[0].split("/");return e=e[e.length-2]+e[e.length-1]}},{key:"_getNearFactorFromLocation",value:function(t,e){return this._getNearFactor(this._getDistanceFromUpdatedLocationsById(t),e)}},{key:"_getDistanceFromUpdatedLocationsById",value:function(t){var e=this._updatedLocations.filter(function(e){return e.id===t});return e.length?e[0].distance:(console.log("Failed _getDistanceFromUpdatedLocationsById "+t),0)}},{key:"_getDistanceFromUpdatedLocationsById",value:function(t){var e=this._updatedLocations.filter(function(e){return e.id===t});return e.length?e[0].distance:(console.log("Failed _getDistanceFromUpdatedLocationsById "+t),0)}},{key:"_getNearFactor",value:function(t){arguments.length<=1||void 0===arguments[1]?m.PERSONAL_RADIUS:arguments[1];return d.default.nearFactor}},{key:"_changeFileIndex",value:function(){var t=arguments.length<=0||void 0===arguments[0]?1:arguments[0];this._fileIndex=this._getNextFileIndex(t)}},{key:"_cacheLocationsUrls",value:function(){var t=this,e={};return this._data.locations.map(function(n){var r=t._getLocationFiles(n.id);e[n.id]=t._extractUrls(r)}),e}},{key:"_getLocationFiles",value:function(t){var e=this._data.locations.filter(function(e){return e.id===t});return e.length?e[0].files:this._getMisc()}},{key:"_getMisc",value:function(){var t=this._data.locations.filter(function(t){return"misc"===t.id});return t[0].files}},{key:"_filterSourcesByString",value:function(t,e){return t.filter(function(t){return t.src[0].indexOf(e)>-1})}},{key:"_extractUrls",value:function(){var t=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];return g.default.uniq(t.map(function(t){return t.map(function(t){return t?t.url:null})}))}},{key:"sound",get:function(){return this._sound}},{key:"id",get:function(){return this._id}},{key:"playing",get:function(){return this._sound.playing}},{key:"volume",get:function(){return this._sound.volume},set:function(t){this._sound.volume=t}},{key:"scheduledVolume",get:function(){return this._scheduledVolume||this._sound.volume},set:function(t){this._scheduledVolume=t,this._sound.scheduledVolume=this._scheduledVolume}},{key:"beat",set:function(t){this._beat=t}},{key:"closestLocation",get:function(){return this._closestLocation}},{key:"closestLocationUrls",get:function(){return this._closestLocation?this._locationsUrls[this._closestLocation.id]||[]:this._locationsUrls.transitions||[]}},{key:"progress",get:function(){return this._sound.progress}},{key:"preloading",get:function(){return this._preloading}}]),t}();e.default=b},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(116),s=r(a),u=n(43),c=r(u),l=n(8),f=r(l),h=n(9),p=n(5),d=r(p),_=n(52),v=(r(_),function(){function t(){var e=this,n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],r=arguments.length<=1||void 0===arguments[1]?"":arguments[1];i(this,t),this._options=n,this._id=r,this.endingSignal=new c.default,this.endedSignal=new c.default,this.terminatedSignal=new c.default,this.playingSignal=new c.default,this.loadedSignal=new c.default,this._onTerminatedBound=this._onTerminated.bind(this),this._onLoadedBound=this._onLoaded.bind(this),this._onEndedBound=this._onEnded.bind(this),this._onPauseBound=this._onPause.bind(this),this._onPlayBound=this._onPlay.bind(this),d.default.on("volume:change",function(t){e._id&&(e.scheduledVolume=t[e._id],"music"===e._id,e.sound&&(e.sound.volume=e.scheduledVolume))}),this.sound=null}return o(t,[{key:"newSound",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?"":arguments[1],n=this,r=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],i=!(arguments.length<=3||void 0===arguments[3])&&arguments[3];if(i&&this.sound)return this._fadeAndDestroy(this.sound,0,h.CONFIG.baseSoundFadeOut-.2),void setTimeout(function(){n.newSound(t,e,r)},h.CONFIG.baseSoundFadeOut);var o=f.default.merge({name:e,autoplay:!1,volume:this.scheduledVolume,loop:!1},t,this._options.howler,r);this.sound=new s.default(o,this._id),this.sound.terminatedSignal.addOnce(this._onTerminatedBound),this.sound.endedSignal.addOnce(this._onEndedBound),this.sound.playingSignal.addOnce(this._onPlayBound),this.sound.loadedSignal.addOnce(this._onLoadedBound)}},{key:"onMetronome",value:function(){if(this.sound&&!this.sound.markedToDestroy&&h.CONFIG.partialPlay){var t=this.sound.previousTimeCounter||0,e=this.sound.seek;if(this.sound.timeCounter+=e-t,this.sound.timeCounter=isNaN(this.sound)?e:this.sound.timeCounter,this.sound.playtime&&(this._checkIsEnding(this.sound.playtime),this.sound.timeCounter>this.sound.playtime))return d.default.emit("log:log","Sound "+this._id+" "+this.sound.soundname+" past playtime, destroy!",3,20),void this._fadeAndDestroy(this.sound,0,this._options.fadeDownBeforeEnding);this.sound.previousTimeCounter=e}}},{key:"_checkIsEnding",value:function(t){t=t||this.sound.duration(),this.sound.isEnding||("speaking"===this._id,this.sound.timeCounter>t-this.sound.overlapTime&&(this.sound.isEnding=!0,this.endingSignal.dispatch(this)))}},{key:"_getNextSoundIndex",value:function(){return(this.soundIndex+1)%NUM_SOUNDS}},{key:"fadeAndDestroy",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?0:arguments[1],n=arguments.length<=2||void 0===arguments[2]?2:arguments[2];t=t||this.sound,this._fadeAndDestroy(t,e,n)}},{key:"play",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?500:arguments[1];if(this.sound){var n=this._scheduledVolume;console.log(">>>>>>>>>>>>>>>>>>>>>>"),console.log("play()",this._id,"at ",n),console.log(">>>>>>>>>>>>>>>>>>>>>>"),this.sound.play(),this.sound.fade(0,n,e),this.sound.savedData=t,t&&(this.sound.seek=t.progress,h.CONFIG.partialPlay&&(this.sound.playtime+=t.progress),d.default.emit("log:log:light","seeking to "+t.progress,2,12))}else d.default.emit("log:error","No sound on play "+this._id)}},{key:"stop",value:function(){this.sound.stop()}},{key:"update",value:function(){this.sound&&this.sound.update()}},{key:"pause",value:function(){this._isPaused=!0,this.sound&&this.sound.pause()}},{key:"ramp",value:function(t,e,n){this.sound&&this.sound.ramp(t,e,n)}},{key:"_onLoaded",value:function(t){this.loadedSignal.dispatch()}},{key:"_onPlay",value:function(t){d.default.emit("log:log","Sound "+this._id+" at "+t+" "+this.sound.soundname+" Playing"),d.default.emit("ext:"+this._id+":playing"),this.playingSignal.dispatch()}},{key:"_onPause",value:function(t){}},{key:"_onEnded",value:function(t,e){this.sound.hasFinished=!0,this.terminate()}},{key:"_onTerminated",value:function(t,e){this.terminate()}},{key:"_fadeAndDestroy",value:function(t){var e=(arguments.length<=1||void 0===arguments[1]?0:arguments[1],arguments.length<=2||void 0===arguments[2]?2:arguments[2]);t.markedToDestroy||(t.markedToDestroy=!0,t.ramp(e,{volume:0,end:!0},!0))}},{key:"terminate",value:function(){if(!this.sound)return void d.default.emit("log:error","terminate() no active Sound");var t={soundName:this.sound.soundname,soundIndex:this.sound.soundIndex,hasFinished:!!this.sound.hasFinished,progress:"Howl"==typeof this.seek?0:this.seek,duration:"Howl"==typeof this.duration?0:this.duration};d.default.emit("log:log","Sound "+this._id+" "+this.sound.soundname+" at "+this.soundIndex+" terminate()"),this.sound.markedToDestroy=!0,this.sound.terminatedSignal.remove(this._onTerminatedBound),this.sound.endedSignal.remove(this._onEndedBound),this.sound.playingSignal.remove(this._onPlayBound),this.sound.loadedSignal.remove(this._onLoadedBound),this._destroySound(this.sound),this.endedSignal.dispatch(t)}},{key:"_destroySound",value:function(t){t&&(t.destroy(),t=null)}},{key:"playing",get:function(){return!!this.sound&&this.sound.playing}},{key:"volume",set:function(t){this.sound&&(this.sound.volume=t)},get:function(){return this.sound?this.sound.volume||0:0}},{key:"progress",get:function(){if(!this.sound)return 0;var t=this.sound.seek,e=t/this.sound.duration()||0;return e}},{key:"duration",get:function(){return this.sound.duration()||0}},{key:"seek",get:function(){return this.sound.seek},set:function(t){this.sound.seek=t}},{key:"playtime",get:function(){return this.sound.playtime}},{key:"soundname",get:function(){return this.sound?this.sound.soundname:""}},{key:"nearFactor",get:function(){return this.sound.nearFactor}},{key:"loaded",get:function(){return this.sound.loaded}},{key:"sound",get:function(){return this._sound},set:function(t){this._sound=t}},{key:"scheduledVolume",set:function(t){this._scheduledVolume=t},get:function(){return this._scheduledVolume||0}},{key:"activeIndex",get:function(){return this.soundIndex}}]),t}());e.default=v},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){if(t.status>=200&&t.status<300)return t;var e=new Error(t.statusText);throw e.response=t,e}function o(t){return(0,s.default)(t).then(i)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var a=n(282),s=r(a);n(256).polyfill()},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){return"string"==typeof t&&"/"===t.charAt(0)}function o(){var t=g.getHashPath();return!!i(t)||(g.replaceHashPath("/"+t),!1)}function a(t,e,n){return t+(t.indexOf("?")===-1?"?":"&")+(e+"="+n)}function s(t,e){return t.replace(new RegExp("[?&]?"+e+"=[a-zA-Z0-9]+"),"")}function u(t,e){var n=t.match(new RegExp("\\?.*?\\b"+e+"=(.+?)\\b"));return n&&n[1]}function c(){function t(){var t=g.getHashPath(),e=void 0,n=void 0;P?(e=u(t,P),t=s(t,P),e?n=m.readState(e):(n=null,e=A.createKey(),g.replaceHashPath(a(t,P,e)))):e=n=null;var r=v.parsePath(t);return A.createLocation(l({},r,{state:n}),void 0,e)}function e(e){function n(){o()&&r(t())}var r=e.transitionTo;return o(),g.addEventListener(window,"hashchange",n),function(){g.removeEventListener(window,"hashchange",n)}}function n(t){var e=t.basename,n=t.pathname,r=t.search,i=t.state,o=t.action,s=t.key;if(o!==_.POP){var u=(e||"")+n+r;P?(u=a(u,P,s),m.saveState(s,i)):t.key=t.state=null;var c=g.getHashPath();o===_.PUSH?c!==u?window.location.hash=u:h.default(!1,"You cannot PUSH the same path using hash history"):c!==u&&g.replaceHashPath(u)}}function r(t){1===++C&&(R=e(A));var n=A.listenBefore(t);return function(){n(),0===--C&&R()}}function i(t){1===++C&&(R=e(A));var n=A.listen(t);return function(){n(),0===--C&&R()}}function c(t){h.default(P||null==t.state,"You cannot use state without a queryKey it will be dropped"),A.push(t)}function f(t){h.default(P||null==t.state,"You cannot use state without a queryKey it will be dropped"),A.replace(t)}function p(t){h.default(j,"Hash history go(n) causes a full page reload in this browser"),A.go(t)}function b(t){return"#"+A.createHref(t)}function S(t){1===++C&&(R=e(A)),A.registerTransitionHook(t)}function k(t){A.unregisterTransitionHook(t),0===--C&&R()}function T(t,e){h.default(P||null==t,"You cannot use state without a queryKey it will be dropped"),A.pushState(t,e)}function O(t,e){h.default(P||null==t,"You cannot use state without a queryKey it will be dropped"),A.replaceState(t,e)}var E=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];y.canUseDOM?void 0:d.default(!1,"Hash history needs a DOM");var P=E.queryKey;(void 0===P||P)&&(P="string"==typeof P?P:x);var A=w.default(l({},E,{getCurrentLocation:t,finishTransition:n,saveState:m.saveState})),C=0,R=void 0,j=g.supportsGoWithoutReloadUsingHash();return l({},A,{listenBefore:r,listen:i,push:c,replace:f,go:p,createHref:b,registerTransitionHook:S,unregisterTransitionHook:k,pushState:T,replaceState:O})}e.__esModule=!0;var l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},f=n(14),h=r(f),p=n(11),d=r(p),_=n(30),v=n(31),y=n(46),g=n(56),m=n(123),b=n(125),w=r(b),x="_k";e.default=c,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e,n){var r=t(e,n);t.length<2?n(r):a.default(void 0===r,'You should not "return" in a transition hook with a callback argument; call the callback instead')}e.__esModule=!0;var o=n(14),a=r(o);e.default=i,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){return function(){function e(){if(!x){if(null==w&&u.canUseDOM){var t=document.getElementsByTagName("base")[0],e=t&&t.getAttribute("href");null!=e&&(w=e,s.default(!1,"Automatically setting basename using <base href> is deprecated and will be removed in the next major release. The semantics of <base href> are subtly different from basename. Please pass the basename explicitly in the options to createHistory"))}x=!0}}function n(t){return e(),w&&null==t.basename&&(0===t.pathname.indexOf(w)?(t.pathname=t.pathname.substring(w.length),t.basename=w,""===t.pathname&&(t.pathname="/")):t.basename=""),t}function r(t){if(e(),!w)return t;"string"==typeof t&&(t=c.parsePath(t));var n=t.pathname,r="/"===w.slice(-1)?w:w+"/",i="/"===n.charAt(0)?n.slice(1):n,a=r+i;return o({},t,{pathname:a})}function i(t){return b.listenBefore(function(e,r){f.default(t,n(e),r)})}function a(t){return b.listen(function(e){t(n(e))})}function l(t){b.push(r(t))}function h(t){b.replace(r(t))}function d(t){return b.createPath(r(t))}function _(t){return b.createHref(r(t))}function v(t){for(var e=arguments.length,i=Array(e>1?e-1:0),o=1;o<e;o++)i[o-1]=arguments[o];return n(b.createLocation.apply(b,[r(t)].concat(i)))}function y(t,e){"string"==typeof e&&(e=c.parsePath(e)),l(o({state:t},e))}function g(t,e){"string"==typeof e&&(e=c.parsePath(e)),h(o({state:t},e))}var m=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],b=t(m),w=m.basename,x=!1;return o({},b,{listenBefore:i,listen:a,push:l,replace:h,createPath:d,createHref:_,createLocation:v,pushState:p.default(y,"pushState is deprecated; use push instead"),replaceState:p.default(g,"replaceState is deprecated; use replace instead")})}}e.__esModule=!0;var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a=n(14),s=r(a),u=n(46),c=n(31),l=n(78),f=r(l),h=n(32),p=r(h);e.default=i,t.exports=e.default},function(t,e,n){function r(t){if(!a(t)||h.call(t)!=s||o(t))return!1;var e=i(t);if(null===e)return!0;var n=l.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==f}var i=n(283),o=n(284),a=n(285),s="[object Object]",u=Object.prototype,c=Function.prototype.toString,l=u.hasOwnProperty,f=c.call(Object),h=u.toString;t.exports=r},function(t,e,n){"use strict";(function(e){function n(t,n,r,i){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var o,a,s=arguments.length;switch(s){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick(function(){t.call(null,n)});case 3:return e.nextTick(function(){t.call(null,n,r)});case 4:return e.nextTick(function(){t.call(null,n,r,i)});default:for(o=new Array(s-1),a=0;a<o.length;)o[a++]=arguments[a];return e.nextTick(function(){t.apply(null,o)})}}!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports=n:t.exports=e.nextTick}).call(e,n(22))},function(t,e){"use strict";function n(t,e,n){function r(){return a=!0,s?void(c=[].concat(Array.prototype.slice.call(arguments))):void n.apply(this,arguments)}function i(){if(!a&&(u=!0,!s)){for(s=!0;!a&&o<t&&u;)u=!1,e.call(this,o++,i,r);return s=!1,a?void n.apply(this,c):void(o>=t&&u&&(a=!0,n()))}}var o=0,a=!1,s=!1,u=!1,c=void 0;i()}function r(t,e,n){function r(t,e,r){a||(e?(a=!0,n(e)):(o[t]=r,a=++s===i,a&&n(null,o)))}var i=t.length,o=[];if(0===i)return n(null,o);var a=!1,s=0;t.forEach(function(t,n){e(t,n,function(t,e){r(n,t,e)})})}e.__esModule=!0,e.loopAsync=n,e.mapAsync=r},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0,e.router=e.routes=e.route=e.components=e.component=e.location=e.history=e.falsy=e.locationShape=e.routerShape=void 0;var o=n(2),a=n(59),s=i(a),u=n(34),c=r(u),l=n(7),f=i(l),h=o.PropTypes.func,p=o.PropTypes.object,d=o.PropTypes.shape,_=o.PropTypes.string,v=e.routerShape=d({push:h.isRequired,replace:h.isRequired,go:h.isRequired,goBack:h.isRequired,goForward:h.isRequired,setRouteLeaveHook:h.isRequired,isActive:h.isRequired}),y=e.locationShape=d({pathname:_.isRequired,search:_.isRequired,state:p,action:_.isRequired,key:_}),g=e.falsy=c.falsy,m=e.history=c.history,b=e.location=y,w=e.component=c.component,x=e.components=c.components,S=e.route=c.route,k=e.routes=c.routes,T=e.router=v;!function(){var t=function(t,e){return function(){return(0,f.default)(!1,e),t.apply(void 0,arguments)}},n=function(e){return t(e,"This prop type is not intended for external use, and was previously exported by mistake. These internal prop types are deprecated for external use, and will be removed in a later version.")},r=function(e,n){return t(e,"The `"+n+"` prop type is now exported as `"+n+"Shape` to avoid name conflicts. This export is deprecated and will be removed in a later version.")};e.falsy=g=n(g),e.history=m=n(m),e.component=w=n(w),e.components=x=n(x),e.route=S=n(S),e.routes=k=n(k),e.location=b=r(b,"location"),e.router=T=r(T,"router")}();var O={falsy:g,history:m,location:b,component:w,components:x,route:S,router:T};O=(0,s.default)(O,"The default export from `react-router/lib/PropTypes` is deprecated. Please use the named exports instead."),e.default=O},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!0;return!1}function o(t,e){function n(e){var n=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],r=arguments.length<=2||void 0===arguments[2]?null:arguments[2],i=void 0;return n&&n!==!0||null!==r?((0,u.default)(!1,"`isActive(pathname, query, indexOnly) is deprecated; use `isActive(location, indexOnly)` with a location descriptor instead. http://tiny.cc/router-isActivedeprecated"),e={pathname:e,query:n},i=r||!1):(e=t.createLocation(e),i=n),(0,d.default)(e,i,x.location,x.routes,x.params)}function r(e){return t.createLocation(e,c.REPLACE)}function o(t,n){S&&S.location===t?s(S,n):(0,g.default)(e,t,function(e,r){e?n(e):r?s(a({},r,{location:t}),n):n()})}function s(t,e){function n(n,r){return n||r?i(n,r):void(0,v.default)(t,function(n,r){n?e(n):e(null,null,x=a({},t,{components:r}))})}function i(t,n){t?e(t):e(null,r(n))}var o=(0,f.default)(x,t),s=o.leaveRoutes,u=o.changeRoutes,c=o.enterRoutes;(0,h.runLeaveHooks)(s),s.filter(function(t){return c.indexOf(t)===-1}).forEach(m),(0,h.runChangeHooks)(u,x,t,function(e,r){return e||r?i(e,r):void(0,h.runEnterHooks)(c,t,n)})}function l(t){var e=arguments.length<=1||void 0===arguments[1]||arguments[1];return t.__id__||e&&(t.__id__=k++)}function p(t){return t.reduce(function(t,e){return t.push.apply(t,T[l(e)]),t},[])}function _(t,n){(0,g.default)(e,t,function(e,r){if(null==r)return void n();S=a({},r,{location:t});for(var i=p((0,f.default)(x,S).leaveRoutes),o=void 0,s=0,u=i.length;null==o&&s<u;++s)o=i[s](t);n(o)})}function y(){if(x.routes){for(var t=p(x.routes),e=void 0,n=0,r=t.length;"string"!=typeof e&&n<r;++n)e=t[n]();return e}}function m(t){var e=l(t,!1);e&&(delete T[e],i(T)||(O&&(O(),O=null),E&&(E(),E=null)))}function b(e,n){var r=l(e),o=T[r];if(o)o.indexOf(n)===-1&&((0,u.default)(!1,"adding multiple leave hooks for the same route is deprecated; manage multiple confirmations in your own code instead"),o.push(n));else{var a=!i(T);T[r]=[n],a&&(O=t.listenBefore(_),t.listenBeforeUnload&&(E=t.listenBeforeUnload(y)))}return function(){var t=T[r];if(t){var i=t.filter(function(t){return t!==n});0===i.length?m(e):T[r]=i}}}function w(e){return t.listen(function(n){x.location===n?e(null,x):o(n,function(r,i,o){r?e(r):i?t.transitionTo(i):o?e(null,o):(0,u.default)(!1,'Location "%s" did not match any routes',n.pathname+n.search+n.hash)})})}var x={},S=void 0,k=1,T=Object.create(null),O=void 0,E=void 0;return{isActive:n,match:o,listenBeforeLeavingRoute:b,listen:w}}e.__esModule=!0;var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.default=o;var s=n(7),u=r(s),c=n(30),l=n(305),f=r(l),h=n(302),p=n(309),d=r(p),_=n(306),v=r(_),y=n(311),g=r(y);t.exports=e.default},,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";function r(t){this.afterTransform=function(e,n){return i(t,e,n)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function i(t,e,n){var r=t._transformState;r.transforming=!1;var i=r.writecb;if(!i)return t.emit("error",new Error("no writecb in Transform class"));r.writechunk=null,r.writecb=null,null!==n&&void 0!==n&&t.push(n),i(e);var o=t._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&t._read(o.highWaterMark)}function o(t){if(!(this instanceof o))return new o(t);s.call(this,t),this._transformState=new r(this);var e=this;this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(t){a(e,t)}):a(e)})}function a(t,e){if(e)return t.emit("error",e);var n=t._writableState,r=t._transformState;if(n.length)throw new Error("calling transform done when ws.length != 0");if(r.transforming)throw new Error("calling transform done when still transforming");return t.push(null)}t.exports=o;var s=n(36),u=n(45);u.inherits=n(33),u.inherits(o,s),o.prototype.push=function(t,e){return this._transformState.needTransform=!1,s.prototype.push.call(this,t,e)},o.prototype._transform=function(t,e,n){throw new Error("not implemented")},o.prototype._write=function(t,e,n){var r=this._transformState;if(r.writecb=n,r.writechunk=t,r.writeencoding=e,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},o.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0}},function(t,e,n){"use strict";(function(e,r){function i(){}function o(t,e,n){this.chunk=t,this.encoding=e,this.callback=n,this.next=null}function a(t,e){C=C||n(36),t=t||{},this.objectMode=!!t.objectMode,e instanceof C&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var r=t.highWaterMark,i=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:i,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var o=t.decodeStrings===!1;this.decodeStrings=!o,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){_(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new S(this),this.corkedRequestsFree.next=new S(this)}function s(t){return C=C||n(36),this instanceof s||this instanceof C?(this._writableState=new a(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev)),void P.call(this)):new s(t)}function u(t,e){var n=new Error("write after end");t.emit("error",n),k(e,n)}function c(t,e,n,r){var i=!0;if(!O.isBuffer(n)&&"string"!=typeof n&&null!==n&&void 0!==n&&!e.objectMode){var o=new TypeError("Invalid non-string/buffer chunk");t.emit("error",o),k(r,o),i=!1}return i}function l(t,e,n){return t.objectMode||t.decodeStrings===!1||"string"!=typeof e||(e=new O(e,n)),e}function f(t,e,n,r,i){n=l(e,n,r),O.isBuffer(n)&&(r="buffer");var a=e.objectMode?1:n.length;e.length+=a;var s=e.length<e.highWaterMark;if(s||(e.needDrain=!0),e.writing||e.corked){var u=e.lastBufferedRequest;e.lastBufferedRequest=new o(n,r,i),u?u.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else h(t,e,!1,a,n,r,i);return s}function h(t,e,n,r,i,o,a){e.writelen=r,e.writecb=a,e.writing=!0,e.sync=!0,n?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function p(t,e,n,r,i){--e.pendingcb,n?k(i,r):i(r),t._writableState.errorEmitted=!0,t.emit("error",r)}function d(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function _(t,e){var n=t._writableState,r=n.sync,i=n.writecb;if(d(n),e)p(t,n,r,e,i);else{var o=m(n);o||n.corked||n.bufferProcessing||!n.bufferedRequest||g(t,n),r?T(v,t,n,o,i):v(t,n,o,i)}}function v(t,e,n,r){n||y(t,e),e.pendingcb--,r(),w(t,e)}function y(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function g(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var r=e.bufferedRequestCount,i=new Array(r),o=e.corkedRequestsFree;o.entry=n;for(var a=0;n;)i[a]=n,n=n.next,a+=1;h(t,e,!0,e.length,i,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,e.corkedRequestsFree=o.next,o.next=null}else{for(;n;){var s=n.chunk,u=n.encoding,c=n.callback,l=e.objectMode?1:s.length;if(h(t,e,!1,l,s,u,c),n=n.next,e.writing)break}null===n&&(e.lastBufferedRequest=null)}e.bufferedRequestCount=0,e.bufferedRequest=n,e.bufferProcessing=!1}function m(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function b(t,e){e.prefinished||(e.prefinished=!0,t.emit("prefinish"))}function w(t,e){var n=m(e);return n&&(0===e.pendingcb?(b(t,e),e.finished=!0,t.emit("finish")):b(t,e)),n}function x(t,e,n){e.ending=!0,w(t,e),n&&(e.finished?k(n):t.once("finish",n)),e.ended=!0,t.writable=!1}function S(t){var e=this;this.next=null,this.entry=null,this.finish=function(n){var r=e.entry;for(e.entry=null;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}}t.exports=s;var k=n(81),T=!e.browser&&["v0.10","v0.9."].indexOf(e.version.slice(0,5))>-1?r:k,O=n(28).Buffer;s.WritableState=a;var E=n(45);E.inherits=n(33);var P,A={deprecate:n(396)};!function(){try{P=n(50)}catch(t){}finally{P||(P=n(29).EventEmitter)}}();var O=n(28).Buffer;E.inherits(s,P);var C;a.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(a.prototype,"buffer",{get:A.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")})}catch(t){}}();var C;s.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},s.prototype.write=function(t,e,n){var r=this._writableState,o=!1;return"function"==typeof e&&(n=e,e=null),O.isBuffer(t)?e="buffer":e||(e=r.defaultEncoding),"function"!=typeof n&&(n=i),r.ended?u(this,n):c(this,r,t,n)&&(r.pendingcb++,o=f(this,r,t,e,n)),o},s.prototype.cork=function(){var t=this._writableState;t.corked++},s.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||g(this,t))},s.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);this._writableState.defaultEncoding=t},s.prototype._write=function(t,e,n){n(new Error("not implemented"))},s.prototype._writev=null,s.prototype.end=function(t,e,n){var r=this._writableState;"function"==typeof t?(n=t,t=null,e=null):"function"==typeof e&&(n=e,e=null),null!==t&&void 0!==t&&this.write(t,e),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||x(this,r,n)}}).call(e,n(22),n(51).setImmediate)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(){}e.__esModule=!0,e.compose=e.applyMiddleware=e.bindActionCreators=e.combineReducers=e.createStore=void 0;var o=n(180),a=r(o),s=n(392),u=r(s),c=n(391),l=r(c),f=n(390),h=r(f),p=n(179),d=r(p),_=n(181),v=r(_);"string"==typeof i.name&&"isCrushed"!==i.name&&(0,v.default)("You are currently using minified code outside of NODE_ENV === 'production'. This means that you are running a slower development build of Redux. You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify or DefinePlugin for webpack (http://stackoverflow.com/questions/30030031) to ensure you have the correct code for your production build."),e.createStore=a.default,e.combineReducers=u.default,e.bindActionCreators=l.default,e.applyMiddleware=h.default,e.compose=d.default;
},function(t,e,n){(function(t,r){function i(t,n){var r={seen:[],stylize:a};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),_(n)?r.showHidden=n:n&&e._extend(r,n),w(r.showHidden)&&(r.showHidden=!1),w(r.depth)&&(r.depth=2),w(r.colors)&&(r.colors=!1),w(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=o),u(r,t,r.depth)}function o(t,e){var n=i.styles[e];return n?"["+i.colors[n][0]+"m"+t+"["+i.colors[n][1]+"m":t}function a(t,e){return t}function s(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}function u(t,n,r){if(t.customInspect&&n&&O(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,t);return m(i)||(i=u(t,i,r)),i}var o=c(t,n);if(o)return o;var a=Object.keys(n),_=s(a);if(t.showHidden&&(a=Object.getOwnPropertyNames(n)),T(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return l(n);if(0===a.length){if(O(n)){var v=n.name?": "+n.name:"";return t.stylize("[Function"+v+"]","special")}if(x(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(k(n))return t.stylize(Date.prototype.toString.call(n),"date");if(T(n))return l(n)}var y="",g=!1,b=["{","}"];if(d(n)&&(g=!0,b=["[","]"]),O(n)){var w=n.name?": "+n.name:"";y=" [Function"+w+"]"}if(x(n)&&(y=" "+RegExp.prototype.toString.call(n)),k(n)&&(y=" "+Date.prototype.toUTCString.call(n)),T(n)&&(y=" "+l(n)),0===a.length&&(!g||0==n.length))return b[0]+y+b[1];if(r<0)return x(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special");t.seen.push(n);var S;return S=g?f(t,n,r,_,a):a.map(function(e){return h(t,n,r,_,e,g)}),t.seen.pop(),p(S,y,b)}function c(t,e){if(w(e))return t.stylize("undefined","undefined");if(m(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return g(e)?t.stylize(""+e,"number"):_(e)?t.stylize(""+e,"boolean"):v(e)?t.stylize("null","null"):void 0}function l(t){return"["+Error.prototype.toString.call(t)+"]"}function f(t,e,n,r,i){for(var o=[],a=0,s=e.length;a<s;++a)R(e,String(a))?o.push(h(t,e,n,r,String(a),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(h(t,e,n,r,i,!0))}),o}function h(t,e,n,r,i,o){var a,s,c;if(c=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]},c.get?s=c.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):c.set&&(s=t.stylize("[Setter]","special")),R(r,i)||(a="["+i+"]"),s||(t.seen.indexOf(c.value)<0?(s=v(n)?u(t,c.value,null):u(t,c.value,n-1),s.indexOf("\n")>-1&&(s=o?s.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+s.split("\n").map(function(t){return"   "+t}).join("\n"))):s=t.stylize("[Circular]","special")),w(a)){if(o&&i.match(/^\d+$/))return s;a=JSON.stringify(""+i),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+s}function p(t,e,n){var r=0,i=t.reduce(function(t,e){return r++,e.indexOf("\n")>=0&&r++,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}function d(t){return Array.isArray(t)}function _(t){return"boolean"==typeof t}function v(t){return null===t}function y(t){return null==t}function g(t){return"number"==typeof t}function m(t){return"string"==typeof t}function b(t){return"symbol"==typeof t}function w(t){return void 0===t}function x(t){return S(t)&&"[object RegExp]"===P(t)}function S(t){return"object"==typeof t&&null!==t}function k(t){return S(t)&&"[object Date]"===P(t)}function T(t){return S(t)&&("[object Error]"===P(t)||t instanceof Error)}function O(t){return"function"==typeof t}function E(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||"undefined"==typeof t}function P(t){return Object.prototype.toString.call(t)}function A(t){return t<10?"0"+t.toString(10):t.toString(10)}function C(){var t=new Date,e=[A(t.getHours()),A(t.getMinutes()),A(t.getSeconds())].join(":");return[t.getDate(),L[t.getMonth()],e].join(" ")}function R(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var j=/%[sdj%]/g;e.format=function(t){if(!m(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(i(arguments[n]));return e.join(" ")}for(var n=1,r=arguments,o=r.length,a=String(t).replace(j,function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return t}}),s=r[n];n<o;s=r[++n])a+=v(s)||!S(s)?" "+s:" "+i(s);return a},e.deprecate=function(n,i){function o(){if(!a){if(r.throwDeprecation)throw new Error(i);r.traceDeprecation?console.trace(i):console.error(i),a=!0}return n.apply(this,arguments)}if(w(t.process))return function(){return e.deprecate(n,i).apply(this,arguments)};if(r.noDeprecation===!0)return n;var a=!1;return o};var M,I={};e.debuglog=function(t){if(w(M)&&(M={APP_DOMAIN:"/alhambra/08",ASSETS_DIR:"https://storage.googleapis.com/samrad-alhambra/www-assets/",REMOTE_ASSETS_DIR:"https://storage.googleapis.com/samrad-alhambra/www-assets/"}.NODE_DEBUG||""),t=t.toUpperCase(),!I[t])if(new RegExp("\\b"+t+"\\b","i").test(M)){var n=r.pid;I[t]=function(){var r=e.format.apply(e,arguments);console.error("%s %d: %s",t,n,r)}}else I[t]=function(){};return I[t]},e.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=d,e.isBoolean=_,e.isNull=v,e.isNullOrUndefined=y,e.isNumber=g,e.isString=m,e.isSymbol=b,e.isUndefined=w,e.isRegExp=x,e.isObject=S,e.isDate=k,e.isError=T,e.isFunction=O,e.isPrimitive=E,e.isBuffer=n(397);var L=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];e.log=function(){console.log("%s - %s",C(),e.format.apply(e,arguments))},e.inherits=n(33),e._extend=function(t,e){if(!e||!S(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t}}).call(e,n(12),n(22))},function(t,e,n){"use strict";function r(){i.call(this),this.setMaxListeners(20)}var i=n(29).EventEmitter;r.prototype=Object.create(i.prototype),r.prototype.constructor=r,r.prototype.off=function(t,e){return e?this.removeListener(t,e):t?this.removeAllListeners(t):this.removeAllListeners()},t.exports=r},function(t,e){"use strict";t.exports={mbs:0,secs:0,update:function(t,e,n,r){var i,o=t.getAllResponseHeaders();if(o){var a=o.match(/content-length: (\d+)/i);a&&a.length&&(i=a[1])}if(i){i=parseInt(i,10);var s=i/1024/1024,u=(Date.now()-e)/1e3;this.secs+=u,this.mbs+=s,r&&this.log(n,s,u)}else r&&console.warn.call(console,"Can't get Content-Length:",n)},log:function(t,e,n){if(t){var r="File loaded: "+t.substr(t.lastIndexOf("/")+1)+" size:"+e.toFixed(2)+"mb time:"+n.toFixed(2)+"s speed:"+(e/n).toFixed(2)+"mbps";console.log.call(console,r)}var i="Total loaded: "+this.mbs.toFixed(2)+"mb time:"+this.secs.toFixed(2)+"s speed:"+this.getMbps().toFixed(2)+"mbps";console.log.call(console,i)},getMbps:function(){return this.mbs/this.secs}}},function(t,e,n){(function(e,n,r){/* @preserve
	 * The MIT License (MIT)
	 * 
	 * Copyright (c) 2013-2015 Petka Antonov
	 * 
	 * Permission is hereby granted, free of charge, to any person obtaining a copy
	 * of this software and associated documentation files (the "Software"), to deal
	 * in the Software without restriction, including without limitation the rights
	 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
	 * copies of the Software, and to permit persons to whom the Software is
	 * furnished to do so, subject to the following conditions:
	 * 
	 * The above copyright notice and this permission notice shall be included in
	 * all copies or substantial portions of the Software.
	 * 
	 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
	 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
	 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL THE
	 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
	 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
	 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
	 * THE SOFTWARE.
	 * 
	 */
!function(e){t.exports=e()}(function(){var t,i,o;return function a(t,e,n){function r(o,s){if(!e[o]){if(!t[o]){var u="function"==typeof _dereq_&&_dereq_;if(!s&&u)return u(o,!0);if(i)return i(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var l=e[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return r(n?n:e)},l,l.exports,a,t,e,n)}return e[o].exports}for(var i="function"==typeof _dereq_&&_dereq_,o=0;o<n.length;o++)r(n[o]);return r}({1:[function(t,e,n){"use strict";e.exports=function(t){function e(t){var e=new n(t),r=e.promise();return e.setHowMany(1),e.setUnwrap(),e.init(),r}var n=t._SomePromiseArray;t.any=function(t){return e(t)},t.prototype.any=function(){return e(this)}}},{}],2:[function(t,n,r){"use strict";function i(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new f(16),this._normalQueue=new f(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var t=this;this.drainQueues=function(){t._drainQueues()},this._schedule=l}function o(t,e,n){this._lateQueue.push(t,e,n),this._queueTick()}function a(t,e,n){this._normalQueue.push(t,e,n),this._queueTick()}function s(t){this._normalQueue._pushOne(t),this._queueTick()}var u;try{throw new Error}catch(c){u=c}var l=t("./schedule"),f=t("./queue"),h=t("./util");i.prototype.setScheduler=function(t){var e=this._schedule;return this._schedule=t,this._customScheduler=!0,e},i.prototype.hasCustomScheduler=function(){return this._customScheduler},i.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},i.prototype.disableTrampolineIfNecessary=function(){h.hasDevTools&&(this._trampolineEnabled=!1)},i.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},i.prototype.fatalError=function(t,n){n?(e.stderr.write("Fatal "+(t instanceof Error?t.stack:t)+"\n"),e.exit(2)):this.throwLater(t)},i.prototype.throwLater=function(t,e){if(1===arguments.length&&(e=t,t=function(){throw e}),"undefined"!=typeof setTimeout)setTimeout(function(){t(e)},0);else try{this._schedule(function(){t(e)})}catch(n){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},h.hasDevTools?(i.prototype.invokeLater=function(t,e,n){this._trampolineEnabled?o.call(this,t,e,n):this._schedule(function(){setTimeout(function(){t.call(e,n)},100)})},i.prototype.invoke=function(t,e,n){this._trampolineEnabled?a.call(this,t,e,n):this._schedule(function(){t.call(e,n)})},i.prototype.settlePromises=function(t){this._trampolineEnabled?s.call(this,t):this._schedule(function(){t._settlePromises()})}):(i.prototype.invokeLater=o,i.prototype.invoke=a,i.prototype.settlePromises=s),i.prototype.invokeFirst=function(t,e,n){this._normalQueue.unshift(t,e,n),this._queueTick()},i.prototype._drainQueue=function(t){for(;t.length()>0;){var e=t.shift();if("function"==typeof e){var n=t.shift(),r=t.shift();e.call(n,r)}else e._settlePromises()}},i.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},i.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},i.prototype._reset=function(){this._isTickUsed=!1},n.exports=i,n.exports.firstLineError=u},{"./queue":26,"./schedule":29,"./util":36}],3:[function(t,e,n){"use strict";e.exports=function(t,e,n,r){var i=!1,o=function(t,e){this._reject(e)},a=function(t,e){e.promiseRejectionQueued=!0,e.bindingPromise._then(o,o,null,this,t)},s=function(t,e){0===(50397184&this._bitField)&&this._resolveCallback(e.target)},u=function(t,e){e.promiseRejectionQueued||this._reject(t)};t.prototype.bind=function(o){i||(i=!0,t.prototype._propagateFrom=r.propagateFromFunction(),t.prototype._boundValue=r.boundValueFunction());var c=n(o),l=new t(e);l._propagateFrom(this,1);var f=this._target();if(l._setBoundTo(c),c instanceof t){var h={promiseRejectionQueued:!1,promise:l,target:f,bindingPromise:c};f._then(e,a,void 0,l,h),c._then(s,u,void 0,l,h),l._setOnCancel(c)}else l._resolveCallback(f);return l},t.prototype._setBoundTo=function(t){void 0!==t?(this._bitField=2097152|this._bitField,this._boundTo=t):this._bitField=this._bitField&-2097153},t.prototype._isBound=function(){return 2097152===(2097152&this._bitField)},t.bind=function(e,n){return t.resolve(n).bind(e)}}},{}],4:[function(t,e,n){"use strict";function r(){try{Promise===o&&(Promise=i)}catch(t){}return o}var i;"undefined"!=typeof Promise&&(i=Promise);var o=t("./promise")();o.noConflict=r,e.exports=o},{"./promise":22}],5:[function(t,e,n){"use strict";var r=Object.create;if(r){var i=r(null),o=r(null);i[" size"]=o[" size"]=0}e.exports=function(e){function n(t,n){var r;if(null!=t&&(r=t[n]),"function"!=typeof r){var i="Object "+s.classString(t)+" has no method '"+s.toString(n)+"'";throw new e.TypeError(i)}return r}function r(t){var e=this.pop(),r=n(t,e);return r.apply(t,this)}function i(t){return t[this]}function o(t){var e=+this;return e<0&&(e=Math.max(0,e+t.length)),t[e]}var a,s=t("./util"),u=s.canEvaluate;s.isIdentifier;e.prototype.call=function(t){var e=[].slice.call(arguments,1);return e.push(t),this._then(r,void 0,void 0,e,void 0)},e.prototype.get=function(t){var e,n="number"==typeof t;if(n)e=o;else if(u){var r=a(t);e=null!==r?r:i}else e=i;return this._then(e,void 0,void 0,t,void 0)}}},{"./util":36}],6:[function(t,e,n){"use strict";e.exports=function(e,n,r,i){var o=t("./util"),a=o.tryCatch,s=o.errorObj,u=e._async;e.prototype.break=e.prototype.cancel=function(){if(!i.cancellation())return this._warn("cancellation is disabled");for(var t=this,e=t;t._isCancellable();){if(!t._cancelBy(e)){e._isFollowing()?e._followee().cancel():e._cancelBranched();break}var n=t._cancellationParent;if(null==n||!n._isCancellable()){t._isFollowing()?t._followee().cancel():t._cancelBranched();break}t._isFollowing()&&t._followee().cancel(),t._setWillBeCancelled(),e=t,t=n}},e.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},e.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||this._branchesRemainingToCancel<=0},e.prototype._cancelBy=function(t){return t===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},e.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},e.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),u.invoke(this._cancelPromises,this,void 0))},e.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},e.prototype._unsetOnCancel=function(){this._onCancelField=void 0},e.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},e.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},e.prototype._doInvokeOnCancel=function(t,e){if(o.isArray(t))for(var n=0;n<t.length;++n)this._doInvokeOnCancel(t[n],e);else if(void 0!==t)if("function"==typeof t){if(!e){var r=a(t).call(this._boundValue());r===s&&(this._attachExtraTrace(r.e),u.throwLater(r.e))}}else t._resultCancelled(this)},e.prototype._invokeOnCancel=function(){var t=this._onCancel();this._unsetOnCancel(),u.invoke(this._doInvokeOnCancel,this,t)},e.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},e.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(t,e,n){"use strict";e.exports=function(e){function n(t,n,s){return function(u){var c=s._boundValue();t:for(var l=0;l<t.length;++l){var f=t[l];if(f===Error||null!=f&&f.prototype instanceof Error){if(u instanceof f)return o(n).call(c,u)}else if("function"==typeof f){var h=o(f).call(c,u);if(h===a)return h;if(h)return o(n).call(c,u)}else if(r.isObject(u)){for(var p=i(f),d=0;d<p.length;++d){var _=p[d];if(f[_]!=u[_])continue t}return o(n).call(c,u)}}return e}}var r=t("./util"),i=t("./es5").keys,o=r.tryCatch,a=r.errorObj;return n}},{"./es5":13,"./util":36}],8:[function(t,e,n){"use strict";e.exports=function(t){function e(){this._trace=new e.CapturedTrace(r())}function n(){if(i)return new e}function r(){var t=o.length-1;if(t>=0)return o[t]}var i=!1,o=[];return t.prototype._promiseCreated=function(){},t.prototype._pushContext=function(){},t.prototype._popContext=function(){return null},t._peekContext=t.prototype._peekContext=function(){},e.prototype._pushContext=function(){void 0!==this._trace&&(this._trace._promiseCreated=null,o.push(this._trace))},e.prototype._popContext=function(){if(void 0!==this._trace){var t=o.pop(),e=t._promiseCreated;return t._promiseCreated=null,e}return null},e.CapturedTrace=null,e.create=n,e.deactivateLongStackTraces=function(){},e.activateLongStackTraces=function(){var n=t.prototype._pushContext,o=t.prototype._popContext,a=t._peekContext,s=t.prototype._peekContext,u=t.prototype._promiseCreated;e.deactivateLongStackTraces=function(){t.prototype._pushContext=n,t.prototype._popContext=o,t._peekContext=a,t.prototype._peekContext=s,t.prototype._promiseCreated=u,i=!1},i=!0,t.prototype._pushContext=e.prototype._pushContext,t.prototype._popContext=e.prototype._popContext,t._peekContext=t.prototype._peekContext=r,t.prototype._promiseCreated=function(){var t=this._peekContext();t&&null==t._promiseCreated&&(t._promiseCreated=this)}},e}},{}],9:[function(t,n,r){"use strict";n.exports=function(n,r){function i(t,e){return{promise:e}}function o(){return!1}function a(t,e,n){var r=this;try{t(e,n,function(t){if("function"!=typeof t)throw new TypeError("onCancel must be a function, got: "+B.toString(t));r._attachCancellationCallback(t)})}catch(i){return i}}function s(t){if(!this._isCancellable())return this;var e=this._onCancel();void 0!==e?B.isArray(e)?e.push(t):this._setOnCancel([e,t]):this._setOnCancel(t)}function u(){return this._onCancelField}function c(t){this._onCancelField=t}function l(){this._cancellationParent=void 0,this._onCancelField=void 0}function f(t,e){if(0!==(1&e)){this._cancellationParent=t;var n=t._branchesRemainingToCancel;void 0===n&&(n=0),t._branchesRemainingToCancel=n+1}0!==(2&e)&&t._isBound()&&this._setBoundTo(t._boundTo)}function h(t,e){0!==(2&e)&&t._isBound()&&this._setBoundTo(t._boundTo)}function p(){var t=this._boundTo;return void 0!==t&&t instanceof n?t.isFulfilled()?t.value():void 0:t}function d(){this._trace=new j(this._peekContext())}function _(t,e){if(U(t)){var n=this._trace;if(void 0!==n&&e&&(n=n._parent),void 0!==n)n.attachExtraTrace(t);else if(!t.__stackCleaned__){var r=k(t);B.notEnumerableProp(t,"stack",r.message+"\n"+r.stack.join("\n")),B.notEnumerableProp(t,"__stackCleaned__",!0)}}}function v(t,e,n,r,i){if(void 0===t&&null!==e&&Q){if(void 0!==i&&i._returnedNonUndefined())return;if(0===(65535&r._bitField))return;n&&(n+=" ");var o="",a="";if(e._trace){for(var s=e._trace.stack.split("\n"),u=x(s),c=u.length-1;c>=0;--c){var l=u[c];if(!z.test(l)){var f=l.match(H);f&&(o="at "+f[1]+":"+f[2]+":"+f[3]+" ");break}}if(u.length>0)for(var h=u[0],c=0;c<s.length;++c)if(s[c]===h){c>0&&(a="\n"+s[c-1]);break}}var p="a promise was created in a "+n+"handler "+o+"but was not returned from it, see http://goo.gl/rRqMUw"+a;r._warn(p,!0,e)}}function y(t,e){var n=t+" is deprecated and will be removed in a future version.";return e&&(n+=" Use "+e+" instead."),g(n)}function g(t,e,r){if(at.warnings){var i,o=new N(t);if(e)r._attachExtraTrace(o);else if(at.longStackTraces&&(i=n._peekContext()))i.attachExtraTrace(o);else{var a=k(o);o.stack=a.message+"\n"+a.stack.join("\n")}et("warning",o)||T(o,"",!0)}}function m(t,e){for(var n=0;n<e.length-1;++n)e[n].push("From previous event:"),e[n]=e[n].join("\n");return n<e.length&&(e[n]=e[n].join("\n")),t+"\n"+e.join("\n")}function b(t){for(var e=0;e<t.length;++e)(0===t[e].length||e+1<t.length&&t[e][0]===t[e+1][0])&&(t.splice(e,1),e--)}function w(t){for(var e=t[0],n=1;n<t.length;++n){for(var r=t[n],i=e.length-1,o=e[i],a=-1,s=r.length-1;s>=0;--s)if(r[s]===o){a=s;break}for(var s=a;s>=0;--s){var u=r[s];if(e[i]!==u)break;e.pop(),i--}e=r}}function x(t){for(var e=[],n=0;n<t.length;++n){var r=t[n],i="    (No stack trace)"===r||V.test(r),o=i&&rt(r);i&&!o&&(Y&&" "!==r.charAt(0)&&(r="    "+r),e.push(r))}return e}function S(t){for(var e=t.stack.replace(/\s+$/g,"").split("\n"),n=0;n<e.length;++n){var r=e[n];if("    (No stack trace)"===r||V.test(r))break}return n>0&&(e=e.slice(n)),e}function k(t){var e=t.stack,n=t.toString();return e="string"==typeof e&&e.length>0?S(t):["    (No stack trace)"],{message:n,stack:x(e)}}function T(t,e,n){if("undefined"!=typeof console){var r;if(B.isObject(t)){var i=t.stack;r=e+W(i,t)}else r=e+String(t);"function"==typeof L?L(r,n):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(r)}}function O(t,e,n,r){var i=!1;try{"function"==typeof e&&(i=!0,"rejectionHandled"===t?e(r):e(n,r))}catch(o){D.throwLater(o)}"unhandledRejection"===t?et(t,n,r)||i||T(n,"Unhandled rejection "):et(t,r)}function E(t){var e;if("function"==typeof t)e="[function "+(t.name||"anonymous")+"]";else{e=t&&"function"==typeof t.toString?t.toString():B.toString(t);var n=/\[object [a-zA-Z0-9$_]+\]/;if(n.test(e))try{var r=JSON.stringify(t);e=r}catch(i){}0===e.length&&(e="(empty array)")}return"(<"+P(e)+">, no stack trace)"}function P(t){var e=41;return t.length<e?t:t.substr(0,e-3)+"..."}function A(){return"function"==typeof ot}function C(t){var e=t.match(it);if(e)return{fileName:e[1],line:parseInt(e[2],10)}}function R(t,e){if(A()){for(var n,r,i=t.stack.split("\n"),o=e.stack.split("\n"),a=-1,s=-1,u=0;u<i.length;++u){var c=C(i[u]);if(c){n=c.fileName,a=c.line;break}}for(var u=0;u<o.length;++u){var c=C(o[u]);if(c){r=c.fileName,s=c.line;break}}a<0||s<0||!n||!r||n!==r||a>=s||(rt=function(t){if(q.test(t))return!0;var e=C(t);return!!(e&&e.fileName===n&&a<=e.line&&e.line<=s)})}}function j(t){this._parent=t,this._promisesCreated=0;var e=this._length=1+(void 0===t?0:t._length);ot(this,j),e>32&&this.uncycle()}var M,I,L,F=n._getDomain,D=n._async,N=t("./errors").Warning,B=t("./util"),U=B.canAttachTrace,q=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,z=/\((?:timers\.js):\d+:\d+\)/,H=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,V=null,W=null,Y=!1,G=!(0==B.env("BLUEBIRD_DEBUG")),X=!(0==B.env("BLUEBIRD_WARNINGS")||!G&&!B.env("BLUEBIRD_WARNINGS")),$=!(0==B.env("BLUEBIRD_LONG_STACK_TRACES")||!G&&!B.env("BLUEBIRD_LONG_STACK_TRACES")),Q=0!=B.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(X||!!B.env("BLUEBIRD_W_FORGOTTEN_RETURN"));n.prototype.suppressUnhandledRejections=function(){var t=this._target();t._bitField=t._bitField&-1048577|524288},n.prototype._ensurePossibleRejectionHandled=function(){0===(524288&this._bitField)&&(this._setRejectionIsUnhandled(),D.invokeLater(this._notifyUnhandledRejection,this,void 0))},n.prototype._notifyUnhandledRejectionIsHandled=function(){O("rejectionHandled",M,void 0,this)},n.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},n.prototype._returnedNonUndefined=function(){return 0!==(268435456&this._bitField)},n.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var t=this._settledValue();this._setUnhandledRejectionIsNotified(),O("unhandledRejection",I,t,this)}},n.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},n.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=this._bitField&-262145},n.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},n.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},n.prototype._unsetRejectionIsUnhandled=function(){this._bitField=this._bitField&-1048577,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},n.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},n.prototype._warn=function(t,e,n){return g(t,e,n||this)},n.onPossiblyUnhandledRejection=function(t){var e=F();I="function"==typeof t?null===e?t:e.bind(t):void 0},n.onUnhandledRejectionHandled=function(t){var e=F();M="function"==typeof t?null===e?t:e.bind(t):void 0};var K=function(){};n.longStackTraces=function(){if(D.haveItemsQueued()&&!at.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!at.longStackTraces&&A()){var t=n.prototype._captureStackTrace,e=n.prototype._attachExtraTrace;at.longStackTraces=!0,K=function(){if(D.haveItemsQueued()&&!at.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");n.prototype._captureStackTrace=t,n.prototype._attachExtraTrace=e,r.deactivateLongStackTraces(),D.enableTrampoline(),at.longStackTraces=!1},n.prototype._captureStackTrace=d,n.prototype._attachExtraTrace=_,r.activateLongStackTraces(),D.disableTrampolineIfNecessary()}},n.hasLongStackTraces=function(){return at.longStackTraces&&A()};var J=function(){try{if("function"==typeof CustomEvent){var t=new CustomEvent("CustomEvent");return B.global.dispatchEvent(t),function(t,e){var n=new CustomEvent(t.toLowerCase(),e);return!B.global.dispatchEvent(n)}}var t=document.createEvent("CustomEvent");return t.initCustomEvent("testingtheevent",!1,!0,{}),B.global.dispatchEvent(t),function(t,e){var n=document.createEvent("CustomEvent");return n.initCustomEvent(t.toLowerCase(),!1,!0,e),!B.global.dispatchEvent(n)}}catch(e){}return function(){return!1}}(),Z=function(){return B.isNode?function(){return e.emit.apply(e,arguments)}:B.global?function(t){var e="on"+t.toLowerCase(),n=B.global[e];return!!n&&(n.apply(B.global,[].slice.call(arguments,1)),!0)}:function(){return!1}}(),tt={promiseCreated:i,promiseFulfilled:i,promiseRejected:i,promiseResolved:i,promiseCancelled:i,promiseChained:function(t,e,n){return{promise:e,child:n}},warning:function(t,e){return{warning:e}},unhandledRejection:function(t,e,n){return{reason:e,promise:n}},rejectionHandled:i},et=function(t){var e=!1;try{e=Z.apply(null,arguments)}catch(n){D.throwLater(n),e=!0}var r=!1;try{r=J(t,tt[t].apply(null,arguments))}catch(n){D.throwLater(n),r=!0}return r||e};n.config=function(t){if(t=Object(t),"longStackTraces"in t&&(t.longStackTraces?n.longStackTraces():!t.longStackTraces&&n.hasLongStackTraces()&&K()),"warnings"in t){var e=t.warnings;at.warnings=!!e,Q=at.warnings,B.isObject(e)&&"wForgottenReturn"in e&&(Q=!!e.wForgottenReturn)}if("cancellation"in t&&t.cancellation&&!at.cancellation){if(D.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");n.prototype._clearCancellationData=l,n.prototype._propagateFrom=f,n.prototype._onCancel=u,n.prototype._setOnCancel=c,n.prototype._attachCancellationCallback=s,n.prototype._execute=a,nt=f,at.cancellation=!0}"monitoring"in t&&(t.monitoring&&!at.monitoring?(at.monitoring=!0,n.prototype._fireEvent=et):!t.monitoring&&at.monitoring&&(at.monitoring=!1,n.prototype._fireEvent=o))},n.prototype._fireEvent=o,n.prototype._execute=function(t,e,n){try{t(e,n)}catch(r){return r}},n.prototype._onCancel=function(){},n.prototype._setOnCancel=function(t){},n.prototype._attachCancellationCallback=function(t){},n.prototype._captureStackTrace=function(){},n.prototype._attachExtraTrace=function(){},n.prototype._clearCancellationData=function(){},n.prototype._propagateFrom=function(t,e){};var nt=h,rt=function(){return!1},it=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;B.inherits(j,Error),r.CapturedTrace=j,j.prototype.uncycle=function(){var t=this._length;if(!(t<2)){for(var e=[],n={},r=0,i=this;void 0!==i;++r)e.push(i),i=i._parent;t=this._length=r;for(var r=t-1;r>=0;--r){var o=e[r].stack;void 0===n[o]&&(n[o]=r)}for(var r=0;r<t;++r){var a=e[r].stack,s=n[a];if(void 0!==s&&s!==r){s>0&&(e[s-1]._parent=void 0,e[s-1]._length=1),e[r]._parent=void 0,e[r]._length=1;var u=r>0?e[r-1]:this;s<t-1?(u._parent=e[s+1],u._parent.uncycle(),u._length=u._parent._length+1):(u._parent=void 0,u._length=1);for(var c=u._length+1,l=r-2;l>=0;--l)e[l]._length=c,c++;return}}}},j.prototype.attachExtraTrace=function(t){if(!t.__stackCleaned__){this.uncycle();for(var e=k(t),n=e.message,r=[e.stack],i=this;void 0!==i;)r.push(x(i.stack.split("\n"))),i=i._parent;w(r),b(r),B.notEnumerableProp(t,"stack",m(n,r)),B.notEnumerableProp(t,"__stackCleaned__",!0)}};var ot=function(){var t=/^\s*at\s*/,e=function(t,e){return"string"==typeof t?t:void 0!==e.name&&void 0!==e.message?e.toString():E(e)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit+=6,V=t,W=e;var n=Error.captureStackTrace;return rt=function(t){return q.test(t)},function(t,e){Error.stackTraceLimit+=6,n(t,e),Error.stackTraceLimit-=6}}var r=new Error;if("string"==typeof r.stack&&r.stack.split("\n")[0].indexOf("stackDetection@")>=0)return V=/@/,W=e,Y=!0,function(t){t.stack=(new Error).stack};var i;try{throw new Error}catch(o){i="stack"in o}return"stack"in r||!i||"number"!=typeof Error.stackTraceLimit?(W=function(t,e){return"string"==typeof t?t:"object"!=typeof e&&"function"!=typeof e||void 0===e.name||void 0===e.message?E(e):e.toString()},null):(V=t,W=e,function(t){Error.stackTraceLimit+=6;try{throw new Error}catch(e){t.stack=e.stack}Error.stackTraceLimit-=6})}([]);"undefined"!=typeof console&&"undefined"!=typeof console.warn&&(L=function(t){console.warn(t)},B.isNode&&e.stderr.isTTY?L=function(t,e){var n=e?"[33m":"[31m";console.warn(n+t+"[0m\n")}:B.isNode||"string"!=typeof(new Error).stack||(L=function(t,e){console.warn("%c"+t,e?"color: darkorange":"color: red")}));var at={warnings:X,longStackTraces:!1,cancellation:!1,monitoring:!1};return $&&n.longStackTraces(),{longStackTraces:function(){return at.longStackTraces},warnings:function(){return at.warnings},cancellation:function(){return at.cancellation},monitoring:function(){return at.monitoring},propagateFromFunction:function(){return nt},boundValueFunction:function(){return p},checkForgottenReturns:v,setBounds:R,warn:g,deprecated:y,CapturedTrace:j,fireDomEvent:J,fireGlobalEvent:Z}}},{"./errors":12,"./util":36}],10:[function(t,e,n){"use strict";e.exports=function(t,e){function n(){return this.value}function r(){throw this.reason}t.prototype.return=t.prototype.thenReturn=function(r){return r=e(r),r instanceof t&&r.suppressUnhandledRejections(),this._then(n,void 0,void 0,{value:r},void 0)},t.prototype.throw=t.prototype.thenThrow=function(t){return this._then(r,void 0,void 0,{reason:t},void 0)},t.prototype.catchThrow=function(t){if(arguments.length<=1)return this._then(void 0,r,void 0,{reason:t},void 0);var e=arguments[1],n=function(){throw e};return this.caught(t,n)},t.prototype.catchReturn=function(r){if(arguments.length<=1)return r=e(r),r instanceof t&&r.suppressUnhandledRejections(),this._then(void 0,n,void 0,{value:r},void 0);var i=arguments[1];i=e(i),i instanceof t&&i.suppressUnhandledRejections();var o=function(){return i};return this.caught(r,o)}}},{}],11:[function(t,e,n){"use strict";e.exports=function(t,e){function n(){return o(this)}function r(t,n){return i(t,n,e,e)}var i=t.reduce,o=t.all;t.prototype.each=function(t){return this.mapSeries(t)._then(n,void 0,void 0,this,void 0)},t.prototype.mapSeries=function(t){return i(this,t,e,e)},t.each=function(t,e){return r(t,e)._then(n,void 0,void 0,t,void 0)},t.mapSeries=r}},{}],12:[function(t,e,n){"use strict";function r(t,e){function n(r){return this instanceof n?(f(this,"message","string"==typeof r?r:e),f(this,"name",t),void(Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this))):new n(r)}return l(n,Error),n}function i(t){return this instanceof i?(f(this,"name","OperationalError"),f(this,"message",t),this.cause=t,this.isOperational=!0,void(t instanceof Error?(f(this,"message",t.message),f(this,"stack",t.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor))):new i(t)}var o,a,s=t("./es5"),u=s.freeze,c=t("./util"),l=c.inherits,f=c.notEnumerableProp,h=r("Warning","warning"),p=r("CancellationError","cancellation error"),d=r("TimeoutError","timeout error"),_=r("AggregateError","aggregate error");try{o=TypeError,a=RangeError}catch(v){o=r("TypeError","type error"),a=r("RangeError","range error")}for(var y="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),g=0;g<y.length;++g)"function"==typeof Array.prototype[y[g]]&&(_.prototype[y[g]]=Array.prototype[y[g]]);s.defineProperty(_.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),_.prototype.isOperational=!0;var m=0;_.prototype.toString=function(){var t=Array(4*m+1).join(" "),e="\n"+t+"AggregateError of:\n";m++,t=Array(4*m+1).join(" ");for(var n=0;n<this.length;++n){for(var r=this[n]===this?"[Circular AggregateError]":this[n]+"",i=r.split("\n"),o=0;o<i.length;++o)i[o]=t+i[o];r=i.join("\n"),e+=r+"\n"}return m--,e},l(i,Error);var b=Error.__BluebirdErrorTypes__;b||(b=u({CancellationError:p,TimeoutError:d,OperationalError:i,RejectionError:i,AggregateError:_}),s.defineProperty(Error,"__BluebirdErrorTypes__",{value:b,writable:!1,enumerable:!1,configurable:!1})),e.exports={Error:Error,TypeError:o,RangeError:a,CancellationError:b.CancellationError,OperationalError:b.OperationalError,TimeoutError:b.TimeoutError,AggregateError:b.AggregateError,Warning:h}},{"./es5":13,"./util":36}],13:[function(t,e,n){var r=function(){"use strict";return void 0===this}();if(r)e.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:r,propertyIsWritable:function(t,e){var n=Object.getOwnPropertyDescriptor(t,e);return!(n&&!n.writable&&!n.set)}};else{var i={}.hasOwnProperty,o={}.toString,a={}.constructor.prototype,s=function(t){var e=[];for(var n in t)i.call(t,n)&&e.push(n);return e},u=function(t,e){return{value:t[e]}},c=function(t,e,n){return t[e]=n.value,t},l=function(t){return t},f=function(t){try{return Object(t).constructor.prototype}catch(e){return a}},h=function(t){try{return"[object Array]"===o.call(t)}catch(e){return!1}};e.exports={isArray:h,keys:s,names:s,defineProperty:c,getDescriptor:u,freeze:l,getPrototypeOf:f,isES5:r,propertyIsWritable:function(){return!0}}}},{}],14:[function(t,e,n){"use strict";e.exports=function(t,e){var n=t.map;t.prototype.filter=function(t,r){return n(this,t,r,e)},t.filter=function(t,r,i){return n(t,r,i,e)}}},{}],15:[function(t,e,n){"use strict";e.exports=function(e,n){function r(t,e,n){this.promise=t,this.type=e,this.handler=n,this.called=!1,this.cancelPromise=null}function i(t){this.finallyHandler=t}function o(t,e){return null!=t.cancelPromise&&(arguments.length>1?t.cancelPromise._reject(e):t.cancelPromise._cancel(),t.cancelPromise=null,!0)}function a(){return u.call(this,this.promise._target()._settledValue())}function s(t){if(!o(this,t))return f.e=t,f}function u(t){var r=this.promise,u=this.handler;if(!this.called){this.called=!0;var c=this.isFinallyHandler()?u.call(r._boundValue()):u.call(r._boundValue(),t);if(void 0!==c){r._setReturnedNonUndefined();var h=n(c,r);if(h instanceof e){if(null!=this.cancelPromise){if(h._isCancelled()){var p=new l("late cancellation observer");return r._attachExtraTrace(p),f.e=p,f}h.isPending()&&h._attachCancellationCallback(new i(this))}return h._then(a,s,void 0,this,void 0)}}}return r.isRejected()?(o(this),f.e=t,f):(o(this),t)}var c=t("./util"),l=e.CancellationError,f=c.errorObj;return r.prototype.isFinallyHandler=function(){return 0===this.type},i.prototype._resultCancelled=function(){o(this.finallyHandler)},e.prototype._passThrough=function(t,e,n,i){return"function"!=typeof t?this.then():this._then(n,i,void 0,new r(this,e,t),void 0)},e.prototype.lastly=e.prototype.finally=function(t){return this._passThrough(t,0,u,u)},e.prototype.tap=function(t){return this._passThrough(t,1,u)},r}},{"./util":36}],16:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,a){function s(t,n,r){for(var o=0;o<n.length;++o){r._pushContext();var a=p(n[o])(t);if(r._popContext(),a===h){r._pushContext();var s=e.reject(h.e);return r._popContext(),s}var u=i(a,r);if(u instanceof e)return u}return null}function u(t,n,i,o){if(a.cancellation()){var s=new e(r),u=this._finallyPromise=new e(r);this._promise=s.lastly(function(){return u}),s._captureStackTrace(),s._setOnCancel(this)}else{var c=this._promise=new e(r);c._captureStackTrace()}this._stack=o,this._generatorFunction=t,this._receiver=n,this._generator=void 0,this._yieldHandlers="function"==typeof i?[i].concat(d):d,this._yieldedPromise=null,this._cancellationPhase=!1}var c=t("./errors"),l=c.TypeError,f=t("./util"),h=f.errorObj,p=f.tryCatch,d=[];f.inherits(u,o),u.prototype._isResolved=function(){return null===this._promise},u.prototype._cleanup=function(){this._promise=this._generator=null,a.cancellation()&&null!==this._finallyPromise&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},u.prototype._promiseCancelled=function(){if(!this._isResolved()){var t,n="undefined"!=typeof this._generator.return;if(n)this._promise._pushContext(),t=p(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var r=new e.CancellationError("generator .return() sentinel");e.coroutine.returnSentinel=r,this._promise._attachExtraTrace(r),this._promise._pushContext(),t=p(this._generator.throw).call(this._generator,r),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(t)}},u.prototype._promiseFulfilled=function(t){this._yieldedPromise=null,this._promise._pushContext();var e=p(this._generator.next).call(this._generator,t);this._promise._popContext(),this._continue(e)},u.prototype._promiseRejected=function(t){this._yieldedPromise=null,this._promise._attachExtraTrace(t),this._promise._pushContext();var e=p(this._generator.throw).call(this._generator,t);this._promise._popContext(),this._continue(e)},u.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof e){var t=this._yieldedPromise;this._yieldedPromise=null,t.cancel()}},u.prototype.promise=function(){return this._promise},u.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},u.prototype._continue=function(t){var n=this._promise;if(t===h)return this._cleanup(),this._cancellationPhase?n.cancel():n._rejectCallback(t.e,!1);var r=t.value;if(t.done===!0)return this._cleanup(),this._cancellationPhase?n.cancel():n._resolveCallback(r);var o=i(r,this._promise);if(!(o instanceof e)&&(o=s(o,this._yieldHandlers,this._promise),null===o))return void this._promiseRejected(new l("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",r)+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")));o=o._target();var a=o._bitField;0===(50397184&a)?(this._yieldedPromise=o,o._proxy(this,null)):0!==(33554432&a)?e._async.invoke(this._promiseFulfilled,this,o._value()):0!==(16777216&a)?e._async.invoke(this._promiseRejected,this,o._reason()):this._promiseCancelled()},e.coroutine=function(t,e){if("function"!=typeof t)throw new l("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var n=Object(e).yieldHandler,r=u,i=(new Error).stack;return function(){var e=t.apply(this,arguments),o=new r((void 0),(void 0),n,i),a=o.promise();return o._generator=e,o._promiseFulfilled(void 0),a}},e.coroutine.addYieldHandler=function(t){if("function"!=typeof t)throw new l("expecting a function but got "+f.classString(t));d.push(t)},e.spawn=function(t){if(a.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof t)return n("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var r=new u(t,this),i=r.promise();return r._run(e.spawn),i}}},{"./errors":12,"./util":36}],17:[function(t,e,n){"use strict";e.exports=function(e,n,r,i){var o=t("./util");o.canEvaluate,o.tryCatch,o.errorObj;e.join=function(){var t,e=arguments.length-1;
if(e>0&&"function"==typeof arguments[e]){t=arguments[e];var r}var i=[].slice.call(arguments);t&&i.pop();var r=new n(i).promise();return void 0!==t?r.spread(t):r}}},{"./util":36}],18:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,a){function s(t,e,n,r){this.constructor$(t),this._promise._captureStackTrace();var i=c();this._callback=null===i?e:i.bind(e),this._preservedValues=r===o?new Array(this.length()):null,this._limit=n,this._inFlight=0,this._queue=n>=1?[]:p,this._init$(void 0,-2)}function u(t,n,i,o){if("function"!=typeof n)return r("expecting a function but got "+l.classString(n));var a=0;if(void 0!==i){if("object"!=typeof i||null===i)return e.reject(new TypeError("options argument must be an object but it is "+l.classString(i)));if("number"!=typeof i.concurrency)return e.reject(new TypeError("'concurrency' must be a number but it is "+l.classString(i.concurrency)));a=i.concurrency}return a="number"==typeof a&&isFinite(a)&&a>=1?a:0,new s(t,n,a,o).promise()}var c=e._getDomain,l=t("./util"),f=l.tryCatch,h=l.errorObj,p=[];l.inherits(s,n),s.prototype._init=function(){},s.prototype._promiseFulfilled=function(t,n){var r=this._values,o=this.length(),s=this._preservedValues,u=this._limit;if(n<0){if(n=n*-1-1,r[n]=t,u>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(u>=1&&this._inFlight>=u)return r[n]=t,this._queue.push(n),!1;null!==s&&(s[n]=t);var c=this._promise,l=this._callback,p=c._boundValue();c._pushContext();var d=f(l).call(p,t,n,o),_=c._popContext();if(a.checkForgottenReturns(d,_,null!==s?"Promise.filter":"Promise.map",c),d===h)return this._reject(d.e),!0;var v=i(d,this._promise);if(v instanceof e){v=v._target();var y=v._bitField;if(0===(50397184&y))return u>=1&&this._inFlight++,r[n]=v,v._proxy(this,(n+1)*-1),!1;if(0===(33554432&y))return 0!==(16777216&y)?(this._reject(v._reason()),!0):(this._cancel(),!0);d=v._value()}r[n]=d}var g=++this._totalResolved;return g>=o&&(null!==s?this._filter(r,s):this._resolve(r),!0)},s.prototype._drainQueue=function(){for(var t=this._queue,e=this._limit,n=this._values;t.length>0&&this._inFlight<e;){if(this._isResolved())return;var r=t.pop();this._promiseFulfilled(n[r],r)}},s.prototype._filter=function(t,e){for(var n=e.length,r=new Array(n),i=0,o=0;o<n;++o)t[o]&&(r[i++]=e[o]);r.length=i,this._resolve(r)},s.prototype.preservedValues=function(){return this._preservedValues},e.prototype.map=function(t,e){return u(this,t,e,null)},e.map=function(t,e,n,r){return u(t,e,n,r)}}},{"./util":36}],19:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o){var a=t("./util"),s=a.tryCatch;e.method=function(t){if("function"!=typeof t)throw new e.TypeError("expecting a function but got "+a.classString(t));return function(){var r=new e(n);r._captureStackTrace(),r._pushContext();var i=s(t).apply(this,arguments),a=r._popContext();return o.checkForgottenReturns(i,a,"Promise.method",r),r._resolveFromSyncValue(i),r}},e.attempt=e.try=function(t){if("function"!=typeof t)return i("expecting a function but got "+a.classString(t));var r=new e(n);r._captureStackTrace(),r._pushContext();var u;if(arguments.length>1){o.deprecated("calling Promise.try with more than 1 argument");var c=arguments[1],l=arguments[2];u=a.isArray(c)?s(t).apply(l,c):s(t).call(l,c)}else u=s(t)();var f=r._popContext();return o.checkForgottenReturns(u,f,"Promise.try",r),r._resolveFromSyncValue(u),r},e.prototype._resolveFromSyncValue=function(t){t===a.errorObj?this._rejectCallback(t.e,!1):this._resolveCallback(t,!0)}}},{"./util":36}],20:[function(t,e,n){"use strict";function r(t){return t instanceof Error&&l.getPrototypeOf(t)===Error.prototype}function i(t){var e;if(r(t)){e=new c(t),e.name=t.name,e.message=t.message,e.stack=t.stack;for(var n=l.keys(t),i=0;i<n.length;++i){var o=n[i];f.test(o)||(e[o]=t[o])}return e}return a.markAsOriginatingFromRejection(t),t}function o(t,e){return function(n,r){if(null!==t){if(n){var o=i(s(n));t._attachExtraTrace(o),t._reject(o)}else if(e){var a=[].slice.call(arguments,1);t._fulfill(a)}else t._fulfill(r);t=null}}}var a=t("./util"),s=a.maybeWrapAsError,u=t("./errors"),c=u.OperationalError,l=t("./es5"),f=/^(?:name|message|stack|cause)$/;e.exports=o},{"./errors":12,"./es5":13,"./util":36}],21:[function(t,e,n){"use strict";e.exports=function(e){function n(t,e){var n=this;if(!o.isArray(t))return r.call(n,t,e);var i=s(e).apply(n._boundValue(),[null].concat(t));i===u&&a.throwLater(i.e)}function r(t,e){var n=this,r=n._boundValue(),i=void 0===t?s(e).call(r,null):s(e).call(r,null,t);i===u&&a.throwLater(i.e)}function i(t,e){var n=this;if(!t){var r=new Error(t+"");r.cause=t,t=r}var i=s(e).call(n._boundValue(),t);i===u&&a.throwLater(i.e)}var o=t("./util"),a=e._async,s=o.tryCatch,u=o.errorObj;e.prototype.asCallback=e.prototype.nodeify=function(t,e){if("function"==typeof t){var o=r;void 0!==e&&Object(e).spread&&(o=n),this._then(o,i,void 0,this,t)}return this}}},{"./util":36}],22:[function(t,n,r){"use strict";n.exports=function(){function r(){}function i(t,e){if("function"!=typeof e)throw new m("expecting a function but got "+d.classString(e));if(t.constructor!==o)throw new m("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n")}function o(t){this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,t!==w&&(i(this,t),this._resolveFromExecutor(t)),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function a(t){this.promise._resolveCallback(t)}function s(t){this.promise._rejectCallback(t,!1)}function u(t){var e=new o(w);e._fulfillmentHandler0=t,e._rejectionHandler0=t,e._promise0=t,e._receiver0=t}var c,l=function(){return new m("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},f=function(){return new o.PromiseInspection(this._target())},h=function(t){return o.reject(new m(t))},p={},d=t("./util");c=d.isNode?function(){var t=e.domain;return void 0===t&&(t=null),t}:function(){return null},d.notEnumerableProp(o,"_getDomain",c);var _=t("./es5"),v=t("./async"),y=new v;_.defineProperty(o,"_async",{value:y});var g=t("./errors"),m=o.TypeError=g.TypeError;o.RangeError=g.RangeError;var b=o.CancellationError=g.CancellationError;o.TimeoutError=g.TimeoutError,o.OperationalError=g.OperationalError,o.RejectionError=g.OperationalError,o.AggregateError=g.AggregateError;var w=function(){},x={},S={},k=t("./thenables")(o,w),T=t("./promise_array")(o,w,k,h,r),O=t("./context")(o),E=O.create,P=t("./debuggability")(o,O),A=(P.CapturedTrace,t("./finally")(o,k)),C=t("./catch_filter")(S),R=t("./nodeback"),j=d.errorObj,M=d.tryCatch;return o.prototype.toString=function(){return"[object Promise]"},o.prototype.caught=o.prototype.catch=function(t){var e=arguments.length;if(e>1){var n,r=new Array(e-1),i=0;for(n=0;n<e-1;++n){var o=arguments[n];if(!d.isObject(o))return h("expecting an object but got A catch statement predicate "+d.classString(o));r[i++]=o}return r.length=i,t=arguments[n],this.then(void 0,C(r,t,this))}return this.then(void 0,t)},o.prototype.reflect=function(){return this._then(f,f,void 0,this,void 0)},o.prototype.then=function(t,e){if(P.warnings()&&arguments.length>0&&"function"!=typeof t&&"function"!=typeof e){var n=".then() only accepts functions but was passed: "+d.classString(t);arguments.length>1&&(n+=", "+d.classString(e)),this._warn(n)}return this._then(t,e,void 0,void 0,void 0)},o.prototype.done=function(t,e){var n=this._then(t,e,void 0,void 0,void 0);n._setIsFinal()},o.prototype.spread=function(t){return"function"!=typeof t?h("expecting a function but got "+d.classString(t)):this.all()._then(t,void 0,void 0,x,void 0)},o.prototype.toJSON=function(){var t={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(t.fulfillmentValue=this.value(),t.isFulfilled=!0):this.isRejected()&&(t.rejectionReason=this.reason(),t.isRejected=!0),t},o.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new T(this).promise()},o.prototype.error=function(t){return this.caught(d.originatesFromRejection,t)},o.getNewLibraryCopy=n.exports,o.is=function(t){return t instanceof o},o.fromNode=o.fromCallback=function(t){var e=new o(w);e._captureStackTrace();var n=arguments.length>1&&!!Object(arguments[1]).multiArgs,r=M(t)(R(e,n));return r===j&&e._rejectCallback(r.e,!0),e._isFateSealed()||e._setAsyncGuaranteed(),e},o.all=function(t){return new T(t).promise()},o.cast=function(t){var e=k(t);return e instanceof o||(e=new o(w),e._captureStackTrace(),e._setFulfilled(),e._rejectionHandler0=t),e},o.resolve=o.fulfilled=o.cast,o.reject=o.rejected=function(t){var e=new o(w);return e._captureStackTrace(),e._rejectCallback(t,!0),e},o.setScheduler=function(t){if("function"!=typeof t)throw new m("expecting a function but got "+d.classString(t));return y.setScheduler(t)},o.prototype._then=function(t,e,n,r,i){var a=void 0!==i,s=a?i:new o(w),u=this._target(),l=u._bitField;a||(s._propagateFrom(this,3),s._captureStackTrace(),void 0===r&&0!==(2097152&this._bitField)&&(r=0!==(50397184&l)?this._boundValue():u===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,s));var f=c();if(0!==(50397184&l)){var h,p,d=u._settlePromiseCtx;0!==(33554432&l)?(p=u._rejectionHandler0,h=t):0!==(16777216&l)?(p=u._fulfillmentHandler0,h=e,u._unsetRejectionIsUnhandled()):(d=u._settlePromiseLateCancellationObserver,p=new b("late cancellation observer"),u._attachExtraTrace(p),h=e),y.invoke(d,u,{handler:null===f?h:"function"==typeof h&&f.bind(h),promise:s,receiver:r,value:p})}else u._addCallbacks(t,e,s,r,f);return s},o.prototype._length=function(){return 65535&this._bitField},o.prototype._isFateSealed=function(){return 0!==(117506048&this._bitField)},o.prototype._isFollowing=function(){return 67108864===(67108864&this._bitField)},o.prototype._setLength=function(t){this._bitField=this._bitField&-65536|65535&t},o.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},o.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},o.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},o.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},o.prototype._isFinal=function(){return(4194304&this._bitField)>0},o.prototype._unsetCancelled=function(){this._bitField=this._bitField&-65537},o.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},o.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},o.prototype._setAsyncGuaranteed=function(){y.hasCustomScheduler()||(this._bitField=134217728|this._bitField)},o.prototype._receiverAt=function(t){var e=0===t?this._receiver0:this[4*t-4+3];if(e!==p)return void 0===e&&this._isBound()?this._boundValue():e},o.prototype._promiseAt=function(t){return this[4*t-4+2]},o.prototype._fulfillmentHandlerAt=function(t){return this[4*t-4+0]},o.prototype._rejectionHandlerAt=function(t){return this[4*t-4+1]},o.prototype._boundValue=function(){},o.prototype._migrateCallback0=function(t){var e=(t._bitField,t._fulfillmentHandler0),n=t._rejectionHandler0,r=t._promise0,i=t._receiverAt(0);void 0===i&&(i=p),this._addCallbacks(e,n,r,i,null)},o.prototype._migrateCallbackAt=function(t,e){var n=t._fulfillmentHandlerAt(e),r=t._rejectionHandlerAt(e),i=t._promiseAt(e),o=t._receiverAt(e);void 0===o&&(o=p),this._addCallbacks(n,r,i,o,null)},o.prototype._addCallbacks=function(t,e,n,r,i){var o=this._length();if(o>=65531&&(o=0,this._setLength(0)),0===o)this._promise0=n,this._receiver0=r,"function"==typeof t&&(this._fulfillmentHandler0=null===i?t:i.bind(t)),"function"==typeof e&&(this._rejectionHandler0=null===i?e:i.bind(e));else{var a=4*o-4;this[a+2]=n,this[a+3]=r,"function"==typeof t&&(this[a+0]=null===i?t:i.bind(t)),"function"==typeof e&&(this[a+1]=null===i?e:i.bind(e))}return this._setLength(o+1),o},o.prototype._proxy=function(t,e){this._addCallbacks(void 0,void 0,e,t,null)},o.prototype._resolveCallback=function(t,e){if(0===(117506048&this._bitField)){if(t===this)return this._rejectCallback(l(),!1);var n=k(t,this);if(!(n instanceof o))return this._fulfill(t);e&&this._propagateFrom(n,2);var r=n._target();if(r===this)return void this._reject(l());var i=r._bitField;if(0===(50397184&i)){var a=this._length();a>0&&r._migrateCallback0(this);for(var s=1;s<a;++s)r._migrateCallbackAt(this,s);this._setFollowing(),this._setLength(0),this._setFollowee(r)}else if(0!==(33554432&i))this._fulfill(r._value());else if(0!==(16777216&i))this._reject(r._reason());else{var u=new b("late cancellation observer");r._attachExtraTrace(u),this._reject(u)}}},o.prototype._rejectCallback=function(t,e,n){var r=d.ensureErrorObject(t),i=r===t;if(!i&&!n&&P.warnings()){var o="a promise was rejected with a non-error: "+d.classString(t);this._warn(o,!0)}this._attachExtraTrace(r,!!e&&i),this._reject(t)},o.prototype._resolveFromExecutor=function(t){var e=this;this._captureStackTrace(),this._pushContext();var n=!0,r=this._execute(t,function(t){e._resolveCallback(t)},function(t){e._rejectCallback(t,n)});n=!1,this._popContext(),void 0!==r&&e._rejectCallback(r,!0)},o.prototype._settlePromiseFromHandler=function(t,e,n,r){var i=r._bitField;if(0===(65536&i)){r._pushContext();var o;e===x?n&&"number"==typeof n.length?o=M(t).apply(this._boundValue(),n):(o=j,o.e=new m("cannot .spread() a non-array: "+d.classString(n))):o=M(t).call(e,n);var a=r._popContext();i=r._bitField,0===(65536&i)&&(o===S?r._reject(n):o===j?r._rejectCallback(o.e,!1):(P.checkForgottenReturns(o,a,"",r,this),r._resolveCallback(o)))}},o.prototype._target=function(){for(var t=this;t._isFollowing();)t=t._followee();return t},o.prototype._followee=function(){return this._rejectionHandler0},o.prototype._setFollowee=function(t){this._rejectionHandler0=t},o.prototype._settlePromise=function(t,e,n,i){var a=t instanceof o,s=this._bitField,u=0!==(134217728&s);0!==(65536&s)?(a&&t._invokeInternalOnCancel(),n instanceof A&&n.isFinallyHandler()?(n.cancelPromise=t,M(e).call(n,i)===j&&t._reject(j.e)):e===f?t._fulfill(f.call(n)):n instanceof r?n._promiseCancelled(t):a||t instanceof T?t._cancel():n.cancel()):"function"==typeof e?a?(u&&t._setAsyncGuaranteed(),this._settlePromiseFromHandler(e,n,i,t)):e.call(n,i,t):n instanceof r?n._isResolved()||(0!==(33554432&s)?n._promiseFulfilled(i,t):n._promiseRejected(i,t)):a&&(u&&t._setAsyncGuaranteed(),0!==(33554432&s)?t._fulfill(i):t._reject(i))},o.prototype._settlePromiseLateCancellationObserver=function(t){var e=t.handler,n=t.promise,r=t.receiver,i=t.value;"function"==typeof e?n instanceof o?this._settlePromiseFromHandler(e,r,i,n):e.call(r,i,n):n instanceof o&&n._reject(i)},o.prototype._settlePromiseCtx=function(t){this._settlePromise(t.promise,t.handler,t.receiver,t.value)},o.prototype._settlePromise0=function(t,e,n){var r=this._promise0,i=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(r,t,i,e)},o.prototype._clearCallbackDataAtIndex=function(t){var e=4*t-4;this[e+2]=this[e+3]=this[e+0]=this[e+1]=void 0},o.prototype._fulfill=function(t){var e=this._bitField;if(!((117506048&e)>>>16)){if(t===this){var n=l();return this._attachExtraTrace(n),this._reject(n)}this._setFulfilled(),this._rejectionHandler0=t,(65535&e)>0&&(0!==(134217728&e)?this._settlePromises():y.settlePromises(this))}},o.prototype._reject=function(t){var e=this._bitField;if(!((117506048&e)>>>16))return this._setRejected(),this._fulfillmentHandler0=t,this._isFinal()?y.fatalError(t,d.isNode):void((65535&e)>0?y.settlePromises(this):this._ensurePossibleRejectionHandled())},o.prototype._fulfillPromises=function(t,e){for(var n=1;n<t;n++){var r=this._fulfillmentHandlerAt(n),i=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(i,r,o,e)}},o.prototype._rejectPromises=function(t,e){for(var n=1;n<t;n++){var r=this._rejectionHandlerAt(n),i=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(i,r,o,e)}},o.prototype._settlePromises=function(){var t=this._bitField,e=65535&t;if(e>0){if(0!==(16842752&t)){var n=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,n,t),this._rejectPromises(e,n)}else{var r=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,r,t),this._fulfillPromises(e,r)}this._setLength(0)}this._clearCancellationData()},o.prototype._settledValue=function(){var t=this._bitField;return 0!==(33554432&t)?this._rejectionHandler0:0!==(16777216&t)?this._fulfillmentHandler0:void 0},o.defer=o.pending=function(){P.deprecated("Promise.defer","new Promise");var t=new o(w);return{promise:t,resolve:a,reject:s}},d.notEnumerableProp(o,"_makeSelfResolutionError",l),t("./method")(o,w,k,h,P),t("./bind")(o,w,k,P),t("./cancel")(o,T,h,P),t("./direct_resolve")(o,k),t("./synchronous_inspection")(o),t("./join")(o,T,k,w,P),o.Promise=o,o.version="3.4.3",t("./map.js")(o,T,h,k,w,P),t("./call_get.js")(o),t("./using.js")(o,h,k,E,w,P),t("./timers.js")(o,w,P),t("./generators.js")(o,h,w,k,r,P),t("./nodeify.js")(o),t("./promisify.js")(o,w),t("./props.js")(o,T,k,h),t("./race.js")(o,w,k,h),t("./reduce.js")(o,T,h,k,w,P),t("./settle.js")(o,T,P),t("./some.js")(o,T,h),t("./filter.js")(o,w),t("./each.js")(o,w),t("./any.js")(o),d.toFastProperties(o),d.toFastProperties(o.prototype),u({a:1}),u({b:2}),u({c:3}),u(1),u(function(){}),u(void 0),u(!1),u(new o(w)),P.setBounds(v.firstLineError,d.lastLineError),o}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o){function a(t){switch(t){case-2:return[];case-3:return{}}}function s(t){var r=this._promise=new e(n);t instanceof e&&r._propagateFrom(t,3),r._setOnCancel(this),this._values=t,this._length=0,this._totalResolved=0,this._init(void 0,-2)}var u=t("./util");u.isArray;return u.inherits(s,o),s.prototype.length=function(){return this._length},s.prototype.promise=function(){return this._promise},s.prototype._init=function c(t,n){var o=r(this._values,this._promise);if(o instanceof e){o=o._target();var s=o._bitField;if(this._values=o,0===(50397184&s))return this._promise._setAsyncGuaranteed(),o._then(c,this._reject,void 0,this,n);if(0===(33554432&s))return 0!==(16777216&s)?this._reject(o._reason()):this._cancel();o=o._value()}if(o=u.asArray(o),null===o){var l=i("expecting an array or an iterable object but got "+u.classString(o)).reason();return void this._promise._rejectCallback(l,!1)}return 0===o.length?void(n===-5?this._resolveEmptyArray():this._resolve(a(n))):void this._iterate(o)},s.prototype._iterate=function(t){var n=this.getActualLength(t.length);this._length=n,this._values=this.shouldCopyValues()?new Array(n):this._values;for(var i=this._promise,o=!1,a=null,s=0;s<n;++s){var u=r(t[s],i);u instanceof e?(u=u._target(),a=u._bitField):a=null,o?null!==a&&u.suppressUnhandledRejections():null!==a?0===(50397184&a)?(u._proxy(this,s),this._values[s]=u):o=0!==(33554432&a)?this._promiseFulfilled(u._value(),s):0!==(16777216&a)?this._promiseRejected(u._reason(),s):this._promiseCancelled(s):o=this._promiseFulfilled(u,s)}o||i._setAsyncGuaranteed()},s.prototype._isResolved=function(){return null===this._values},s.prototype._resolve=function(t){this._values=null,this._promise._fulfill(t)},s.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},s.prototype._reject=function(t){this._values=null,this._promise._rejectCallback(t,!1)},s.prototype._promiseFulfilled=function(t,e){this._values[e]=t;var n=++this._totalResolved;return n>=this._length&&(this._resolve(this._values),!0)},s.prototype._promiseCancelled=function(){return this._cancel(),!0},s.prototype._promiseRejected=function(t){return this._totalResolved++,this._reject(t),!0},s.prototype._resultCancelled=function(){if(!this._isResolved()){var t=this._values;if(this._cancel(),t instanceof e)t.cancel();else for(var n=0;n<t.length;++n)t[n]instanceof e&&t[n].cancel()}},s.prototype.shouldCopyValues=function(){return!0},s.prototype.getActualLength=function(t){return t},s}},{"./util":36}],24:[function(t,e,n){"use strict";e.exports=function(e,n){function r(t){return!x.test(t)}function i(t){try{return t.__isPromisified__===!0}catch(e){return!1}}function o(t,e,n){var r=p.getDataPropertyOrDefault(t,e+n,b);return!!r&&i(r)}function a(t,e,n){for(var r=0;r<t.length;r+=2){var i=t[r];if(n.test(i))for(var o=i.replace(n,""),a=0;a<t.length;a+=2)if(t[a]===o)throw new g("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",e))}}function s(t,e,n,r){for(var s=p.inheritedDataKeys(t),u=[],c=0;c<s.length;++c){var l=s[c],f=t[l],h=r===S||S(l,f,t);"function"!=typeof f||i(f)||o(t,l,e)||!r(l,f,t,h)||u.push(l,f)}return a(u,e,n),u}function u(t,r,i,o,a,s){function u(){var i=r;r===h&&(i=this);var o=new e(n);o._captureStackTrace();var a="string"==typeof l&&this!==c?this[l]:t,u=d(o,s);try{a.apply(i,_(arguments,u))}catch(f){o._rejectCallback(v(f),!0,!0)}return o._isFateSealed()||o._setAsyncGuaranteed(),o}var c=function(){return this}(),l=t;return"string"==typeof l&&(t=o),p.notEnumerableProp(u,"__isPromisified__",!0),u}function c(t,e,n,r,i){for(var o=new RegExp(k(e)+"$"),a=s(t,e,o,n),u=0,c=a.length;u<c;u+=2){var l=a[u],f=a[u+1],d=l+e;if(r===T)t[d]=T(l,h,l,f,e,i);else{var _=r(f,function(){return T(l,h,l,f,e,i)});p.notEnumerableProp(_,"__isPromisified__",!0),t[d]=_}}return p.toFastProperties(t),t}function l(t,e,n){return T(t,e,void 0,t,null,n)}var f,h={},p=t("./util"),d=t("./nodeback"),_=p.withAppended,v=p.maybeWrapAsError,y=p.canEvaluate,g=t("./errors").TypeError,m="Async",b={__isPromisified__:!0},w=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"],x=new RegExp("^(?:"+w.join("|")+")$"),S=function(t){return p.isIdentifier(t)&&"_"!==t.charAt(0)&&"constructor"!==t},k=function(t){return t.replace(/([$])/,"\\$")},T=y?f:u;e.promisify=function(t,e){if("function"!=typeof t)throw new g("expecting a function but got "+p.classString(t));if(i(t))return t;e=Object(e);var n=void 0===e.context?h:e.context,o=!!e.multiArgs,a=l(t,n,o);return p.copyDescriptors(t,a,r),a},e.promisifyAll=function(t,e){if("function"!=typeof t&&"object"!=typeof t)throw new g("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");e=Object(e);var n=!!e.multiArgs,r=e.suffix;"string"!=typeof r&&(r=m);var i=e.filter;"function"!=typeof i&&(i=S);var o=e.promisifier;if("function"!=typeof o&&(o=T),!p.isIdentifier(r))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var a=p.inheritedDataKeys(t),s=0;s<a.length;++s){var u=t[a[s]];"constructor"!==a[s]&&p.isClass(u)&&(c(u.prototype,r,i,o,n),c(u,r,i,o,n))}return c(t,r,i,o,n)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(t,e,n){"use strict";e.exports=function(e,n,r,i){function o(t){var e,n=!1;if(void 0!==s&&t instanceof s)e=f(t),n=!0;else{var r=l.keys(t),i=r.length;e=new Array(2*i);for(var o=0;o<i;++o){var a=r[o];e[o]=t[a],e[o+i]=a}}this.constructor$(e),this._isMap=n,this._init$(void 0,-3)}function a(t){var n,a=r(t);return c(a)?(n=a instanceof e?a._then(e.props,void 0,void 0,void 0,void 0):new o(a).promise(),a instanceof e&&n._propagateFrom(a,2),n):i("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}var s,u=t("./util"),c=u.isObject,l=t("./es5");"function"==typeof Map&&(s=Map);var f=function(){function t(t,r){this[e]=t,this[e+n]=r,e++}var e=0,n=0;return function(r){n=r.size,e=0;var i=new Array(2*r.size);return r.forEach(t,i),i}}(),h=function(t){for(var e=new s,n=t.length/2|0,r=0;r<n;++r){var i=t[n+r],o=t[r];e.set(i,o)}return e};u.inherits(o,n),o.prototype._init=function(){},o.prototype._promiseFulfilled=function(t,e){this._values[e]=t;var n=++this._totalResolved;if(n>=this._length){var r;if(this._isMap)r=h(this._values);else{r={};for(var i=this.length(),o=0,a=this.length();o<a;++o)r[this._values[o+i]]=this._values[o]}return this._resolve(r),!0}return!1},o.prototype.shouldCopyValues=function(){return!1},o.prototype.getActualLength=function(t){return t>>1},e.prototype.props=function(){return a(this)},e.props=function(t){return a(t)}}},{"./es5":13,"./util":36}],26:[function(t,e,n){"use strict";function r(t,e,n,r,i){for(var o=0;o<i;++o)n[o+r]=t[o+e],t[o+e]=void 0}function i(t){this._capacity=t,this._length=0,this._front=0}i.prototype._willBeOverCapacity=function(t){return this._capacity<t},i.prototype._pushOne=function(t){var e=this.length();this._checkCapacity(e+1);var n=this._front+e&this._capacity-1;this[n]=t,this._length=e+1},i.prototype._unshiftOne=function(t){var e=this._capacity;this._checkCapacity(this.length()+1);var n=this._front,r=(n-1&e-1^e)-e;this[r]=t,this._front=r,this._length=this.length()+1},i.prototype.unshift=function(t,e,n){this._unshiftOne(n),this._unshiftOne(e),this._unshiftOne(t)},i.prototype.push=function(t,e,n){var r=this.length()+3;if(this._willBeOverCapacity(r))return this._pushOne(t),this._pushOne(e),void this._pushOne(n);var i=this._front+r-3;this._checkCapacity(r);var o=this._capacity-1;this[i+0&o]=t,this[i+1&o]=e,this[i+2&o]=n,this._length=r},i.prototype.shift=function(){var t=this._front,e=this[t];return this[t]=void 0,this._front=t+1&this._capacity-1,this._length--,e},i.prototype.length=function(){return this._length},i.prototype._checkCapacity=function(t){this._capacity<t&&this._resizeTo(this._capacity<<1)},i.prototype._resizeTo=function(t){var e=this._capacity;this._capacity=t;var n=this._front,i=this._length,o=n+i&e-1;r(this,0,this,e,o)},e.exports=i},{}],27:[function(t,e,n){"use strict";e.exports=function(e,n,r,i){function o(t,o){var u=r(t);if(u instanceof e)return s(u);if(t=a.asArray(t),null===t)return i("expecting an array or an iterable object but got "+a.classString(t));var c=new e(n);void 0!==o&&c._propagateFrom(o,3);for(var l=c._fulfill,f=c._reject,h=0,p=t.length;h<p;++h){var d=t[h];(void 0!==d||h in t)&&e.cast(d)._then(l,f,void 0,c,null)}return c}var a=t("./util"),s=function(t){return t.then(function(e){return o(e,t)})};e.race=function(t){return o(t,void 0)},e.prototype.race=function(){return o(this,void 0)}}},{"./util":36}],28:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,a){function s(t,n,r,i){this.constructor$(t);var a=h();this._fn=null===a?n:a.bind(n),void 0!==r&&(r=e.resolve(r),r._attachCancellationCallback(this)),this._initialValue=r,this._currentCancellable=null,this._eachValues=i===o?[]:void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function u(t,e){this.isFulfilled()?e._resolve(t):e._reject(t)}function c(t,e,n,i){if("function"!=typeof e)return r("expecting a function but got "+p.classString(e));var o=new s(t,e,n,i);return o.promise()}function l(t){this.accum=t,this.array._gotAccum(t);var n=i(this.value,this.array._promise);return n instanceof e?(this.array._currentCancellable=n,n._then(f,void 0,void 0,this,void 0)):f.call(this,n)}function f(t){var n=this.array,r=n._promise,i=d(n._fn);r._pushContext();var o;o=void 0!==n._eachValues?i.call(r._boundValue(),t,this.index,this.length):i.call(r._boundValue(),this.accum,t,this.index,this.length),o instanceof e&&(n._currentCancellable=o);var s=r._popContext();return a.checkForgottenReturns(o,s,void 0!==n._eachValues?"Promise.each":"Promise.reduce",r),o}var h=e._getDomain,p=t("./util"),d=p.tryCatch;p.inherits(s,n),s.prototype._gotAccum=function(t){void 0!==this._eachValues&&t!==o&&this._eachValues.push(t)},s.prototype._eachComplete=function(t){return this._eachValues.push(t),this._eachValues},s.prototype._init=function(){},s.prototype._resolveEmptyArray=function(){this._resolve(void 0!==this._eachValues?this._eachValues:this._initialValue)},s.prototype.shouldCopyValues=function(){return!1},s.prototype._resolve=function(t){this._promise._resolveCallback(t),this._values=null},s.prototype._resultCancelled=function(t){return t===this._initialValue?this._cancel():void(this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof e&&this._currentCancellable.cancel(),this._initialValue instanceof e&&this._initialValue.cancel()))},s.prototype._iterate=function(t){this._values=t;var n,r,i=t.length;if(void 0!==this._initialValue?(n=this._initialValue,r=0):(n=e.resolve(t[0]),r=1),this._currentCancellable=n,!n.isRejected())for(;r<i;++r){var o={accum:null,value:t[r],index:r,length:i,array:this};n=n._then(l,void 0,void 0,o,void 0)}void 0!==this._eachValues&&(n=n._then(this._eachComplete,void 0,void 0,this,void 0)),n._then(u,u,void 0,n,this)},e.prototype.reduce=function(t,e){return c(this,t,e,null)},e.reduce=function(t,e,n,r){return c(t,e,n,r)}}},{"./util":36}],29:[function(t,i,o){"use strict";var a,s=t("./util"),u=function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")},c=s.getNativePromise();if(s.isNode&&"undefined"==typeof MutationObserver){var l=n.setImmediate,f=e.nextTick;a=s.isRecentNode?function(t){l.call(n,t)}:function(t){f.call(e,t)}}else if("function"==typeof c&&"function"==typeof c.resolve){var h=c.resolve();a=function(t){h.then(t)}}else a="undefined"==typeof MutationObserver||"undefined"!=typeof window&&window.navigator&&window.navigator.standalone?"undefined"!=typeof r?function(t){r(t)}:"undefined"!=typeof setTimeout?function(t){setTimeout(t,0)}:u:function(){var t=document.createElement("div"),e={attributes:!0},n=!1,r=document.createElement("div"),i=new MutationObserver(function(){t.classList.toggle("foo"),n=!1});i.observe(r,e);var o=function(){n||(n=!0,r.classList.toggle("foo"))};return function(n){var r=new MutationObserver(function(){r.disconnect(),n()});r.observe(t,e),o()}}();i.exports=a},{"./util":36}],30:[function(t,e,n){"use strict";e.exports=function(e,n,r){function i(t){this.constructor$(t)}var o=e.PromiseInspection,a=t("./util");a.inherits(i,n),i.prototype._promiseResolved=function(t,e){this._values[t]=e;var n=++this._totalResolved;return n>=this._length&&(this._resolve(this._values),!0)},i.prototype._promiseFulfilled=function(t,e){var n=new o;return n._bitField=33554432,n._settledValueField=t,this._promiseResolved(e,n)},i.prototype._promiseRejected=function(t,e){var n=new o;return n._bitField=16777216,n._settledValueField=t,this._promiseResolved(e,n)},e.settle=function(t){return r.deprecated(".settle()",".reflect()"),new i(t).promise()},e.prototype.settle=function(){return e.settle(this)}}},{"./util":36}],31:[function(t,e,n){"use strict";e.exports=function(e,n,r){function i(t){this.constructor$(t),this._howMany=0,this._unwrap=!1,this._initialized=!1}function o(t,e){if((0|e)!==e||e<0)return r("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var n=new i(t),o=n.promise();return n.setHowMany(e),n.init(),o}var a=t("./util"),s=t("./errors").RangeError,u=t("./errors").AggregateError,c=a.isArray,l={};a.inherits(i,n),i.prototype._init=function(){if(this._initialized){if(0===this._howMany)return void this._resolve([]);this._init$(void 0,-5);var t=c(this._values);!this._isResolved()&&t&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},i.prototype.init=function(){this._initialized=!0,this._init()},i.prototype.setUnwrap=function(){this._unwrap=!0},i.prototype.howMany=function(){return this._howMany},i.prototype.setHowMany=function(t){this._howMany=t},i.prototype._promiseFulfilled=function(t){return this._addFulfilled(t),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),
!0)},i.prototype._promiseRejected=function(t){return this._addRejected(t),this._checkOutcome()},i.prototype._promiseCancelled=function(){return this._values instanceof e||null==this._values?this._cancel():(this._addRejected(l),this._checkOutcome())},i.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var t=new u,e=this.length();e<this._values.length;++e)this._values[e]!==l&&t.push(this._values[e]);return t.length>0?this._reject(t):this._cancel(),!0}return!1},i.prototype._fulfilled=function(){return this._totalResolved},i.prototype._rejected=function(){return this._values.length-this.length()},i.prototype._addRejected=function(t){this._values.push(t)},i.prototype._addFulfilled=function(t){this._values[this._totalResolved++]=t},i.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},i.prototype._getRangeError=function(t){var e="Input array must contain at least "+this._howMany+" items but contains only "+t+" items";return new s(e)},i.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},e.some=function(t,e){return o(t,e)},e.prototype.some=function(t){return o(this,t)},e._SomePromiseArray=i}},{"./errors":12,"./util":36}],32:[function(t,e,n){"use strict";e.exports=function(t){function e(t){void 0!==t?(t=t._target(),this._bitField=t._bitField,this._settledValueField=t._isFateSealed()?t._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}e.prototype._settledValue=function(){return this._settledValueField};var n=e.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},r=e.prototype.error=e.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},i=e.prototype.isFulfilled=function(){return 0!==(33554432&this._bitField)},o=e.prototype.isRejected=function(){return 0!==(16777216&this._bitField)},a=e.prototype.isPending=function(){return 0===(50397184&this._bitField)},s=e.prototype.isResolved=function(){return 0!==(50331648&this._bitField)};e.prototype.isCancelled=function(){return 0!==(8454144&this._bitField)},t.prototype.__isCancelled=function(){return 65536===(65536&this._bitField)},t.prototype._isCancelled=function(){return this._target().__isCancelled()},t.prototype.isCancelled=function(){return 0!==(8454144&this._target()._bitField)},t.prototype.isPending=function(){return a.call(this._target())},t.prototype.isRejected=function(){return o.call(this._target())},t.prototype.isFulfilled=function(){return i.call(this._target())},t.prototype.isResolved=function(){return s.call(this._target())},t.prototype.value=function(){return n.call(this._target())},t.prototype.reason=function(){var t=this._target();return t._unsetRejectionIsUnhandled(),r.call(t)},t.prototype._value=function(){return this._settledValue()},t.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},t.PromiseInspection=e}},{}],33:[function(t,e,n){"use strict";e.exports=function(e,n){function r(t,r){if(l(t)){if(t instanceof e)return t;var i=o(t);if(i===c){r&&r._pushContext();var u=e.reject(i.e);return r&&r._popContext(),u}if("function"==typeof i){if(a(t)){var u=new e(n);return t._then(u._fulfill,u._reject,void 0,u,null),u}return s(t,i,r)}}return t}function i(t){return t.then}function o(t){try{return i(t)}catch(e){return c.e=e,c}}function a(t){try{return f.call(t,"_promise0")}catch(e){return!1}}function s(t,r,i){function o(t){s&&(s._resolveCallback(t),s=null)}function a(t){s&&(s._rejectCallback(t,f,!0),s=null)}var s=new e(n),l=s;i&&i._pushContext(),s._captureStackTrace(),i&&i._popContext();var f=!0,h=u.tryCatch(r).call(t,o,a);return f=!1,s&&h===c&&(s._rejectCallback(h.e,!0,!0),s=null),l}var u=t("./util"),c=u.errorObj,l=u.isObject,f={}.hasOwnProperty;return r}},{"./util":36}],34:[function(t,e,n){"use strict";e.exports=function(e,n,r){function i(t){this.handle=t}function o(t){return clearTimeout(this.handle),t}function a(t){throw clearTimeout(this.handle),t}var s=t("./util"),u=e.TimeoutError;i.prototype._resultCancelled=function(){clearTimeout(this.handle)};var c=function(t){return l(+this).thenReturn(t)},l=e.delay=function(t,o){var a,s;return void 0!==o?(a=e.resolve(o)._then(c,null,null,t,void 0),r.cancellation()&&o instanceof e&&a._setOnCancel(o)):(a=new e(n),s=setTimeout(function(){a._fulfill()},+t),r.cancellation()&&a._setOnCancel(new i(s)),a._captureStackTrace()),a._setAsyncGuaranteed(),a};e.prototype.delay=function(t){return l(t,this)};var f=function(t,e,n){var r;r="string"!=typeof e?e instanceof Error?e:new u("operation timed out"):new u(e),s.markAsOriginatingFromRejection(r),t._attachExtraTrace(r),t._reject(r),null!=n&&n.cancel()};e.prototype.timeout=function(t,e){t=+t;var n,s,u=new i(setTimeout(function(){n.isPending()&&f(n,e,s)},t));return r.cancellation()?(s=this.then(),n=s._then(o,a,void 0,u,void 0),n._setOnCancel(u)):n=this._then(o,a,void 0,u,void 0),n}}},{"./util":36}],35:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,a){function s(t){setTimeout(function(){throw t},0)}function u(t){var e=r(t);return e!==t&&"function"==typeof t._isDisposable&&"function"==typeof t._getDisposer&&t._isDisposable()&&e._setDisposable(t._getDisposer()),e}function c(t,n){function i(){if(a>=c)return l._fulfill();var o=u(t[a++]);if(o instanceof e&&o._isDisposable()){try{o=r(o._getDisposer().tryDispose(n),t.promise)}catch(f){return s(f)}if(o instanceof e)return o._then(i,s,null,null,null)}i()}var a=0,c=t.length,l=new e(o);return i(),l}function l(t,e,n){this._data=t,this._promise=e,this._context=n}function f(t,e,n){this.constructor$(t,e,n)}function h(t){return l.isDisposer(t)?(this.resources[this.index]._setDisposable(t),t.promise()):t}function p(t){this.length=t,this.promise=null,this[t-1]=null}var d=t("./util"),_=t("./errors").TypeError,v=t("./util").inherits,y=d.errorObj,g=d.tryCatch,m={};l.prototype.data=function(){return this._data},l.prototype.promise=function(){return this._promise},l.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():m},l.prototype.tryDispose=function(t){var e=this.resource(),n=this._context;void 0!==n&&n._pushContext();var r=e!==m?this.doDispose(e,t):null;return void 0!==n&&n._popContext(),this._promise._unsetDisposable(),this._data=null,r},l.isDisposer=function(t){return null!=t&&"function"==typeof t.resource&&"function"==typeof t.tryDispose},v(f,l),f.prototype.doDispose=function(t,e){var n=this.data();return n.call(t,t,e)},p.prototype._resultCancelled=function(){for(var t=this.length,n=0;n<t;++n){var r=this[n];r instanceof e&&r.cancel()}},e.using=function(){var t=arguments.length;if(t<2)return n("you must pass at least 2 arguments to Promise.using");var i=arguments[t-1];if("function"!=typeof i)return n("expecting a function but got "+d.classString(i));var o,s=!0;2===t&&Array.isArray(arguments[0])?(o=arguments[0],t=o.length,s=!1):(o=arguments,t--);for(var u=new p(t),f=0;f<t;++f){var _=o[f];if(l.isDisposer(_)){var v=_;_=_.promise(),_._setDisposable(v)}else{var m=r(_);m instanceof e&&(_=m._then(h,null,null,{resources:u,index:f},void 0))}u[f]=_}for(var b=new Array(u.length),f=0;f<b.length;++f)b[f]=e.resolve(u[f]).reflect();var w=e.all(b).then(function(t){for(var e=0;e<t.length;++e){var n=t[e];if(n.isRejected())return y.e=n.error(),y;if(!n.isFulfilled())return void w.cancel();t[e]=n.value()}x._pushContext(),i=g(i);var r=s?i.apply(void 0,t):i(t),o=x._popContext();return a.checkForgottenReturns(r,o,"Promise.using",x),r}),x=w.lastly(function(){var t=new e.PromiseInspection(w);return c(u,t)});return u.promise=x,x._setOnCancel(u),x},e.prototype._setDisposable=function(t){this._bitField=131072|this._bitField,this._disposer=t},e.prototype._isDisposable=function(){return(131072&this._bitField)>0},e.prototype._getDisposer=function(){return this._disposer},e.prototype._unsetDisposable=function(){this._bitField=this._bitField&-131073,this._disposer=void 0},e.prototype.disposer=function(t){if("function"==typeof t)return new f(t,this,i());throw new _}}},{"./errors":12,"./util":36}],36:[function(t,r,i){"use strict";function o(){try{var t=C;return C=null,t.apply(this,arguments)}catch(e){return A.e=e,A}}function a(t){return C=t,o}function s(t){return null==t||t===!0||t===!1||"string"==typeof t||"number"==typeof t}function u(t){return"function"==typeof t||"object"==typeof t&&null!==t}function c(t){return s(t)?new Error(g(t)):t}function l(t,e){var n,r=t.length,i=new Array(r+1);for(n=0;n<r;++n)i[n]=t[n];return i[n]=e,i}function f(t,e,n){if(!E.isES5)return{}.hasOwnProperty.call(t,e)?t[e]:void 0;var r=Object.getOwnPropertyDescriptor(t,e);return null!=r?null==r.get&&null==r.set?r.value:n:void 0}function h(t,e,n){if(s(t))return t;var r={value:n,configurable:!0,enumerable:!1,writable:!0};return E.defineProperty(t,e,r),t}function p(t){throw t}function d(t){try{if("function"==typeof t){var e=E.names(t.prototype),n=E.isES5&&e.length>1,r=e.length>0&&!(1===e.length&&"constructor"===e[0]),i=I.test(t+"")&&E.names(t).length>0;if(n||r||i)return!0}return!1}catch(o){return!1}}function _(t){function e(){}e.prototype=t;for(var n=8;n--;)new e;return t}function v(t){return L.test(t)}function y(t,e,n){for(var r=new Array(t),i=0;i<t;++i)r[i]=e+i+n;return r}function g(t){try{return t+""}catch(e){return"[no string representation]"}}function m(t){return null!==t&&"object"==typeof t&&"string"==typeof t.message&&"string"==typeof t.name}function b(t){try{h(t,"isOperational",!0)}catch(e){}}function w(t){return null!=t&&(t instanceof Error.__BluebirdErrorTypes__.OperationalError||t.isOperational===!0)}function x(t){return m(t)&&E.propertyIsWritable(t,"stack")}function S(t){return{}.toString.call(t)}function k(t,e,n){for(var r=E.names(t),i=0;i<r.length;++i){var o=r[i];if(n(o))try{E.defineProperty(e,o,E.getDescriptor(t,o))}catch(a){}}}function T(t,e){return B?{APP_DOMAIN:"/alhambra/08",ASSETS_DIR:"https://storage.googleapis.com/samrad-alhambra/www-assets/",REMOTE_ASSETS_DIR:"https://storage.googleapis.com/samrad-alhambra/www-assets/"}[t]:e}function O(){if("function"==typeof Promise)try{var t=new Promise(function(){});if("[object Promise]"==={}.toString.call(t))return Promise}catch(e){}}var E=t("./es5"),P="undefined"==typeof navigator,A={e:{}},C,R="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof n?n:void 0!==this?this:null,j=function(t,e){function n(){this.constructor=t,this.constructor$=e;for(var n in e.prototype)r.call(e.prototype,n)&&"$"!==n.charAt(n.length-1)&&(this[n+"$"]=e.prototype[n])}var r={}.hasOwnProperty;return n.prototype=e.prototype,t.prototype=new n,t.prototype},M=function(){var t=[Array.prototype,Object.prototype,Function.prototype],e=function(e){for(var n=0;n<t.length;++n)if(t[n]===e)return!0;return!1};if(E.isES5){var n=Object.getOwnPropertyNames;return function(t){for(var r=[],i=Object.create(null);null!=t&&!e(t);){var o;try{o=n(t)}catch(a){return r}for(var s=0;s<o.length;++s){var u=o[s];if(!i[u]){i[u]=!0;var c=Object.getOwnPropertyDescriptor(t,u);null!=c&&null==c.get&&null==c.set&&r.push(u)}}t=E.getPrototypeOf(t)}return r}}var r={}.hasOwnProperty;return function(n){if(e(n))return[];var i=[];t:for(var o in n)if(r.call(n,o))i.push(o);else{for(var a=0;a<t.length;++a)if(r.call(t[a],o))continue t;i.push(o)}return i}}(),I=/this\s*\.\s*\S+\s*=/,L=/^[a-z$_][a-z$_0-9]*$/i,F=function(){return"stack"in new Error?function(t){return x(t)?t:new Error(g(t))}:function(t){if(x(t))return t;try{throw new Error(g(t))}catch(e){return e}}}(),D=function(t){return E.isArray(t)?t:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var N="function"==typeof Array.from?function(t){return Array.from(t)}:function(t){for(var e,n=[],r=t[Symbol.iterator]();!(e=r.next()).done;)n.push(e.value);return n};D=function(t){return E.isArray(t)?t:null!=t&&"function"==typeof t[Symbol.iterator]?N(t):null}}var B="undefined"!=typeof e&&"[object process]"===S(e).toLowerCase(),U={isClass:d,isIdentifier:v,inheritedDataKeys:M,getDataPropertyOrDefault:f,thrower:p,isArray:E.isArray,asArray:D,notEnumerableProp:h,isPrimitive:s,isObject:u,isError:m,canEvaluate:P,errorObj:A,tryCatch:a,inherits:j,withAppended:l,maybeWrapAsError:c,toFastProperties:_,filledRange:y,toString:g,canAttachTrace:x,ensureErrorObject:F,originatesFromRejection:w,markAsOriginatingFromRejection:b,classString:S,copyDescriptors:k,hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:B,env:T,global:R,getNativePromise:O};U.isRecentNode=U.isNode&&function(){var t=e.versions.node.split(".").map(Number);return 0===t[0]&&t[1]>10||t[0]>0}(),U.isNode&&U.toFastProperties(e);try{throw new Error}catch(q){U.lastLineError=q}r.exports=U},{"./es5":13}]},{},[4])(4)}),"undefined"!=typeof window&&null!==window?window.P=window.Promise:"undefined"!=typeof self&&null!==self&&(self.P=self.Promise)}).call(e,n(22),n(12),n(51).setImmediate)},function(t,e){var n={number:function(t,e){if("number"!=typeof e||isNaN(e))throw new Error("Invalid argument: "+t+" is not a valid number")},positiveNumber:function(t,e){if(n.number(t,e),e<0)throw new Error("Invalid argument: "+t+" is not a valid positive number")},positionString:function(t){return"string"==typeof t&&!!t.match(/\d+\.\d+\.\d+/)}};t.exports=n},function(t,e,n){(function(n){var r,i;/*!
	 *  howler.js v2.0.0-rc2
	 *  howlerjs.com
	 *
	 *  (c) 2013-2016, James Simpson of GoldFire Studios
	 *  goldfirestudios.com
	 *
	 *  MIT License
	 */
!function(){"use strict";var o=function(){this.init()};o.prototype={init:function(){var t=this||a;return t._codecs={},t._howls=[],t._muted=!1,t._volume=1,t._canPlayEvent="canplaythrough",t._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,t.masterGain=null,t.noAudio=!1,t.usingWebAudio=!0,t.autoSuspend=!0,t.ctx=null,t.mobileAutoEnable=!0,t._setup(),t},volume:function(t){var e=this||a;if(t=parseFloat(t),e.ctx||d(),"undefined"!=typeof t&&t>=0&&t<=1){if(e._volume=t,e._muted)return e;e.usingWebAudio&&(e.masterGain.gain.value=t);for(var n=0;n<e._howls.length;n++)if(!e._howls[n]._webAudio)for(var r=e._howls[n]._getSoundIds(),i=0;i<r.length;i++){var o=e._howls[n]._soundById(r[i]);o&&o._node&&(o._node.volume=o._volume*t)}return e}return e._volume},mute:function(t){var e=this||a;e.ctx||d(),e._muted=t,e.usingWebAudio&&(e.masterGain.gain.value=t?0:e._volume);for(var n=0;n<e._howls.length;n++)if(!e._howls[n]._webAudio)for(var r=e._howls[n]._getSoundIds(),i=0;i<r.length;i++){var o=e._howls[n]._soundById(r[i]);o&&o._node&&(o._node.muted=!!t||o._muted)}return e},unload:function(){for(var t=this||a,e=t._howls.length-1;e>=0;e--)t._howls[e].unload();return t.usingWebAudio&&"undefined"!=typeof t.ctx.close&&(t.ctx.close(),t.ctx=null,d()),t},codecs:function(t){return(this||a)._codecs[t]},_setup:function(){var t=this||a;return t.state=t.ctx?t.ctx.state||"running":"running",t._autoSuspend(),t.noAudio||t._setupCodecs(),t},_setupCodecs:function(){var t=this||a,e="undefined"!=typeof Audio?new Audio:null;if(!e||"function"!=typeof e.canPlayType)return t;var n=e.canPlayType("audio/mpeg;").replace(/^no$/,""),r=t._navigator&&t._navigator.userAgent.match(/OPR\/([0-6].)/g),i=r&&parseInt(r[0].split("/")[1],10)<33;return t._codecs={mp3:!(i||!n&&!e.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!n,opus:!!e.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!e.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),aac:!!e.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!e.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/m4a;")||e.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(e.canPlayType("audio/x-mp4;")||e.canPlayType("audio/mp4;")||e.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!e.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),webm:!!e.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),dolby:!!e.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,"")},t},_enableMobileAudio:function(){var t=this||a,e=/iPhone|iPad|iPod|Android|BlackBerry|BB10|Silk|Mobi/i.test(t._navigator&&t._navigator.userAgent),n=!!("ontouchend"in window||t._navigator&&t._navigator.maxTouchPoints>0||t._navigator&&t._navigator.msMaxTouchPoints>0);if(!t._mobileEnabled&&t.ctx&&(e||n)){t._mobileEnabled=!1,t._mobileUnloaded||44100===t.ctx.sampleRate||(t._mobileUnloaded=!0,t.unload()),t._scratchBuffer=t.ctx.createBuffer(1,1,22050);var r=function(){var e=t.ctx.createBufferSource();e.buffer=t._scratchBuffer,e.connect(t.ctx.destination),"undefined"==typeof e.start?e.noteOn(0):e.start(0),e.onended=function(){e.disconnect(0),t._mobileEnabled=!0,t.mobileAutoEnable=!1,document.removeEventListener("touchend",r,!0)}};return document.addEventListener("touchend",r,!0),t}},_autoSuspend:function(){var t=this;if(t.autoSuspend&&t.ctx&&"undefined"!=typeof t.ctx.suspend&&a.usingWebAudio){for(var e=0;e<t._howls.length;e++)if(t._howls[e]._webAudio)for(var n=0;n<t._howls[e]._sounds.length;n++)if(!t._howls[e]._sounds[n]._paused)return t;return t._suspendTimer&&clearTimeout(t._suspendTimer),t._suspendTimer=setTimeout(function(){t.autoSuspend&&(t._suspendTimer=null,t.state="suspending",t.ctx.suspend().then(function(){t.state="suspended",t._resumeAfterSuspend&&(delete t._resumeAfterSuspend,t._autoResume())}))},3e4),t}},_autoResume:function(){var t=this;if(t.ctx&&"undefined"!=typeof t.ctx.resume&&a.usingWebAudio)return"running"===t.state&&t._suspendTimer?(clearTimeout(t._suspendTimer),t._suspendTimer=null):"suspended"===t.state?(t.state="resuming",t.ctx.resume().then(function(){t.state="running"}),t._suspendTimer&&(clearTimeout(t._suspendTimer),t._suspendTimer=null)):"suspending"===t.state&&(t._resumeAfterSuspend=!0),t}};var a=new o,s=function(t){var e=this;return t.src&&0!==t.src.length?void e.init(t):void console.error("An array of source files must be passed with any new Howl.")};s.prototype={init:function(t){var e=this;return a.ctx||d(),e._autoplay=t.autoplay||!1,e._format="string"!=typeof t.format?t.format:[t.format],e._html5=t.html5||!1,e._muted=t.mute||!1,e._loop=t.loop||!1,e._pool=t.pool||5,e._preload="boolean"!=typeof t.preload||t.preload,e._rate=t.rate||1,e._sprite=t.sprite||{},e._src="string"!=typeof t.src?t.src:[t.src],e._volume=void 0!==t.volume?t.volume:1,e._duration=0,e._state="unloaded",e._sounds=[],e._endTimers={},e._queue=[],e._onend=t.onend?[{fn:t.onend}]:[],e._onfade=t.onfade?[{fn:t.onfade}]:[],e._onload=t.onload?[{fn:t.onload}]:[],e._onloaderror=t.onloaderror?[{fn:t.onloaderror}]:[],e._onpause=t.onpause?[{fn:t.onpause}]:[],e._onplay=t.onplay?[{fn:t.onplay}]:[],e._onstop=t.onstop?[{fn:t.onstop}]:[],e._onmute=t.onmute?[{fn:t.onmute}]:[],e._onvolume=t.onvolume?[{fn:t.onvolume}]:[],e._onrate=t.onrate?[{fn:t.onrate}]:[],e._onseek=t.onseek?[{fn:t.onseek}]:[],e._webAudio=a.usingWebAudio&&!e._html5,"undefined"!=typeof a.ctx&&a.ctx&&a.mobileAutoEnable&&a._enableMobileAudio(),a._howls.push(e),e._preload&&e.load(),e},load:function(){var t=this,e=null;if(a.noAudio)return void t._emit("loaderror",null,"No audio support.");"string"==typeof t._src&&(t._src=[t._src]);for(var n=0;n<t._src.length;n++){var r,i;if(t._format&&t._format[n])r=t._format[n];else{if(i=t._src[n],"string"!=typeof i){t._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}r=/^data:audio\/([^;,]+);/i.exec(i),r||(r=/\.([^.]+)$/.exec(i.split("?",1)[0])),r&&(r=r[1].toLowerCase())}if(a.codecs(r)){e=t._src[n];break}}return e?(t._src=e,t._state="loading","https:"===window.location.protocol&&"http:"===e.slice(0,5)&&(t._html5=!0,t._webAudio=!1),new u(t),t._webAudio&&l(t),t):void t._emit("loaderror",null,"No codec support for selected audio sources.")},play:function(t,e){var n=this,r=null;if("number"==typeof t)r=t,t=null;else{if("string"==typeof t&&"loaded"===n._state&&!n._sprite[t])return null;if("undefined"==typeof t){t="__default";for(var i=0,o=0;o<n._sounds.length;o++)n._sounds[o]._paused&&!n._sounds[o]._ended&&(i++,r=n._sounds[o]._id);1===i?t=null:r=null}}var s=r?n._soundById(r):n._inactiveSound();if(!s)return null;if(r&&!t&&(t=s._sprite||"__default"),"loaded"!==n._state&&!n._sprite[t])return n._queue.push({event:"play",action:function(){n.play(n._soundById(s._id)?s._id:void 0)}}),s._id;if(r&&!s._paused)return e||setTimeout(function(){n._emit("play",s._id)},0),s._id;n._webAudio&&a._autoResume();var u=s._seek>0?s._seek:n._sprite[t][0]/1e3,c=(n._sprite[t][0]+n._sprite[t][1])/1e3-u,l=1e3*c/Math.abs(s._rate);s._paused=!1,s._ended=!1,s._sprite=t,s._seek=u,s._start=n._sprite[t][0]/1e3,s._stop=(n._sprite[t][0]+n._sprite[t][1])/1e3,s._loop=!(!s._loop&&!n._sprite[t][2]);var f=s._node;if(n._webAudio){var h=function(){n._refreshBuffer(s);var t=s._muted||n._muted?0:s._volume;f.gain.setValueAtTime(t,a.ctx.currentTime),s._playStart=a.ctx.currentTime,"undefined"==typeof f.bufferSource.start?s._loop?f.bufferSource.noteGrainOn(0,u,86400):f.bufferSource.noteGrainOn(0,u,c):s._loop?f.bufferSource.start(0,u,86400):f.bufferSource.start(0,u,c),l!==1/0&&(n._endTimers[s._id]=setTimeout(n._ended.bind(n,s),l)),e||setTimeout(function(){n._emit("play",s._id)},0)};"loaded"===n._state?h():(n.once("load",h,s._id),n._clearTimer(s._id))}else{var p=function(){f.currentTime=u,f.muted=s._muted||n._muted||a._muted||f.muted,f.volume=s._volume*a.volume(),f.playbackRate=s._rate,setTimeout(function(){f.play(),l!==1/0&&(n._endTimers[s._id]=setTimeout(n._ended.bind(n,s),l)),e||n._emit("play",s._id)},0)},d="loaded"===n._state&&(window&&window.ejecta||!f.readyState&&a._navigator.isCocoonJS);if(4===f.readyState||d)p();else{var _=function(){p(),f.removeEventListener(a._canPlayEvent,_,!1)};f.addEventListener(a._canPlayEvent,_,!1),n._clearTimer(s._id)}}return s._id},pause:function(t){var e=this;if("loaded"!==e._state)return e._queue.push({event:"pause",action:function(){e.pause(t)}}),e;for(var n=e._getSoundIds(t),r=0;r<n.length;r++){e._clearTimer(n[r]);var i=e._soundById(n[r]);if(i&&!i._paused){if(i._seek=e.seek(n[r]),i._rateSeek=0,i._paused=!0,e._stopFade(n[r]),i._node)if(e._webAudio){if(!i._node.bufferSource)return e;"undefined"==typeof i._node.bufferSource.stop?i._node.bufferSource.noteOff(0):i._node.bufferSource.stop(0),e._cleanBuffer(i._node)}else isNaN(i._node.duration)&&i._node.duration!==1/0||i._node.pause();arguments[1]||e._emit("pause",i._id)}}return e},stop:function(t,e){var n=this;if("loaded"!==n._state)return n._queue.push({event:"stop",action:function(){n.stop(t)}}),n;for(var r=n._getSoundIds(t),i=0;i<r.length;i++){n._clearTimer(r[i]);var o=n._soundById(r[i]);if(o&&!o._paused&&(o._seek=o._start||0,o._rateSeek=0,o._paused=!0,o._ended=!0,n._stopFade(r[i]),o._node))if(n._webAudio){if(!o._node.bufferSource)return n;"undefined"==typeof o._node.bufferSource.stop?o._node.bufferSource.noteOff(0):o._node.bufferSource.stop(0),n._cleanBuffer(o._node)}else isNaN(o._node.duration)&&o._node.duration!==1/0||(o._node.currentTime=o._start||0,o._node.pause());o&&!e&&n._emit("stop",o._id)}return n},mute:function(t,e){var n=this;if("loaded"!==n._state)return n._queue.push({event:"mute",action:function(){n.mute(t,e)}}),n;if("undefined"==typeof e){if("boolean"!=typeof t)return n._muted;n._muted=t}for(var r=n._getSoundIds(e),i=0;i<r.length;i++){var o=n._soundById(r[i]);o&&(o._muted=t,n._webAudio&&o._node?o._node.gain.setValueAtTime(t?0:o._volume,a.ctx.currentTime):o._node&&(o._node.muted=!!a._muted||t),n._emit("mute",o._id))}return n},volume:function(){var t,e,n=this,r=arguments;if(0===r.length)return n._volume;if(1===r.length){var i=n._getSoundIds(),o=i.indexOf(r[0]);o>=0?e=parseInt(r[0],10):t=parseFloat(r[0])}else r.length>=2&&(t=parseFloat(r[0]),e=parseInt(r[1],10));var s;if(!("undefined"!=typeof t&&t>=0&&t<=1))return s=e?n._soundById(e):n._sounds[0],s?s._volume:0;if("loaded"!==n._state)return n._queue.push({event:"volume",action:function(){n.volume.apply(n,r)}}),n;"undefined"==typeof e&&(n._volume=t),e=n._getSoundIds(e);for(var u=0;u<e.length;u++)s=n._soundById(e[u]),s&&(s._volume=t,r[2]||n._stopFade(e[u]),n._webAudio&&s._node&&!s._muted?s._node.gain.setValueAtTime(t,a.ctx.currentTime):s._node&&!s._muted&&(s._node.volume=t*a.volume()),n._emit("volume",s._id));return n},fade:function(t,e,n,r){var i=this,o=Math.abs(t-e),s=t>e?"out":"in",u=o/.01,c=n/u;if("loaded"!==i._state)return i._queue.push({event:"fade",action:function(){i.fade(t,e,n,r)}}),i;i.volume(t,r);for(var l=i._getSoundIds(r),f=0;f<l.length;f++){var h=i._soundById(l[f]);if(h){if(r||i._stopFade(l[f]),i._webAudio&&!h._muted){var p=a.ctx.currentTime,d=p+n/1e3;h._volume=t,h._node.gain.setValueAtTime(t,p),h._node.gain.linearRampToValueAtTime(e,d)}var _=t;h._interval=setInterval(function(t,n){_+="in"===s?.01:-.01,_=Math.max(0,_),_=Math.min(1,_),_=Math.round(100*_)/100,i._webAudio?("undefined"==typeof r&&(i._volume=_),n._volume=_):i.volume(_,t,!0),_===e&&(clearInterval(n._interval),n._interval=null,i.volume(_,t),i._emit("fade",t))}.bind(i,l[f],h),c)}}return i},_stopFade:function(t){var e=this,n=e._soundById(t);return n&&n._interval&&(e._webAudio&&n._node.gain.cancelScheduledValues(a.ctx.currentTime),clearInterval(n._interval),n._interval=null,e._emit("fade",t)),e},loop:function(){var t,e,n,r=this,i=arguments;if(0===i.length)return r._loop;if(1===i.length){if("boolean"!=typeof i[0])return n=r._soundById(parseInt(i[0],10)),!!n&&n._loop;t=i[0],r._loop=t}else 2===i.length&&(t=i[0],e=parseInt(i[1],10));for(var o=r._getSoundIds(e),a=0;a<o.length;a++)n=r._soundById(o[a]),n&&(n._loop=t,r._webAudio&&n._node&&n._node.bufferSource&&(n._node.bufferSource.loop=t));return r},rate:function(){var t,e,n=this,r=arguments;if(0===r.length)e=n._sounds[0]._id;else if(1===r.length){var i=n._getSoundIds(),o=i.indexOf(r[0]);o>=0?e=parseInt(r[0],10):t=parseFloat(r[0])}else 2===r.length&&(t=parseFloat(r[0]),e=parseInt(r[1],10));var s;if("number"!=typeof t)return s=n._soundById(e),s?s._rate:n._rate;if("loaded"!==n._state)return n._queue.push({event:"rate",action:function(){n.rate.apply(n,r)}}),n;"undefined"==typeof e&&(n._rate=t),e=n._getSoundIds(e);for(var u=0;u<e.length;u++)if(s=n._soundById(e[u])){s._rateSeek=n.seek(e[u]),s._playStart=n._webAudio?a.ctx.currentTime:s._playStart,s._rate=t,n._webAudio&&s._node&&s._node.bufferSource?s._node.bufferSource.playbackRate.value=t:s._node&&(s._node.playbackRate=t);var c=n.seek(e[u]),l=(n._sprite[s._sprite][0]+n._sprite[s._sprite][1])/1e3-c,f=1e3*l/Math.abs(s._rate);!n._endTimers[e[u]]&&s._paused||(n._clearTimer(e[u]),n._endTimers[e[u]]=setTimeout(n._ended.bind(n,s),f)),n._emit("rate",s._id)}return n},seek:function(){var t,e,n=this,r=arguments;if(0===r.length)e=n._sounds[0]._id;else if(1===r.length){var i=n._getSoundIds(),o=i.indexOf(r[0]);o>=0?e=parseInt(r[0],10):(e=n._sounds[0]._id,t=parseFloat(r[0]))}else 2===r.length&&(t=parseFloat(r[0]),e=parseInt(r[1],10));if("undefined"==typeof e)return n;if("loaded"!==n._state)return n._queue.push({event:"seek",action:function(){n.seek.apply(n,r)}}),n;var s=n._soundById(e);if(s){if(!("number"==typeof t&&t>=0)){if(n._webAudio){var u=n.playing(e)?a.ctx.currentTime-s._playStart:0,c=s._rateSeek?s._rateSeek-s._seek:0;return s._seek+(c+u*Math.abs(s._rate))}return s._node.currentTime}var l=n.playing(e);l&&n.pause(e,!0),s._seek=t,s._ended=!1,n._clearTimer(e),l&&n.play(e,!0),!n._webAudio&&s._node&&(s._node.currentTime=t),n._emit("seek",e)}return n},playing:function(t){var e=this;if("number"==typeof t){var n=e._soundById(t);return!!n&&!n._paused}for(var r=0;r<e._sounds.length;r++)if(!e._sounds[r]._paused)return!0;return!1},duration:function(t){var e=this,n=e._duration,r=e._soundById(t);return r&&(n=e._sprite[r._sprite][1]/1e3),n},state:function(){return this._state},unload:function(){for(var t=this,e=t._sounds,n=0;n<e.length;n++){e[n]._paused||(t.stop(e[n]._id),t._emit("end",e[n]._id)),t._webAudio||(e[n]._node.src="data:audio/wav;base64,UklGRiQAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQAAAAA=",e[n]._node.removeEventListener("error",e[n]._errorFn,!1),e[n]._node.removeEventListener(a._canPlayEvent,e[n]._loadFn,!1)),delete e[n]._node,t._clearTimer(e[n]._id);var r=a._howls.indexOf(t);r>=0&&a._howls.splice(r,1)}var i=!0;for(n=0;n<a._howls.length;n++)if(a._howls[n]._src===t._src){i=!1;break}return c&&i&&delete c[t._src],t._state="unloaded",t._sounds=[],t=null,null},on:function(t,e,n,r){var i=this,o=i["_on"+t];return"function"==typeof e&&o.push(r?{id:n,fn:e,once:r}:{id:n,fn:e}),i},off:function(t,e,n){var r=this,i=r["_on"+t],o=0;if(e){for(o=0;o<i.length;o++)if(e===i[o].fn&&n===i[o].id){i.splice(o,1);break}}else if(t)r["_on"+t]=[];else{var a=Object.keys(r);for(o=0;o<a.length;o++)0===a[o].indexOf("_on")&&Array.isArray(r[a[o]])&&(r[a[o]]=[])}return r},once:function(t,e,n){var r=this;return r.on(t,e,n,1),r},_emit:function(t,e,n){for(var r=this,i=r["_on"+t],o=i.length-1;o>=0;o--)i[o].id&&i[o].id!==e&&"load"!==t||(setTimeout(function(t){t.call(this,e,n)}.bind(r,i[o].fn),0),i[o].once&&r.off(t,i[o].fn,i[o].id));return r},_loadQueue:function(){var t=this;if(t._queue.length>0){var e=t._queue[0];t.once(e.event,function(){t._queue.shift(),t._loadQueue()}),e.action()}return t},_ended:function(t){var e=this,n=t._sprite,r=!(!t._loop&&!e._sprite[n][2]);if(e._emit("end",t._id),!e._webAudio&&r&&e.stop(t._id,!0).play(t._id),e._webAudio&&r){e._emit("play",t._id),t._seek=t._start||0,t._rateSeek=0,t._playStart=a.ctx.currentTime;var i=1e3*(t._stop-t._start)/Math.abs(t._rate);e._endTimers[t._id]=setTimeout(e._ended.bind(e,t),i)}return e._webAudio&&!r&&(t._paused=!0,t._ended=!0,t._seek=t._start||0,t._rateSeek=0,e._clearTimer(t._id),e._cleanBuffer(t._node),a._autoSuspend()),e._webAudio||r||e.stop(t._id),e},_clearTimer:function(t){var e=this;return e._endTimers[t]&&(clearTimeout(e._endTimers[t]),delete e._endTimers[t]),e},_soundById:function(t){for(var e=this,n=0;n<e._sounds.length;n++)if(t===e._sounds[n]._id)return e._sounds[n];return null},_inactiveSound:function(){var t=this;t._drain();for(var e=0;e<t._sounds.length;e++)if(t._sounds[e]._ended)return t._sounds[e].reset();return new u(t)},_drain:function(){var t=this,e=t._pool,n=0,r=0;if(!(t._sounds.length<e)){for(r=0;r<t._sounds.length;r++)t._sounds[r]._ended&&n++;for(r=t._sounds.length-1;r>=0;r--){if(n<=e)return;t._sounds[r]._ended&&(t._webAudio&&t._sounds[r]._node&&t._sounds[r]._node.disconnect(0),t._sounds.splice(r,1),n--)}}},_getSoundIds:function(t){var e=this;if("undefined"==typeof t){for(var n=[],r=0;r<e._sounds.length;r++)n.push(e._sounds[r]._id);return n}return[t]},_refreshBuffer:function(t){var e=this;return t._node.bufferSource=a.ctx.createBufferSource(),t._node.bufferSource.buffer=c[e._src],t._panner?t._node.bufferSource.connect(t._panner):t._node.bufferSource.connect(t._node),t._node.bufferSource.loop=t._loop,t._loop&&(t._node.bufferSource.loopStart=t._start||0,t._node.bufferSource.loopEnd=t._stop),t._node.bufferSource.playbackRate.value=t._rate,e},_cleanBuffer:function(t){var e=this;if(e._scratchBuffer){t.bufferSource.onended=null,t.bufferSource.disconnect(0);try{t.bufferSource.buffer=e._scratchBuffer}catch(n){}}return t.bufferSource=null,e}};var u=function(t){this._parent=t,this.init()};u.prototype={init:function(){var t=this,e=t._parent;return t._muted=e._muted,t._loop=e._loop,t._volume=e._volume,t._muted=e._muted,t._rate=e._rate,t._seek=0,t._paused=!0,t._ended=!0,t._sprite="__default",t._id=Math.round(Date.now()*Math.random()),e._sounds.push(t),t.create(),t},create:function(){var t=this,e=t._parent,n=a._muted||t._muted||t._parent._muted?0:t._volume;return e._webAudio?(t._node="undefined"==typeof a.ctx.createGain?a.ctx.createGainNode():a.ctx.createGain(),t._node.gain.setValueAtTime(n,a.ctx.currentTime),t._node.paused=!0,t._node.connect(a.masterGain)):(t._node=new Audio,t._errorFn=t._errorListener.bind(t),t._node.addEventListener("error",t._errorFn,!1),t._loadFn=t._loadListener.bind(t),t._node.addEventListener(a._canPlayEvent,t._loadFn,!1),t._node.src=e._src,t._node.preload="auto",t._node.volume=n*a.volume(),t._node.load()),t},reset:function(){var t=this,e=t._parent;return t._muted=e._muted,t._loop=e._loop,t._volume=e._volume,t._muted=e._muted,t._rate=e._rate,t._seek=0,t._rateSeek=0,t._paused=!0,t._ended=!0,t._sprite="__default",t._id=Math.round(Date.now()*Math.random()),t},_errorListener:function(){var t=this;t._node.error&&4===t._node.error.code&&(a.noAudio=!0),t._parent._emit("loaderror",t._id,t._node.error?t._node.error.code:0),t._node.removeEventListener("error",t._errorListener,!1)},_loadListener:function(){var t=this,e=t._parent;e._duration=Math.ceil(10*t._node.duration)/10,0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),"loaded"!==e._state&&(e._state="loaded",e._emit("load"),e._loadQueue()),e._autoplay&&e.play(),t._node.removeEventListener(a._canPlayEvent,t._loadFn,!1)}};var c={},l=function(t){var e=t._src;if(c[e])return t._duration=c[e].duration,void p(t);if(/^data:[^;]+;base64,/.test(e)){for(var n=atob(e.split(",")[1]),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);h(r.buffer,t)}else{var o=new XMLHttpRequest;o.open("GET",e,!0),o.responseType="arraybuffer",o.onload=function(){var e=(o.status+"")[0];return"0"!==e&&"2"!==e&&"3"!==e?void t._emit("loaderror",null,"Failed loading audio file with status: "+o.status+"."):void h(o.response,t)},o.onerror=function(){t._webAudio&&(t._html5=!0,t._webAudio=!1,t._sounds=[],delete c[e],t.load())},f(o)}},f=function(t){try{t.send()}catch(e){t.onerror()}},h=function(t,e){a.ctx.decodeAudioData(t,function(t){t&&e._sounds.length>0&&(c[e._src]=t,p(e,t))},function(){e._emit("loaderror",null,"Decoding audio data failed.")})},p=function(t,e){e&&!t._duration&&(t._duration=e.duration),0===Object.keys(t._sprite).length&&(t._sprite={__default:[0,1e3*t._duration]}),"loaded"!==t._state&&(t._state="loaded",t._emit("load"),t._loadQueue()),t._autoplay&&t.play()},d=function(){a.noAudio=!1;try{"undefined"!=typeof AudioContext?a.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?a.ctx=new webkitAudioContext:a.usingWebAudio=!1}catch(t){a.usingWebAudio=!1}if(!a.usingWebAudio)if("undefined"!=typeof Audio)try{var e=new Audio;"undefined"==typeof e.oncanplaythrough&&(a._canPlayEvent="canplay")}catch(t){a.noAudio=!0}else a.noAudio=!0;try{var e=new Audio;e.muted&&(a.noAudio=!0)}catch(t){}var n=/iP(hone|od|ad)/.test(a._navigator&&a._navigator.platform),r=a._navigator&&a._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),i=r?parseInt(r[1],10):null;if(n&&i&&i<9){var o=/safari/.test(a._navigator&&a._navigator.userAgent.toLowerCase());(a._navigator&&a._navigator.standalone&&!o||a._navigator&&!a._navigator.standalone&&!o)&&(a.usingWebAudio=!1)}a.usingWebAudio&&(a.masterGain="undefined"==typeof a.ctx.createGain?a.ctx.createGainNode():a.ctx.createGain(),a.masterGain.gain.value=1,a.masterGain.connect(a.ctx.destination)),a._setup()};r=[],i=function(){return{Howler:a,Howl:s}}.apply(e,r),!(void 0!==i&&(t.exports=i)),e.Howler=a,e.Howl=s,"undefined"!=typeof window?(window.HowlerGlobal=o,window.Howler=a,window.Howl=s,window.Sound=u):"undefined"!=typeof n&&(n.HowlerGlobal=o,n.Howler=a,n.Howl=s,n.Sound=u)}(),/*!
	 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
	 *  
	 *  howler.js v2.0.0-rc2
	 *  howlerjs.com
	 *
	 *  (c) 2013-2016, James Simpson of GoldFire Studios
	 *  goldfirestudios.com
	 *
	 *  MIT License
	 */
function(){"use strict";HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(t){var e=this;if(!e.ctx||!e.ctx.listener)return e;for(var n=e._howls.length-1;n>=0;n--)e._howls[n].stereo(t);return e},HowlerGlobal.prototype.pos=function(t,e,n){var r=this;return r.ctx&&r.ctx.listener?(e="number"!=typeof e?r._pos[1]:e,n="number"!=typeof n?r._pos[2]:n,"number"!=typeof t?r._pos:(r._pos=[t,e,n],r.ctx.listener.setPosition(r._pos[0],r._pos[1],r._pos[2]),r)):r},HowlerGlobal.prototype.orientation=function(t,e,n,r,i,o){var a=this;if(!a.ctx||!a.ctx.listener)return a;var s=a._orientation;return e="number"!=typeof e?s[1]:e,n="number"!=typeof n?s[2]:n,r="number"!=typeof r?s[3]:r,i="number"!=typeof i?s[4]:i,o="number"!=typeof o?s[5]:o,"number"!=typeof t?s:(a._orientation=[t,e,n,r,i,o],a.ctx.listener.setOrientation(t,e,n,r,i,o),a)},Howl.prototype.init=function(t){return function(e){var n=this;return n._orientation=e.orientation||[1,0,0],n._stereo=e.stereo||null,n._pos=e.pos||null,n._pannerAttr={coneInnerAngle:"undefined"!=typeof e.coneInnerAngle?e.coneInnerAngle:360,coneOuterAngle:"undefined"!=typeof e.coneOuterAngle?e.coneOuterAngle:360,coneOuterGain:"undefined"!=typeof e.coneOuterGain?e.coneOuterGain:0,distanceModel:"undefined"!=typeof e.distanceModel?e.distanceModel:"inverse",maxDistance:"undefined"!=typeof e.maxDistance?e.maxDistance:1e4,panningModel:"undefined"!=typeof e.panningModel?e.panningModel:"HRTF",refDistance:"undefined"!=typeof e.refDistance?e.refDistance:1,rolloffFactor:"undefined"!=typeof e.rolloffFactor?e.rolloffFactor:1},n._onstereo=e.onstereo?[{fn:e.onstereo}]:[],n._onpos=e.onpos?[{fn:e.onpos}]:[],n._onorientation=e.onorientation?[{fn:e.onorientation}]:[],t.call(this,e)}}(Howl.prototype.init),Howl.prototype.stereo=function(e,n){var r=this;if(!r._webAudio)return r;if("loaded"!==r._state)return r._queue.push({event:"stereo",action:function(){r.stereo(e,n)}}),r;var i="undefined"==typeof Howler.ctx.createStereoPanner?"spatial":"stereo";if("undefined"==typeof n){if("number"!=typeof e)return r._stereo;r._stereo=e,r._pos=[e,0,0]}for(var o=r._getSoundIds(n),a=0;a<o.length;a++){var s=r._soundById(o[a]);if(s){if("number"!=typeof e)return s._stereo;s._stereo=e,s._pos=[e,0,0],s._node&&(s._pannerAttr.panningModel="equalpower",s._panner&&s._panner.pan||t(s,i),"spatial"===i?s._panner.setPosition(e,0,0):s._panner.pan.value=e),r._emit("stereo",s._id)}}return r},Howl.prototype.pos=function(e,n,r,i){var o=this;if(!o._webAudio)return o;if("loaded"!==o._state)return o._queue.push({event:"pos",action:function(){o.pos(e,n,r,i)}}),o;if(n="number"!=typeof n?0:n,r="number"!=typeof r?-.5:r,"undefined"==typeof i){if("number"!=typeof e)return o._pos;o._pos=[e,n,r]}for(var a=o._getSoundIds(i),s=0;s<a.length;s++){var u=o._soundById(a[s]);if(u){if("number"!=typeof e)return u._pos;u._pos=[e,n,r],u._node&&(u._panner&&!u._panner.pan||t(u,"spatial"),u._panner.setPosition(e,n,r)),o._emit("pos",u._id)}}return o},Howl.prototype.orientation=function(e,n,r,i){var o=this;if(!o._webAudio)return o;if("loaded"!==o._state)return o._queue.push({event:"orientation",action:function(){o.orientation(e,n,r,i)}}),o;if(n="number"!=typeof n?o._orientation[1]:n,r="number"!=typeof r?o._orientation[2]:r,"undefined"==typeof i){if("number"!=typeof e)return o._orientation;o._orientation=[e,n,r]}for(var a=o._getSoundIds(i),s=0;s<a.length;s++){var u=o._soundById(a[s]);if(u){if("number"!=typeof e)return u._orientation;u._orientation=[e,n,r],u._node&&(u._panner||(u._pos||(u._pos=o._pos||[0,0,-.5]),t(u,"spatial")),u._panner.setOrientation(e,n,r)),o._emit("orientation",u._id)}}return o},Howl.prototype.pannerAttr=function(){var e,n,r,i=this,o=arguments;if(!i._webAudio)return i;if(0===o.length)return i._pannerAttr;if(1===o.length){if("object"!=typeof o[0])return r=i._soundById(parseInt(o[0],10)),r?r._pannerAttr:i._pannerAttr;e=o[0],"undefined"==typeof n&&(i._pannerAttr={coneInnerAngle:"undefined"!=typeof e.coneInnerAngle?e.coneInnerAngle:i._coneInnerAngle,coneOuterAngle:"undefined"!=typeof e.coneOuterAngle?e.coneOuterAngle:i._coneOuterAngle,coneOuterGain:"undefined"!=typeof e.coneOuterGain?e.coneOuterGain:i._coneOuterGain,distanceModel:"undefined"!=typeof e.distanceModel?e.distanceModel:i._distanceModel,maxDistance:"undefined"!=typeof e.maxDistance?e.maxDistance:i._maxDistance,panningModel:"undefined"!=typeof e.panningModel?e.panningModel:i._panningModel,refDistance:"undefined"!=typeof e.refDistance?e.refDistance:i._refDistance,rolloffFactor:"undefined"!=typeof e.rolloffFactor?e.rolloffFactor:i._rolloffFactor})}else 2===o.length&&(e=o[0],n=parseInt(o[1],10));for(var a=i._getSoundIds(n),s=0;s<a.length;s++)if(r=i._soundById(a[s])){var u=r._pannerAttr;u={coneInnerAngle:"undefined"!=typeof e.coneInnerAngle?e.coneInnerAngle:u.coneInnerAngle,coneOuterAngle:"undefined"!=typeof e.coneOuterAngle?e.coneOuterAngle:u.coneOuterAngle,coneOuterGain:"undefined"!=typeof e.coneOuterGain?e.coneOuterGain:u.coneOuterGain,distanceModel:"undefined"!=typeof e.distanceModel?e.distanceModel:u.distanceModel,maxDistance:"undefined"!=typeof e.maxDistance?e.maxDistance:u.maxDistance,panningModel:"undefined"!=typeof e.panningModel?e.panningModel:u.panningModel,refDistance:"undefined"!=typeof e.refDistance?e.refDistance:u.refDistance,rolloffFactor:"undefined"!=typeof e.rolloffFactor?e.rolloffFactor:u.rolloffFactor};var c=r._panner;c?(c.coneInnerAngle=u.coneInnerAngle,c.coneOuterAngle=u.coneOuterAngle,c.coneOuterGain=u.coneOuterGain,c.distanceModel=u.distanceModel,c.maxDistance=u.maxDistance,c.panningModel=u.panningModel,c.refDistance=u.refDistance,c.rolloffFactor=u.rolloffFactor):(r._pos||(r._pos=i._pos||[0,0,-.5]),t(r,"spatial"))}return i},Sound.prototype.init=function(t){return function(){var e=this,n=e._parent;e._orientation=n._orientation,e._stereo=n._stereo,e._pos=n._pos,e._pannerAttr=n._pannerAttr,t.call(this),e._stereo?n.stereo(e._stereo):e._pos&&n.pos(e._pos[0],e._pos[1],e._pos[2],e._id)}}(Sound.prototype.init),Sound.prototype.reset=function(t){return function(){var e=this,n=e._parent;return e._orientation=n._orientation,e._pos=n._pos,e._pannerAttr=n._pannerAttr,t.call(this)}}(Sound.prototype.reset);var t=function(t,e){e=e||"spatial","spatial"===e?(t._panner=Howler.ctx.createPanner(),t._panner.coneInnerAngle=t._pannerAttr.coneInnerAngle,t._panner.coneOuterAngle=t._pannerAttr.coneOuterAngle,t._panner.coneOuterGain=t._pannerAttr.coneOuterGain,t._panner.distanceModel=t._pannerAttr.distanceModel,t._panner.maxDistance=t._pannerAttr.maxDistance,t._panner.panningModel=t._pannerAttr.panningModel,t._panner.refDistance=t._pannerAttr.refDistance,t._panner.rolloffFactor=t._pannerAttr.rolloffFactor,t._panner.setPosition(t._pos[0],t._pos[1],t._pos[2]),t._panner.setOrientation(t._orientation[0],t._orientation[1],t._orientation[2])):(t._panner=Howler.ctx.createStereoPanner(),t._panner.pan.value=t._stereo),t._panner.connect(t._node),t._paused||t._parent.pause(t._id,!0).play(t._id)}}()}).call(e,n(12))},function(t,e){function n(t){var e=r.call(t);return"[object Function]"===e||"function"==typeof t&&"[object RegExp]"!==e||"undefined"!=typeof window&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)}t.exports=n;var r=Object.prototype.toString},108,109,function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(112),s=r(a),u=n(43),c=r(u),l=n(9),f=n(5),h=r(f),p=n(117),d=r(p),_=n(19),v=r(_),y=n(230),g=(r(y),n(52)),m=r(g),b=n(8),w=r(b),x=5,S=.8,k=.1,T=10,O=function(){function t(e,n){i(this,t),this._id=n,this._soundOptions=w.default.clone(e),this._volumeTweenObj={volume:e.volume},this.endedSignal=new c.default,this.terminatedSignal=new c.default,this.playingSignal=new c.default,this.loadedSignal=new c.default,this._onLoadedBound=this._onLoaded.bind(this),this._onEndedBound=this._onEnded.bind(this),this._onFadeBound=this._onFade.bind(this),this._onPauseBound=this._onPause.bind(this),this._onPlayBound=this._onPlay.bind(this),this.sound=new s.default.Howl(e),this.sound.on("load",this._onLoadedBound),this.sound.on("pause",this._onPauseBound),this.sound.on("play",this._onPlayBound),this.sound.on("end",this._onEndedBound),this.sound.soundname=e.name,this.timeCounter=0,!l.CONFIG.partialPlay||e.noPartialPlay?e.nearFactor=null:this.sound.nearFactor=1-e.nearFactor,this.sound.dominant=e.dominant,this.overlapTime=Math.random()*l.CONFIG.effectSpeakingOverlapMax,this._easeVolume=d.default.addNew(e.volume,.4)}return o(t,[{key:"duration",value:function(){return this.sound.duration()||0}},{key:"fade",value:function(t,e,n){this.sound&&this.sound.fade(t,e,n)}},{key:"play",value:function(){var t=arguments.length<=0||void 0===arguments[0]?500:arguments[0];arguments.length<=1||void 0===arguments[1]?1:arguments[1];this.sound&&(this.sound.playing()||(this.sound.fade(0,this._easeVolume.value,t),this.sound.play()))}},{key:"ramp",value:function(t,e,n){var r=this;this._rampingVolume&&!n||(this._isPaused&&e.volume&&this.play(),this._rampingVolume=!0,this._volumeTweenObj.volume=this._easeVolume.value,m.default.to(this._volumeTweenObj,t,{volume:e.volume,overwrite:1,onUpdate:function(){"effects"===r._id,r._easeVolume.target=r._volumeTweenObj.volume},onComplete:function(){r._rampingVolume=!1,r.sound&&((e.pause||0===e.volume)&&r.pause(),e.end&&r._terminate())}}))}},{key:"update",value:function(){!this._rampingVolume&&this.sound&&this.sound.volume(this._easeVolume.value)}},{key:"stop",value:function(){this.sound.stop()}},{key:"_onLoaded",value:function(t){this.loadedSignal.dispatch(this),l.CONFIG.partialPlayOnBackground?"speaking"===this._id&&this._setPlaytime():this._setPlaytime(),h.default.emit("log:log:light","Sound "+this._id+" "+this.sound.soundname+" Loaded duration: "+this.sound.duration()),h.default.emit("log:log:light","Sound "+this._id+" playtime: "+this.playtime+" nearFactor: "+this.sound.nearFactor,2),this._loaded=!0,this.sound.isLoaded=!0}},{key:"_setPlaytime",value:function(){
//!!!!
this.sound.nearFactor?(this.playtime=this._getPlaytimeFromNearFactor(this.sound.duration(),this.sound.nearFactor),l.CONFIG.entropyCut&&(this.playtime=v.default.clamp(Math.random()*l.CONFIG.maxSpeakingTime,l.CONFIG.minSpeakingTime,l.CONFIG.maxSpeakingTime)),this.sound.playtime=this.playtime):this.sound.playtime&&(this.sound.playtime=Math.min(this.sound.playtime,this.sound.duration()))}},{key:"_onPlay",value:function(){this.playingSignal.dispatch(this)}},{key:"_onPause",value:function(){}},{key:"_onFade",value:function(t){}},{key:"_onEnded",value:function(){this.sound&&(this.sound.hasFinished=!0,this.endedSignal.dispatch(this))}},{key:"pause",value:function(){this._isPaused=!0,this.sound&&this.sound.pause()}},{key:"_getPlaytimeFromNearFactor",value:function(t,e){if(e>S)return t;if(e<k)return Math.min(t,x);var n=t*e;return n=v.default.clamp(n,T,t)}},{key:"_terminate",value:function(){this.terminatedSignal.dispatch(this)}},{key:"destroy",value:function(){d.default.remove(this._easeVolume),this.endedSignal.dispose(),this.terminatedSignal.dispose(),this.playingSignal.dispose(),this.loadedSignal.dispose(),this.sound.off("load",this._onLoadedBound),this.sound.off("play",this._onPlayBound),this.sound.off("pause",this._onPauseBound),this.sound.off("fade",this._onFadeBound),this.sound.off("end",this._onEndedBound),this.sound.stop(),this.sound.unload(),this.sound=null,this._onLoadedBound=null,this._onEndedBound=null,this._onFadeBound=null,this._onPauseBound=null,this._onPlayBound=null,console.log("HowlerSoundDestoyed")}},{key:"playing",get:function(){return!!this.sound&&this.sound.playing()}},{key:"volume",get:function(){return this.sound?this.sound.volume():0},set:function(t){this._easeVolume.target=t}},{key:"seek",get:function(){return this.sound.seek()},set:function(t){this.sound.seek(t)}},{key:"soundname",get:function(){return this.sound?this.sound.soundname:""}},{key:"nearFactor",get:function(){return this.sound.nearFactor}},{key:"loaded",get:function(){return this.sound.isLoaded}},{key:"progress",get:function(){var t=this.sound.seek(),e=t/this.sound.duration()||0;return e}}]),t}();e.default=O},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(8),o=r(i),a=function(){function t(){var t=arguments.length<=0||void 0===arguments[0]?0:arguments[0],e=arguments.length<=1||void 0===arguments[1]?.1:arguments[1],n=o.default.assign({},r);return n.value=t,n.target=t,n.easing=e,i.push(n),a=i.length,n}function e(t){var e=i.indexOf(t);i.splice(e,1)}function n(){for(var t=0;t<a;t++)i[t]&&(i[t].value+=(i[t].target-i[t].value)*i[t].easing)}var r={value:0,target:0,easing:0,setValue:function(t){this.target=t}},i=[],a=void 0;return{addNew:t,remove:e,update:n}}();e.default=a},,,,,,function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){return c+t}function o(t,e){try{null==e?window.sessionStorage.removeItem(i(t)):window.sessionStorage.setItem(i(t),JSON.stringify(e))}catch(n){if(n.name===f)return void u.default(!1,"[history] Unable to save state; sessionStorage is not available due to security settings");if(l.indexOf(n.name)>=0&&0===window.sessionStorage.length)return void u.default(!1,"[history] Unable to save state; sessionStorage is not available in Safari private mode");throw n}}function a(t){var e=void 0;try{e=window.sessionStorage.getItem(i(t))}catch(n){if(n.name===f)return u.default(!1,"[history] Unable to read state; sessionStorage is not available due to security settings"),null}if(e)try{return JSON.parse(e)}catch(n){}return null}e.__esModule=!0,e.saveState=o,e.readState=a;var s=n(14),u=r(s),c="@@History/",l=["QuotaExceededError","QUOTA_EXCEEDED_ERR"],f="SecurityError"},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(){function t(t){try{t=t||window.history.state||{}}catch(e){t={}}var n=f.getWindowPath(),r=t,i=r.key,a=void 0;i?a=h.readState(i):(a=null,i=m.createKey(),y&&window.history.replaceState(o({},t,{key:i}),null));var s=c.parsePath(n);return m.createLocation(o({},s,{state:a}),void 0,i)}function e(e){function n(e){void 0!==e.state&&r(t(e.state))}var r=e.transitionTo;return f.addEventListener(window,"popstate",n),function(){f.removeEventListener(window,"popstate",n)}}function n(t){var e=t.basename,n=t.pathname,r=t.search,i=t.hash,o=t.state,a=t.action,s=t.key;if(a!==u.POP){h.saveState(s,o);var c=(e||"")+n+r+i,l={key:s};if(a===u.PUSH){if(g)return window.location.href=c,!1;window.history.pushState(l,null,c)}else{if(g)return window.location.replace(c),!1;window.history.replaceState(l,null,c)}}}function r(t){1===++b&&(w=e(m));var n=m.listenBefore(t);return function(){n(),0===--b&&w()}}function i(t){1===++b&&(w=e(m));var n=m.listen(t);return function(){n(),0===--b&&w()}}function a(t){1===++b&&(w=e(m)),m.registerTransitionHook(t)}function p(t){m.unregisterTransitionHook(t),0===--b&&w()}var _=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];l.canUseDOM?void 0:s.default(!1,"Browser history needs a DOM");var v=_.forceRefresh,y=f.supportsHistory(),g=!y||v,m=d.default(o({},_,{getCurrentLocation:t,finishTransition:n,saveState:h.saveState})),b=0,w=void 0;return o({},m,{listenBefore:r,listen:i,registerTransitionHook:a,unregisterTransitionHook:p})}e.__esModule=!0;var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a=n(11),s=r(a),u=n(30),c=n(31),l=n(46),f=n(56),h=n(123),p=n(125),d=r(p);e.default=i,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){function e(t){return u.canUseDOM?void 0:s.default(!1,"DOM history needs a DOM"),n.listen(t)}var n=f.default(o({getUserConfirmation:c.getUserConfirmation},t,{go:c.go}));return o({},n,{listen:e})}e.__esModule=!0;var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a=n(11),s=r(a),u=n(46),c=n(56),l=n(126),f=r(l);e.default=i,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){return Math.random().toString(36).substr(2,t)}function o(t,e){return t.pathname===e.pathname&&t.search===e.search&&t.key===e.key&&f.default(t.state,e.state)}function a(){function t(t){return B.push(t),function(){B=B.filter(function(e){return e!==t})}}function e(){return H&&H.action===d.POP?U.indexOf(H.key):z?U.indexOf(z.key):-1}function n(t){var n=e();z=t,z.action===d.PUSH?U=[].concat(U.slice(0,n+1),[z.key]):z.action===d.REPLACE&&(U[n]=z.key),q.forEach(function(t){t(z)})}function r(t){if(q.push(t),z)t(z);else{var e=M();U=[e.key],n(e)}return function(){q=q.filter(function(e){return e!==t})}}function a(t,e){p.loopAsync(B.length,function(e,n,r){g.default(B[e],t,function(t){null!=t?r(t):n()})},function(t){D&&"string"==typeof t?D(t,function(t){e(t!==!1)}):e(t!==!1)})}function u(t){z&&o(z,t)||(H=t,a(t,function(e){if(H===t)if(e){if(t.action===d.PUSH){var r=S(z),i=S(t);i===r&&f.default(z.state,t.state)&&(t.action=d.REPLACE)}I(t)!==!1&&n(t)}else if(z&&t.action===d.POP){var o=U.indexOf(z.key),a=U.indexOf(t.key);o!==-1&&a!==-1&&F(o-a)}}))}function l(t){u(T(t,d.PUSH,x()))}function _(t){u(T(t,d.REPLACE,x()))}function y(){F(-1)}function m(){F(1)}function x(){return i(N)}function S(t){if(null==t||"string"==typeof t)return t;var e=t.pathname,n=t.search,r=t.hash,i=e;return n&&(i+=n),r&&(i+=r),i}function k(t){return S(t)}function T(t,e){var n=arguments.length<=2||void 0===arguments[2]?x():arguments[2];return"object"==typeof e&&(c.default(!1,"The state (2nd) argument to history.createLocation is deprecated; use a location descriptor instead"),"string"==typeof t&&(t=h.parsePath(t)),t=s({},t,{state:e}),e=n,n=arguments[3]||x()),v.default(t,e,n)}function O(t){z?(E(z,t),n(z)):E(M(),t)}function E(t,e){t.state=s({},t.state,e),L(t.key,t.state)}function P(t){B.indexOf(t)===-1&&B.push(t)}function A(t){B=B.filter(function(e){return e!==t})}function C(t,e){"string"==typeof e&&(e=h.parsePath(e)),l(s({state:t},e))}function R(t,e){"string"==typeof e&&(e=h.parsePath(e)),_(s({state:t},e))}var j=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],M=j.getCurrentLocation,I=j.finishTransition,L=j.saveState,F=j.go,D=j.getUserConfirmation,N=j.keyLength;"number"!=typeof N&&(N=w);var B=[],U=[],q=[],z=void 0,H=void 0;return{listenBefore:t,listen:r,transitionTo:u,push:l,replace:_,go:F,goBack:y,goForward:m,createKey:x,createPath:S,createHref:k,createLocation:T,setState:b.default(O,"setState is deprecated; use location.key to save state instead"),registerTransitionHook:b.default(P,"registerTransitionHook is deprecated; use listenBefore instead"),unregisterTransitionHook:b.default(A,"unregisterTransitionHook is deprecated; use the callback returned from listenBefore instead"),pushState:b.default(C,"pushState is deprecated; use push instead"),replaceState:b.default(R,"replaceState is deprecated; use replace instead")}}e.__esModule=!0;var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=n(14),c=r(u),l=n(253),f=r(l),h=n(31),p=n(277),d=n(30),_=n(127),v=r(_),y=n(78),g=r(y),m=n(32),b=r(m),w=6;e.default=a,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(){var t=arguments.length<=0||void 0===arguments[0]?"/":arguments[0],e=arguments.length<=1||void 0===arguments[1]?u.POP:arguments[1],n=arguments.length<=2||void 0===arguments[2]?null:arguments[2],r=arguments.length<=3||void 0===arguments[3]?null:arguments[3];"string"==typeof t&&(t=c.parsePath(t)),"object"==typeof e&&(s.default(!1,"The state (2nd) argument to createLocation is deprecated; use a location descriptor instead"),t=o({},t,{state:e}),e=n||u.POP,n=r);var i=t.pathname||"/",a=t.search||"",l=t.hash||"",f=t.state||null;return{pathname:i,search:a,hash:l,state:f,action:e,key:n}}e.__esModule=!0;var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a=n(14),s=r(a),u=n(30),c=n(31);e.default=i,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){return t.filter(function(t){return t.state}).reduce(function(t,e){return t[e.key]=e.state,t},{})}function o(){function t(t,e){g[t]=e}function e(t){return g[t]}function n(){var t=v[y],n=t.basename,r=t.pathname,i=t.search,o=(n||"")+r+(i||""),s=void 0,u=void 0;t.key?(s=t.key,u=e(s)):(s=p.createKey(),u=null,t.key=s);var c=f.parsePath(o);return p.createLocation(a({},c,{state:u}),void 0,s)}function r(t){var e=y+t;return e>=0&&e<v.length}function o(t){if(t){if(!r(t))return void u.default(!1,"Cannot go(%s) there is not enough history",t);y+=t;var e=n();p.transitionTo(a({},e,{action:h.POP}))}}function s(e){switch(e.action){case h.PUSH:y+=1,y<v.length&&v.splice(y),v.push(e),t(e.key,e.state);break;case h.REPLACE:v[y]=e,t(e.key,e.state)}}var c=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];Array.isArray(c)?c={entries:c}:"string"==typeof c&&(c={entries:[c]});var p=d.default(a({},c,{getCurrentLocation:n,finishTransition:s,saveState:t,go:o})),_=c,v=_.entries,y=_.current;"string"==typeof v?v=[v]:Array.isArray(v)||(v=["/"]),v=v.map(function(t){var e=p.createKey();return"string"==typeof t?{pathname:t,key:e}:"object"==typeof t&&t?a({},t,{key:e}):void l.default(!1,"Unable to create history entry from %s",t)}),null==y?y=v.length-1:y>=0&&y<v.length?void 0:l.default(!1,"Current index must be >= 0 and < %s, was %s",v.length,y);var g=i(v);return p}e.__esModule=!0;var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s=n(14),u=r(s),c=n(11),l=r(c),f=n(31),h=n(30),p=n(126),d=r(p);e.default=o,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){function e(e){var n=t();if("string"==typeof n)return(e||window.event).returnValue=n,n}return l.addEventListener(window,"beforeunload",e),function(){l.removeEventListener(window,"beforeunload",e)}}function o(t){return function(e){function n(){for(var t=void 0,e=0,n=p.length;null==t&&e<n;++e)t=p[e].call();return t}function r(t){return p.push(t),1===p.length&&(c.canUseDOM?f=i(n):u.default(!1,"listenBeforeUnload only works in DOM environments")),function(){p=p.filter(function(e){return e!==t}),0===p.length&&f&&(f(),f=null)}}function o(t){c.canUseDOM&&p.indexOf(t)===-1&&(p.push(t),1===p.length&&(f=i(n)))}function s(t){p.length>0&&(p=p.filter(function(e){return e!==t}),0===p.length&&f())}var l=t(e),f=void 0,p=[];return a({},l,{listenBeforeUnload:r,registerBeforeUnloadHook:h.default(o,"registerBeforeUnloadHook is deprecated; use listenBeforeUnload instead"),unregisterBeforeUnloadHook:h.default(s,"unregisterBeforeUnloadHook is deprecated; use the callback returned from listenBeforeUnload instead")})}}e.__esModule=!0;var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s=n(14),u=r(s),c=n(46),l=n(56),f=n(32),h=r(f);e.default=o,t.exports=e.default},function(t,e){"use strict";var n={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,arguments:!0,arity:!0},i="function"==typeof Object.getOwnPropertySymbols;t.exports=function(t,e,o){if("string"!=typeof e){var a=Object.getOwnPropertyNames(e);i&&(a=a.concat(Object.getOwnPropertySymbols(e)));for(var s=0;s<a.length;++s)if(!(n[a[s]]||r[a[s]]||o&&o[a[s]]))try{t[a[s]]=e[a[s]]}catch(u){}}return t}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){"use strict";e.__esModule=!0;var r=n(2);e.default=r.PropTypes.shape({subscribe:r.PropTypes.func.isRequired,dispatch:r.PropTypes.func.isRequired,getState:r.PropTypes.func.isRequired})},function(t,e){"use strict";function n(t){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(t);try{throw new Error(t)}catch(e){}}e.__esModule=!0,e.default=n},function(t,e){"use strict";function n(t){return function(){for(var e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];return{type:r,payload:{method:t,args:n}}}}Object.defineProperty(e,"__esModule",{value:!0});var r=e.CALL_HISTORY_METHOD="@@router/CALL_HISTORY_METHOD",i=e.push=n("push"),o=e.replace=n("replace"),a=e.go=n("go"),s=e.goBack=n("goBack"),u=e.goForward=n("goForward");e.routerActions={push:i,replace:o,go:a,goBack:s,goForward:u}},function(t,e){"use strict";function n(){var t=arguments.length<=0||void 0===arguments[0]?o:arguments[0],e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=e.type,a=e.payload;return n===i?r({},t,{locationBeforeTransitions:a}):t}Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.routerReducer=n;var i=e.LOCATION_CHANGE="@@router/LOCATION_CHANGE",o={locationBeforeTransitions:null}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function o(t){return 0===t.button}function a(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function s(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function u(t,e){var n=e.query,r=e.hash,i=e.state;return n||r||i?{pathname:t,query:n,hash:r,state:i}:t}e.__esModule=!0;var c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l=n(2),f=r(l),h=n(7),p=r(h),d=n(83),_=f.default.PropTypes,v=_.bool,y=_.object,g=_.string,m=_.func,b=_.oneOfType,w=f.default.createClass({displayName:"Link",contextTypes:{router:d.routerShape},propTypes:{to:b([g,y]).isRequired,query:y,hash:g,state:y,activeStyle:y,activeClassName:g,onlyActiveOnIndex:v.isRequired,onClick:m,target:g},getDefaultProps:function(){return{onlyActiveOnIndex:!1,style:{}}},handleClick:function(t){var e=!0;if(this.props.onClick&&this.props.onClick(t),!a(t)&&o(t)){if(t.defaultPrevented===!0&&(e=!1),this.props.target)return void(e||t.preventDefault());if(t.preventDefault(),e){var n=this.props,r=n.to,i=n.query,s=n.hash,c=n.state,l=u(r,{query:i,hash:s,state:c});this.context.router.push(l)}}},render:function(){var t=this.props,e=t.to,n=t.query,r=t.hash,o=t.state,a=t.activeClassName,l=t.activeStyle,h=t.onlyActiveOnIndex,d=i(t,["to","query","hash","state","activeClassName","activeStyle","onlyActiveOnIndex"]);(0,p.default)(!(n||r||o),"the `query`, `hash`, and `state` props on `<Link>` are deprecated, use `<Link to={{ pathname, query, hash, state }}/>. http://tiny.cc/router-isActivedeprecated");var _=this.context.router;if(_){var v=u(e,{query:n,hash:r,state:o});d.href=_.createHref(v),(a||null!=l&&!s(l))&&_.isActive(v,h)&&(a&&(d.className?d.className+=" "+a:d.className=a),l&&(d.style=c({},d.style,l)))}return f.default.createElement("a",c({},d,{onClick:this.handleClick}))}});e.default=w,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var i=n(2),o=r(i),a=n(11),s=r(a),u=n(23),c=n(40),l=n(34),f=o.default.PropTypes,h=f.string,p=f.object,d=o.default.createClass({displayName:"Redirect",statics:{createRouteFromReactElement:function(t){var e=(0,u.createRouteFromReactElement)(t);return e.from&&(e.path=e.from),e.onEnter=function(t,n){var r=t.location,i=t.params,o=void 0;if("/"===e.to.charAt(0))o=(0,c.formatPattern)(e.to,i);else if(e.to){var a=t.routes.indexOf(e),s=d.getRoutePattern(t.routes,a-1),u=s.replace(/\/*$/,"/")+e.to;o=(0,c.formatPattern)(u,i)}else o=r.pathname;n({pathname:o,query:e.query||r.query,state:e.state||r.state})},e},getRoutePattern:function(t,e){for(var n="",r=e;r>=0;r--){var i=t[r],o=i.path||"";if(n=o.replace(/\/*$/,"/")+n,0===o.indexOf("/"))break}return"/"+n}},propTypes:{path:h,from:h,to:h.isRequired,query:p,state:p,onEnter:l.falsy,children:l.falsy},render:function(){(0,s.default)(!1,"<Redirect> elements are for router configuration only and should not be rendered")}});e.default=d,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){return a({},t,{setRouteLeaveHook:e.listenBeforeLeavingRoute,isActive:e.isActive})}function o(t,e){return t=a({},t,e),t=(0,u.default)(t,"`props.history` and `context.history` are deprecated. Please use `context.router`. http://tiny.cc/router-contextchanges")}e.__esModule=!0;var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.createRouterObject=i,e.createRoutingHistory=o;var s=n(59),u=r(s)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){var e=(0,l.default)(t),n=function(){return e},r=(0,a.default)((0,u.default)(n))(t);return r.__v2_compatible__=!0,r}e.__esModule=!0,e.default=i;var o=n(39),a=r(o),s=n(79),u=r(s),c=n(128),l=r(c);t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0,e.default=function(t){var e=void 0;return a&&(e=(0,o.default)(t)()),e};var i=n(142),o=r(i),a=!("undefined"==typeof window||!window.document||!window.document.createElement);t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(a.canUseMembrane){var n=o({},t),r=function(t){return Object.prototype.hasOwnProperty.call(e,t)?void Object.defineProperty(n,t,{get:function(){return(0,u.default)(!1,"Accessing location properties directly from the first argument to `getComponent`, `getComponents`, `getChildRoutes`, and `getIndexRoute` is deprecated. That argument is now the router state (`nextState` or `partialNextState`) rather than the location. To access the location, use `nextState.location` or `partialNextState.location`."),e[t]}}):"continue"};for(var i in e){r(i)}return n}return o({},t,e)}e.__esModule=!0;var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.default=i;var a=n(59),s=n(7),u=r(s);t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){return function(e){var n=(0,a.default)((0,u.default)(t))(e);return n.__v2_compatible__=!0,n}}e.__esModule=!0,e.default=i;var o=n(39),a=r(o),s=n(79),u=r(s);t.exports=e.default},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";function r(t){return this instanceof r?void i.call(this,t):new r(t)}t.exports=r;var i=n(104),o=n(45);o.inherits=n(33),o.inherits(r,i),r.prototype._transform=function(t,e,n){n(null,t)}},function(t,e,n){"use strict";(function(e){function r(t,e){I=I||n(36),t=t||{},this.objectMode=!!t.objectMode,e instanceof I&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var r=t.highWaterMark,i=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:i,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(M||(M=n(182).StringDecoder),this.decoder=new M(t.encoding),this.encoding=t.encoding)}function i(t){return I=I||n(36),this instanceof i?(this._readableState=new r(t,this),this.readable=!0,t&&"function"==typeof t.read&&(this._read=t.read),void P.call(this)):new i(t)}function o(t,e,n,r,i){var o=c(e,n);if(o)t.emit("error",o);else if(null===n)e.reading=!1,l(t,e);else if(e.objectMode||n&&n.length>0)if(e.ended&&!i){var s=new Error("stream.push() after EOF");t.emit("error",s)}else if(e.endEmitted&&i){var s=new Error("stream.unshift() after end event");t.emit("error",s)}else{var u;!e.decoder||i||r||(n=e.decoder.write(n),u=!e.objectMode&&0===n.length),i||(e.reading=!1),u||(e.flowing&&0===e.length&&!e.sync?(t.emit("data",n),t.read(0)):(e.length+=e.objectMode?1:n.length,i?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&f(t))),p(t,e)}else i||(e.reading=!1);return a(e)}function a(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}function s(t){return t>=L?t=L:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function u(t,e){return 0===e.length&&e.ended?0:e.objectMode?0===t?0:1:null===t||isNaN(t)?e.flowing&&e.buffer.length?e.buffer[0].length:e.length:t<=0?0:(t>e.highWaterMark&&(e.highWaterMark=s(t)),t>e.length?e.ended?e.length:(e.needReadable=!0,0):t)}function c(t,e){var n=null;return E.isBuffer(e)||"string"==typeof e||null===e||void 0===e||t.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}function l(t,e){if(!e.ended){if(e.decoder){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,f(t)}}function f(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(j("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?T(h,t):h(t))}function h(t){j("emit readable"),t.emit("readable"),m(t)}function p(t,e){e.readingMore||(e.readingMore=!0,T(d,t,e))}function d(t,e){for(var n=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(j("maybeReadMore read 0"),t.read(0),n!==e.length);)n=e.length;e.readingMore=!1}function _(t){return function(){var e=t._readableState;j("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&A(t,"data")&&(e.flowing=!0,m(t))}}function v(t){j("readable nexttick read 0"),t.read(0)}function y(t,e){e.resumeScheduled||(e.resumeScheduled=!0,T(g,t,e))}function g(t,e){e.reading||(j("resume read 0"),t.read(0)),e.resumeScheduled=!1,t.emit("resume"),m(t),e.flowing&&!e.reading&&t.read(0)}function m(t){var e=t._readableState;if(j("flow",e.flowing),e.flowing)do var n=t.read();while(null!==n&&e.flowing)}function b(t,e){var n,r=e.buffer,i=e.length,o=!!e.decoder,a=!!e.objectMode;if(0===r.length)return null;if(0===i)n=null;else if(a)n=r.shift();else if(!t||t>=i)n=o?r.join(""):1===r.length?r[0]:E.concat(r,i),r.length=0;else if(t<r[0].length){var s=r[0];n=s.slice(0,t),r[0]=s.slice(t)}else if(t===r[0].length)n=r.shift();else{n=o?"":new E(t);for(var u=0,c=0,l=r.length;c<l&&u<t;c++){var s=r[0],f=Math.min(t-u,s.length);o?n+=s.slice(0,f):s.copy(n,u,0,f),f<s.length?r[0]=s.slice(f):r.shift(),u+=f}}return n}function w(t){var e=t._readableState;if(e.length>0)throw new Error("endReadable called on non-empty stream");e.endEmitted||(e.ended=!0,T(x,e,t))}function x(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function S(t,e){for(var n=0,r=t.length;n<r;n++)e(t[n],n)}function k(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}t.exports=i;var T=n(81),O=n(131),E=n(28).Buffer;i.ReadableState=r;var P,A=(n(29),function(t,e){return t.listeners(e).length});!function(){try{P=n(50)}catch(t){}finally{P||(P=n(29).EventEmitter)}}();var E=n(28).Buffer,C=n(45);C.inherits=n(33);var R=n(401),j=void 0;j=R&&R.debuglog?R.debuglog("stream"):function(){};var M;C.inherits(i,P);var I,I;i.prototype.push=function(t,e){var n=this._readableState;return n.objectMode||"string"!=typeof t||(e=e||n.defaultEncoding,e!==n.encoding&&(t=new E(t,e),e="")),o(this,n,t,e,!1)},i.prototype.unshift=function(t){var e=this._readableState;return o(this,e,t,"",!0)},i.prototype.isPaused=function(){return this._readableState.flowing===!1},i.prototype.setEncoding=function(t){return M||(M=n(182).StringDecoder),this._readableState.decoder=new M(t),this._readableState.encoding=t,this};var L=8388608;i.prototype.read=function(t){j("read",t);var e=this._readableState,n=t;if(("number"!=typeof t||t>0)&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return j("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?w(this):f(this),null;if(t=u(t,e),0===t&&e.ended)return 0===e.length&&w(this),null;var r=e.needReadable;j("need readable",r),(0===e.length||e.length-t<e.highWaterMark)&&(r=!0,j("length less than watermark",r)),(e.ended||e.reading)&&(r=!1,j("reading or ended",r)),r&&(j("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1),r&&!e.reading&&(t=u(n,e));var i;return i=t>0?b(t,e):null,null===i&&(e.needReadable=!0,t=0),e.length-=t,0!==e.length||e.ended||(e.needReadable=!0),n!==t&&e.ended&&0===e.length&&w(this),null!==i&&this.emit("data",i),i},i.prototype._read=function(t){this.emit("error",new Error("not implemented"))},i.prototype.pipe=function(t,n){function r(t){j("onunpipe"),t===f&&o()}function i(){j("onend"),t.end()}function o(){j("cleanup"),t.removeListener("close",u),t.removeListener("finish",c),t.removeListener("drain",v),t.removeListener("error",s),t.removeListener("unpipe",r),f.removeListener("end",i),f.removeListener("end",o),f.removeListener("data",a),y=!0,!h.awaitDrain||t._writableState&&!t._writableState.needDrain||v()}function a(e){j("ondata");var n=t.write(e);!1===n&&(1!==h.pipesCount||h.pipes[0]!==t||1!==f.listenerCount("data")||y||(j("false write response, pause",f._readableState.awaitDrain),f._readableState.awaitDrain++),f.pause())}function s(e){j("onerror",e),l(),t.removeListener("error",s),0===A(t,"error")&&t.emit("error",e)}function u(){t.removeListener("finish",c),l()}function c(){j("onfinish"),t.removeListener("close",u),l()}function l(){j("unpipe"),f.unpipe(t)}var f=this,h=this._readableState;switch(h.pipesCount){case 0:h.pipes=t;break;case 1:h.pipes=[h.pipes,t];break;default:h.pipes.push(t)}h.pipesCount+=1,j("pipe count=%d opts=%j",h.pipesCount,n);var p=(!n||n.end!==!1)&&t!==e.stdout&&t!==e.stderr,d=p?i:o;h.endEmitted?T(d):f.once("end",d),t.on("unpipe",r);var v=_(f);t.on("drain",v);var y=!1;return f.on("data",a),t._events&&t._events.error?O(t._events.error)?t._events.error.unshift(s):t._events.error=[s,t._events.error]:t.on("error",s),t.once("close",u),t.once("finish",c),t.emit("pipe",f),h.flowing||(j("pipe resume"),f.resume()),t},i.prototype.unpipe=function(t){var e=this._readableState;if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this),this);if(!t){var n=e.pipes,r=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var i=0;i<r;i++)n[i].emit("unpipe",this);return this}var o=k(e.pipes,t);return o===-1?this:(e.pipes.splice(o,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this),this)},i.prototype.on=function(t,e){var n=P.prototype.on.call(this,t,e);if("data"===t&&!1!==this._readableState.flowing&&this.resume(),"readable"===t&&!this._readableState.endEmitted){var r=this._readableState;r.readableListening||(r.readableListening=!0,r.emittedReadable=!1,r.needReadable=!0,r.reading?r.length&&f(this,r):T(v,this))}return n},i.prototype.addListener=i.prototype.on,i.prototype.resume=function(){var t=this._readableState;return t.flowing||(j("resume"),t.flowing=!0,y(this,t)),this},i.prototype.pause=function(){return j("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(j("pause"),this._readableState.flowing=!1,this.emit("pause")),this},i.prototype.wrap=function(t){var e=this._readableState,n=!1,r=this;t.on("end",function(){if(j("wrapped end"),e.decoder&&!e.ended){var t=e.decoder.end();t&&t.length&&r.push(t)}r.push(null)}),t.on("data",function(i){if(j("wrapped data"),e.decoder&&(i=e.decoder.write(i)),(!e.objectMode||null!==i&&void 0!==i)&&(e.objectMode||i&&i.length)){var o=r.push(i);o||(n=!0,t.pause())}});for(var i in t)void 0===this[i]&&"function"==typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));var o=["error","close","destroy","pause","resume"];return S(o,function(e){t.on(e,r.emit.bind(r,e))}),r._read=function(e){j("wrapped _read",e),n&&(n=!1,t.resume())},r},i._fromList=b}).call(e,n(22))},function(t,e){t.exports=function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){t.exports=n(46)},function(t,e){var n=Array.isArray;t.exports=n},function(t,e){function n(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}t.exports=n},function(t,e,n){var r=n(32),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();t.exports=o},function(t,e,n){function r(t,e){var n=o(t,e);return i(n)?n:void 0}var i=n(69),o=n(87);t.exports=r},function(t,e){function n(t){return!!t&&"object"==typeof t}t.exports=n},function(t,e,n){function r(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}var i=n(98),o=n(99),a=n(100),s=n(101),u=n(102);r.prototype.clear=i,r.prototype.delete=o,r.prototype.get=a,r.prototype.has=s,r.prototype.set=u,t.exports=r},function(t,e,n){function r(t,e){for(var n=t.length;n--;)if(i(t[n][0],e))return n;return-1}var i=n(40);t.exports=r},function(t,e,n){function r(t,e){var n=t.__data__;return i(e)?n["string"==typeof e?"string":"hash"]:n.map}var i=n(95);t.exports=r},function(t,e,n){function r(t,e){if(i(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!o(t))||s.test(t)||!a.test(t)||null!=e&&t in Object(e)}var i=n(1),o=n(14),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;
t.exports=r},function(t,e,n){var r=n(4),i=r(Object,"create");t.exports=i},function(t,e,n){function r(t){if("string"==typeof t||i(t))return t;var e=t+"";return"0"==e&&1/t==-o?"-0":e}var i=n(14),o=1/0;t.exports=r},function(t,e,n){function r(t){var e=i(t)?u.call(t):"";return e==o||e==a}var i=n(2),o="[object Function]",a="[object GeneratorFunction]",s=Object.prototype,u=s.toString;t.exports=r},function(t,e){function n(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=r}var r=9007199254740991;t.exports=n},function(t,e,n){function r(t){return"symbol"==typeof t||i(t)&&s.call(t)==o}var i=n(5),o="[object Symbol]",a=Object.prototype,s=a.toString;t.exports=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(21);e.default=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=t.innerWidth,n=t.innerHeight,i=t.matchMedia;return{type:r.CALCULATE_RESPONSIVE_STATE,innerWidth:e,innerHeight:n,matchMedia:i}},t.exports=e.default},function(t,e,n){var r=n(4),i=n(3),o=r(i,"Map");t.exports=o},function(t,e,n){function r(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}var i=n(103),o=n(104),a=n(105),s=n(106),u=n(107);r.prototype.clear=i,r.prototype.delete=o,r.prototype.get=a,r.prototype.has=s,r.prototype.set=u,t.exports=r},function(t,e,n){function r(t){return null!=t&&a(i(t))&&!o(t)}var i=n(84),o=n(12),a=n(13);t.exports=r},function(t,e,n){function r(t){var e=c(t);if(!e&&!s(t))return o(t);var n=a(t),r=!!n,l=n||[],f=l.length;for(var h in t)!i(t,h)||r&&("length"==h||u(h,f))||e&&"constructor"==h||l.push(h);return l}var i=n(26),o=n(71),a=n(94),s=n(18),u=n(35),c=n(97);t.exports=r},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default="redux-responsive/CALCULATE_RESPONSIVE_STATE",t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(20),o=r(i);e.CALCULATE_RESPONSIVE_STATE=o.default},function(t,e,n){function r(t){this.__data__=new i(t)}var i=n(6),o=n(113),a=n(114),s=n(115),u=n(116),c=n(117);r.prototype.clear=o,r.prototype.delete=a,r.prototype.get=s,r.prototype.has=u,r.prototype.set=c,t.exports=r},function(t,e,n){var r=n(3),i=r.Symbol;t.exports=i},function(t,e,n){function r(t,e){return t&&i(t,e,o)}var i=n(64),o=n(19);t.exports=r},function(t,e,n){function r(t,e){e=o(e,t)?[e]:i(e);for(var n=0,r=e.length;null!=t&&n<r;)t=t[a(e[n++])];return n&&n==r?t:void 0}var i=n(30),o=n(9),a=n(11);t.exports=r},function(t,e,n){function r(t,e){return null!=t&&(a.call(t,e)||"object"==typeof t&&e in t&&null===i(t))}var i=n(33),o=Object.prototype,a=o.hasOwnProperty;t.exports=r},function(t,e,n){function r(t,e,n,s,u){return t===e||(null==t||null==e||!o(t)&&!a(e)?t!==t&&e!==e:i(t,e,r,n,s,u))}var i=n(67),o=n(2),a=n(5);t.exports=r},function(t,e,n){function r(t){return"function"==typeof t?t:null==t?a:"object"==typeof t?s(t)?o(t[0],t[1]):i(t):u(t)}var i=n(72),o=n(73),a=n(122),s=n(1),u=n(126);t.exports=r},function(t,e){function n(t){return function(e){return null==e?void 0:e[t]}}t.exports=n},function(t,e,n){function r(t){return i(t)?t:o(t)}var i=n(1),o=n(118);t.exports=r},function(t,e,n){function r(t,e,n,r,u,c){var l=u&s,f=t.length,h=e.length;if(f!=h&&!(l&&h>f))return!1;var p=c.get(t);if(p&&c.get(e))return p==e;var d=-1,_=!0,v=u&a?new i:void 0;for(c.set(t,e),c.set(e,t);++d<f;){var y=t[d],g=e[d];if(r)var m=l?r(g,y,d,e,t,c):r(y,g,d,t,e,c);if(void 0!==m){if(m)continue;_=!1;break}if(v){if(!o(e,function(t,e){if(!v.has(e)&&(y===t||n(y,t,r,u,c)))return v.add(e)})){_=!1;break}}else if(y!==g&&!n(y,g,r,u,c)){_=!1;break}}return c.delete(t),c.delete(e),_}var i=n(56),o=n(61),a=1,s=2;t.exports=r},function(t,e){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(e,function(){return this}())},function(t,e,n){var r=n(38),i=Object.getPrototypeOf,o=r(i,Object);t.exports=o},function(t,e){function n(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(n){}return e}t.exports=n},function(t,e){function n(t,e){return e=null==e?r:e,!!e&&("number"==typeof t||i.test(t))&&t>-1&&t%1==0&&t<e}var r=9007199254740991,i=/^(?:0|[1-9]\d*)$/;t.exports=n},function(t,e,n){function r(t){return t===t&&!i(t)}var i=n(2);t.exports=r},function(t,e){function n(t,e){return function(n){return null!=n&&n[t]===e&&(void 0!==e||t in Object(n))}}t.exports=n},function(t,e){function n(t,e){return function(n){return t(e(n))}}t.exports=n},function(t,e){function n(t){if(null!=t){try{return r.call(t)}catch(e){}try{return t+""}catch(e){}}return""}var r=Function.prototype.toString;t.exports=n},function(t,e){function n(t,e){return t===e||t!==t&&e!==e}t.exports=n},function(t,e,n){function r(t){return i(t)&&s.call(t,"callee")&&(!c.call(t,"callee")||u.call(t)==o)}var i=n(123),o="[object Arguments]",a=Object.prototype,s=a.hasOwnProperty,u=a.toString,c=a.propertyIsEnumerable;t.exports=r},function(t,e,n){function r(t){return"string"==typeof t||!i(t)&&o(t)&&u.call(t)==a}var i=n(1),o=n(5),a="[object String]",s=Object.prototype,u=s.toString;t.exports=r},function(t,e,n){var r=n(70),i=n(78),o=n(109),a=o&&o.isTypedArray,s=a?i(a):r;t.exports=s},function(t,e,n){t.exports=n(132)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(15),o=r(i);e.calculateResponsiveState=o.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(50),o=r(i),a=n(51),s=r(a),u=n(21);Object.defineProperty(e,"CALCULATE_RESPONSIVE_STATE",{enumerable:!0,get:function(){return u.CALCULATE_RESPONSIVE_STATE}});var c=n(45);Object.defineProperty(e,"calculateResponsiveState",{enumerable:!0,get:function(){return c.calculateResponsiveState}});var l=o.default;e.createResponsiveStateReducer=l;var f=s.default;e.createResponsiveStoreEnhancer=f;var h=l();e.responsiveStateReducer=h;var p=f();e.responsiveStoreEnhancer=p},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(49),o=r(i),a=n(48),s=r(a);e.default=function(t,e){var n=e.throttleTime,r=e.calculateStateInitially,i=e.performanceMode;return"undefined"!=typeof window&&(i?(0,s.default)({store:t,window:window,calculateStateInitially:r}):(0,o.default)({store:t,window:window,throttleTime:n,calculateStateInitially:r})),t},t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(44),o=r(i),a=n(15),s=r(a);e.default=function(t){function e(){n.dispatch((0,s.default)(r))}var n=t.store,r=t.window,i=t.calculateStateInitially,a=n.getState(),u=Object.keys(a).reduce(function(t,e){return a[e]._responsiveState?e:t},!1);if(!u)throw new Error("Could not find responsive state reducer - Performance mode can only be used if the responsive reducer is at the root of your reducer tree.");var c=a[u].breakpoints,l=o.default.asObject(c),f=!0,h=!1,p=void 0;try{for(var d,_=Object.keys(l)[Symbol.iterator]();!(f=(d=_.next()).done);f=!0){var v=d.value,y=r.matchMedia(l[v]);y.addListener(function(t){t.matches&&e()})}}catch(g){h=!0,p=g}finally{try{!f&&_.return&&_.return()}finally{if(h)throw p}}i&&e()},t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(128),o=r(i),a=n(15),s=r(a);e.default=function(t){var e=t.store,n=t.window,r=t.throttleTime,i=t.calculateStateInitially,a=(0,o.default)(function(){return e.dispatch((0,s.default)(n))},r);i&&a(),n.addEventListener("resize",a)},t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e,n){return(0,f.default)(e,function(e,r,i){"number"==typeof r?e[i]=t<r&&i!==n:e[i]=!1})}function o(t,e){return(0,f.default)(e,function(e,n,r){"number"==typeof n?e[r]=t>n:e[r]=!1})}function a(t,e){return"undefined"==typeof t?y:(0,p.default)(e,function(e,n,r){return t(n).matches?r:e},y)}function s(t){if("undefined"==typeof t)return g;var e={portrait:"(orientation: portrait)",landscape:"(orientation: landscape)"};return(0,p.default)(e,function(e,n,r){return t(n).matches?r:e},g)}Object.defineProperty(e,"__esModule",{value:!0});var u=n(44),c=r(u),l=n(131),f=r(l),h=n(127),p=r(h),d=n(20),_=r(d),v={extraSmall:480,small:768,medium:992,large:1200},y="infinity",g=null;e.default=function(){var t=arguments.length<=0||void 0===arguments[0]?v:arguments[0];t[y]=1/0;var e=c.default.asObject(t);return function(n,r){var u=r.type,c=r.matchMedia,l=r.innerWidth,f=r.innerHeight;if(u===_.default||"undefined"==typeof n){var h=a(c,e),p=s(c);return{_responsiveState:!0,width:l,height:f,lessThan:i(l,t,h),greaterThan:o(l,t),mediaType:h,orientation:p,breakpoints:t}}return n}},t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(47),o=r(i);e.default=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=t.throttleTime,n=void 0===e?100:e,r=t.calculateStateInitially,i=void 0===r||r,a=t.performanceMode,s=void 0!==a&&a;return function(t){return function(){return(0,o.default)(t.apply(void 0,arguments),{throttleTime:n,calculateStateInitially:i,performanceMode:s})}}},t.exports=e.default},function(t,e,n){var r=n(4),i=n(3),o=r(i,"DataView");t.exports=o},function(t,e,n){function r(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}var i=n(89),o=n(90),a=n(91),s=n(92),u=n(93);r.prototype.clear=i,r.prototype.delete=o,r.prototype.get=a,r.prototype.has=s,r.prototype.set=u,t.exports=r},function(t,e,n){var r=n(4),i=n(3),o=r(i,"Promise");t.exports=o},function(t,e,n){var r=n(4),i=n(3),o=r(i,"Set");t.exports=o},function(t,e,n){function r(t){var e=-1,n=t?t.length:0;for(this.__data__=new i;++e<n;)this.add(t[e])}var i=n(17),o=n(110),a=n(111);r.prototype.add=r.prototype.push=o,r.prototype.has=a,t.exports=r},function(t,e,n){var r=n(3),i=r.Uint8Array;t.exports=i},function(t,e,n){var r=n(4),i=n(3),o=r(i,"WeakMap");t.exports=o},function(t,e){function n(t,e){for(var n=-1,r=t?t.length:0;++n<r&&e(t[n],n,t)!==!1;);return t}t.exports=n},function(t,e){function n(t,e,n,r){var i=-1,o=t?t.length:0;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}t.exports=n},function(t,e){function n(t,e){for(var n=-1,r=t?t.length:0;++n<r;)if(e(t[n],n,t))return!0;return!1}t.exports=n},function(t,e,n){function r(t){return i(t)?o(t):{}}var i=n(2),o=Object.create;t.exports=r},function(t,e,n){var r=n(24),i=n(80),o=i(r);t.exports=o},function(t,e,n){var r=n(81),i=r();t.exports=i},function(t,e){function n(t){return i.call(t)}var r=Object.prototype,i=r.toString;t.exports=n},function(t,e){function n(t,e){return null!=t&&e in Object(t)}t.exports=n},function(t,e,n){function r(t,e,n,r,v,g){var m=c(t),b=c(e),w=d,x=d;m||(w=u(t),w=w==p?_:w),b||(x=u(e),x=x==p?_:x);var S=w==_&&!l(t),k=x==_&&!l(e),T=w==x;if(T&&!S)return g||(g=new i),m||f(t)?o(t,e,n,r,v,g):a(t,e,w,n,r,v,g);if(!(v&h)){var O=S&&y.call(t,"__wrapped__"),E=k&&y.call(e,"__wrapped__");if(O||E){var P=O?t.value():t,A=E?e.value():e;return g||(g=new i),n(P,A,r,v,g)}}return!!T&&(g||(g=new i),s(t,e,n,r,v,g))}var i=n(22),o=n(31),a=n(82),s=n(83),u=n(86),c=n(1),l=n(34),f=n(43),h=2,p="[object Arguments]",d="[object Array]",_="[object Object]",v=Object.prototype,y=v.hasOwnProperty;t.exports=r},function(t,e,n){function r(t,e,n,r){var u=n.length,c=u,l=!r;if(null==t)return!c;for(t=Object(t);u--;){var f=n[u];if(l&&f[2]?f[1]!==t[f[0]]:!(f[0]in t))return!1}for(;++u<c;){f=n[u];var h=f[0],p=t[h],d=f[1];if(l&&f[2]){if(void 0===p&&!(h in t))return!1}else{var _=new i;if(r)var v=r(p,d,h,t,e,_);if(!(void 0===v?o(d,p,r,a|s,_):v))return!1}}return!0}var i=n(22),o=n(27),a=1,s=2;t.exports=r},function(t,e,n){function r(t){if(!s(t)||a(t))return!1;var e=i(t)||o(t)?d:l;return e.test(u(t))}var i=n(12),o=n(34),a=n(96),s=n(2),u=n(39),c=/[\\^$.*+?()[\]{}|]/g,l=/^\[object .+?Constructor\]$/,f=Object.prototype,h=Function.prototype.toString,p=f.hasOwnProperty,d=RegExp("^"+h.call(p).replace(c,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=r},function(t,e,n){function r(t){return o(t)&&i(t.length)&&!!C[j.call(t)]}var i=n(13),o=n(5),a="[object Arguments]",s="[object Array]",u="[object Boolean]",c="[object Date]",l="[object Error]",f="[object Function]",h="[object Map]",p="[object Number]",d="[object Object]",_="[object RegExp]",v="[object Set]",y="[object String]",g="[object WeakMap]",m="[object ArrayBuffer]",b="[object DataView]",w="[object Float32Array]",x="[object Float64Array]",S="[object Int8Array]",k="[object Int16Array]",T="[object Int32Array]",O="[object Uint8Array]",E="[object Uint8ClampedArray]",P="[object Uint16Array]",A="[object Uint32Array]",C={};C[w]=C[x]=C[S]=C[k]=C[T]=C[O]=C[E]=C[P]=C[A]=!0,C[a]=C[s]=C[m]=C[u]=C[b]=C[c]=C[l]=C[f]=C[h]=C[p]=C[d]=C[_]=C[v]=C[y]=C[g]=!1;var R=Object.prototype,j=R.toString;t.exports=r},function(t,e,n){var r=n(38),i=Object.keys,o=r(i,Object);t.exports=o},function(t,e,n){function r(t){var e=o(t);return 1==e.length&&e[0][2]?a(e[0][0],e[0][1]):function(n){return n===t||i(n,t,e)}}var i=n(68),o=n(85),a=n(37);t.exports=r},function(t,e,n){function r(t,e){return s(t)&&u(e)?c(l(t),e):function(n){var r=o(n,t);return void 0===r&&r===e?a(n,t):i(e,r,void 0,f|h)}}var i=n(27),o=n(120),a=n(121),s=n(9),u=n(36),c=n(37),l=n(11),f=1,h=2;t.exports=r},function(t,e,n){function r(t){return function(e){return i(e,t)}}var i=n(25);t.exports=r},function(t,e){function n(t,e,n,r,i){return i(t,function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)}),n}t.exports=n},function(t,e){function n(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}t.exports=n},function(t,e,n){function r(t){if("string"==typeof t)return t;if(o(t))return u?u.call(t):"";var e=t+"";return"0"==e&&1/t==-a?"-0":e}var i=n(23),o=n(14),a=1/0,s=i?i.prototype:void 0,u=s?s.toString:void 0;t.exports=r},function(t,e){function n(t){return function(e){return t(e)}}t.exports=n},function(t,e,n){var r=n(3),i=r["__core-js_shared__"];t.exports=i},function(t,e,n){function r(t,e){return function(n,r){if(null==n)return n;if(!i(n))return t(n,r);for(var o=n.length,a=e?o:-1,s=Object(n);(e?a--:++a<o)&&r(s[a],a,s)!==!1;);return n}}var i=n(18);t.exports=r},function(t,e){function n(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var u=a[t?s:++i];if(n(o[u],u,o)===!1)break}return e}}t.exports=n},function(t,e,n){function r(t,e,n,r,i,S,T){switch(n){case x:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case w:return!(t.byteLength!=e.byteLength||!r(new o(t),new o(e)));case h:case p:case v:return a(+t,+e);case d:return t.name==e.name&&t.message==e.message;case y:case m:return t==e+"";case _:var O=u;case g:var E=S&f;if(O||(O=c),t.size!=e.size&&!E)return!1;var P=T.get(t);if(P)return P==e;S|=l,T.set(t,e);var A=s(O(t),O(e),r,i,S,T);return T.delete(t),A;case b:if(k)return k.call(t)==k.call(e)}return!1}var i=n(23),o=n(57),a=n(40),s=n(31),u=n(108),c=n(112),l=1,f=2,h="[object Boolean]",p="[object Date]",d="[object Error]",_="[object Map]",v="[object Number]",y="[object RegExp]",g="[object Set]",m="[object String]",b="[object Symbol]",w="[object ArrayBuffer]",x="[object DataView]",S=i?i.prototype:void 0,k=S?S.valueOf:void 0;t.exports=r},function(t,e,n){function r(t,e,n,r,s,u){var c=s&a,l=o(t),f=l.length,h=o(e),p=h.length;if(f!=p&&!c)return!1;for(var d=f;d--;){var _=l[d];if(!(c?_ in e:i(e,_)))return!1}var v=u.get(t);if(v&&u.get(e))return v==e;var y=!0;u.set(t,e),u.set(e,t);for(var g=c;++d<f;){_=l[d];var m=t[_],b=e[_];if(r)var w=c?r(b,m,_,e,t,u):r(m,b,_,t,e,u);if(!(void 0===w?m===b||n(m,b,r,s,u):w)){y=!1;break}g||(g="constructor"==_)}if(y&&!g){var x=t.constructor,S=e.constructor;x!=S&&"constructor"in t&&"constructor"in e&&!("function"==typeof x&&x instanceof x&&"function"==typeof S&&S instanceof S)&&(y=!1)}return u.delete(t),u.delete(e),y}var i=n(26),o=n(19),a=2;t.exports=r},function(t,e,n){var r=n(29),i=r("length");t.exports=i},function(t,e,n){function r(t){for(var e=o(t),n=e.length;n--;){var r=e[n],a=t[r];e[n]=[r,a,i(a)]}return e}var i=n(36),o=n(19);t.exports=r},function(t,e,n){var r=n(52),i=n(16),o=n(54),a=n(55),s=n(58),u=n(65),c=n(39),l="[object Map]",f="[object Object]",h="[object Promise]",p="[object Set]",d="[object WeakMap]",_="[object DataView]",v=Object.prototype,y=v.toString,g=c(r),m=c(i),b=c(o),w=c(a),x=c(s),S=u;(r&&S(new r(new ArrayBuffer(1)))!=_||i&&S(new i)!=l||o&&S(o.resolve())!=h||a&&S(new a)!=p||s&&S(new s)!=d)&&(S=function(t){var e=y.call(t),n=e==f?t.constructor:void 0,r=n?c(n):void 0;if(r)switch(r){case g:return _;case m:return l;case b:return h;case w:return p;case x:return d}return e}),t.exports=S},function(t,e){function n(t,e){return null==t?void 0:t[e]}t.exports=n},function(t,e,n){function r(t,e,n){e=u(e,t)?[e]:i(e);for(var r,h=-1,p=e.length;++h<p;){var d=f(e[h]);if(!(r=null!=t&&n(t,d)))break;t=t[d]}if(r)return r;var p=t?t.length:0;return!!p&&c(p)&&s(d,p)&&(a(t)||l(t)||o(t))}var i=n(30),o=n(41),a=n(1),s=n(35),u=n(9),c=n(13),l=n(42),f=n(11);t.exports=r},function(t,e,n){function r(){this.__data__=i?i(null):{}}var i=n(10);t.exports=r},function(t,e){function n(t){return this.has(t)&&delete this.__data__[t]}t.exports=n},function(t,e,n){function r(t){var e=this.__data__;if(i){var n=e[t];return n===o?void 0:n}return s.call(e,t)?e[t]:void 0}var i=n(10),o="__lodash_hash_undefined__",a=Object.prototype,s=a.hasOwnProperty;t.exports=r},function(t,e,n){function r(t){var e=this.__data__;return i?void 0!==e[t]:a.call(e,t)}var i=n(10),o=Object.prototype,a=o.hasOwnProperty;t.exports=r},function(t,e,n){function r(t,e){var n=this.__data__;return n[t]=i&&void 0===e?o:e,this}var i=n(10),o="__lodash_hash_undefined__";t.exports=r},function(t,e,n){function r(t){var e=t?t.length:void 0;return s(e)&&(a(t)||u(t)||o(t))?i(e,String):null}var i=n(76),o=n(41),a=n(1),s=n(13),u=n(42);t.exports=r},function(t,e){function n(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}t.exports=n},function(t,e,n){function r(t){return!!o&&o in t}var i=n(79),o=function(){var t=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();t.exports=r},function(t,e){function n(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||r;return t===n}var r=Object.prototype;t.exports=n},function(t,e){function n(){this.__data__=[]}t.exports=n},function(t,e,n){function r(t){var e=this.__data__,n=i(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():a.call(e,n,1),!0}var i=n(7),o=Array.prototype,a=o.splice;t.exports=r},function(t,e,n){function r(t){var e=this.__data__,n=i(e,t);return n<0?void 0:e[n][1]}var i=n(7);t.exports=r},function(t,e,n){function r(t){return i(this.__data__,t)>-1}var i=n(7);t.exports=r},function(t,e,n){function r(t,e){var n=this.__data__,r=i(n,t);return r<0?n.push([t,e]):n[r][1]=e,this}var i=n(7);t.exports=r},function(t,e,n){function r(){this.__data__={hash:new i,map:new(a||o),string:new i}}var i=n(53),o=n(6),a=n(16);t.exports=r},function(t,e,n){function r(t){return i(this,t).delete(t)}var i=n(8);t.exports=r},function(t,e,n){function r(t){return i(this,t).get(t)}var i=n(8);t.exports=r},function(t,e,n){function r(t){return i(this,t).has(t)}var i=n(8);t.exports=r},function(t,e,n){function r(t,e){return i(this,t).set(t,e),this}var i=n(8);t.exports=r},function(t,e){function n(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}t.exports=n},function(t,e,n){(function(t){var r=n(32),i="object"==typeof e&&e&&!e.nodeType&&e,o=i&&"object"==typeof t&&t&&!t.nodeType&&t,a=o&&o.exports===i,s=a&&r.process,u=function(){try{return s&&s.binding("util")}catch(t){}}();t.exports=u}).call(e,n(133)(t))},function(t,e){function n(t){return this.__data__.set(t,r),this}var r="__lodash_hash_undefined__";t.exports=n},function(t,e){function n(t){return this.__data__.has(t)}t.exports=n},function(t,e){function n(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}t.exports=n},function(t,e,n){function r(){this.__data__=new i}var i=n(6);t.exports=r},function(t,e){function n(t){return this.__data__.delete(t)}t.exports=n},function(t,e){function n(t){return this.__data__.get(t)}t.exports=n},function(t,e){function n(t){return this.__data__.has(t)}t.exports=n},function(t,e,n){function r(t,e){var n=this.__data__;if(n instanceof i){var r=n.__data__;if(!o||r.length<s-1)return r.push([t,e]),this;n=this.__data__=new a(r)}return n.set(t,e),this}var i=n(6),o=n(16),a=n(17),s=200;t.exports=r},function(t,e,n){var r=n(124),i=n(130),o=/^\./,a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,s=/\\(\\)?/g,u=r(function(t){t=i(t);var e=[];return o.test(t)&&e.push(""),t.replace(a,function(t,n,r,i){e.push(r?i.replace(s,"$1"):n||t)}),e});t.exports=u},function(t,e,n){function r(t,e,n){function r(e){var n=g,r=m;return g=m=void 0,k=e,w=t.apply(r,n)}function l(t){return k=t,x=setTimeout(p,e),T?r(t):w}function f(t){var n=t-S,r=t-k,i=e-n;return O?c(i,b-r):i}function h(t){var n=t-S,r=t-k;return void 0===S||n>=e||n<0||O&&r>=b}function p(){var t=o();return h(t)?d(t):void(x=setTimeout(p,f(t)))}function d(t){return x=void 0,E&&g?r(t):(g=m=void 0,w)}function _(){void 0!==x&&clearTimeout(x),k=0,g=S=m=x=void 0}function v(){return void 0===x?w:d(o())}function y(){var t=o(),n=h(t);if(g=arguments,m=this,S=t,n){if(void 0===x)return l(S);if(O)return x=setTimeout(p,e),r(S)}return void 0===x&&(x=setTimeout(p,e)),w}var g,m,b,w,x,S,k=0,T=!1,O=!1,E=!0;if("function"!=typeof t)throw new TypeError(s);return e=a(e)||0,i(n)&&(T=!!n.leading,O="maxWait"in n,b=O?u(a(n.maxWait)||0,e):b,E="trailing"in n?!!n.trailing:E),y.cancel=_,y.flush=v,y}var i=n(2),o=n(125),a=n(129),s="Expected a function",u=Math.max,c=Math.min;t.exports=r},function(t,e,n){function r(t,e,n){var r=null==t?void 0:i(t,e);return void 0===r?n:r}var i=n(25);t.exports=r},function(t,e,n){function r(t,e){return null!=t&&o(t,e,i)}var i=n(66),o=n(88);t.exports=r},function(t,e){function n(t){return t}t.exports=n},function(t,e,n){function r(t){return o(t)&&i(t)}var i=n(18),o=n(5);t.exports=r},function(t,e,n){function r(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError(o);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a),a};return n.cache=new(r.Cache||i),n}var i=n(17),o="Expected a function";r.Cache=i,t.exports=r},function(t,e){function n(){return Date.now()}t.exports=n},function(t,e,n){function r(t){return a(t)?i(s(t)):o(t)}var i=n(29),o=n(74),a=n(9),s=n(11);t.exports=r},function(t,e,n){function r(t,e,n){var r=u(t)?i:s,c=arguments.length<3;return r(t,a(e,4),n,c,o)}var i=n(60),o=n(63),a=n(28),s=n(75),u=n(1);t.exports=r},function(t,e,n){function r(t,e,n){var r=!0,s=!0;if("function"!=typeof t)throw new TypeError(a);return o(n)&&(r="leading"in n?!!n.leading:r,s="trailing"in n?!!n.trailing:s),i(t,e,{leading:r,maxWait:e,trailing:s})}var i=n(119),o=n(2),a="Expected a function";t.exports=r},function(t,e,n){function r(t){if("number"==typeof t)return t;if(a(t))return s;if(o(t)){var e=i(t.valueOf)?t.valueOf():t;t=o(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(u,"");var n=l.test(t);return n||f.test(t)?h(t.slice(2),n?2:8):c.test(t)?s:+t}var i=n(12),o=n(2),a=n(14),s=NaN,u=/^\s+|\s+$/g,c=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,f=/^0o[0-7]+$/i,h=parseInt;t.exports=r},function(t,e,n){function r(t){return null==t?"":i(t)}var i=n(77);t.exports=r},function(t,e,n){function r(t,e,n){var r=c(t)||h(t);if(e=s(e,4),null==n)if(r||f(t)){var p=t.constructor;n=r?c(t)?new p:[]:l(p)?o(u(t)):{}}else n={};return(r?i:a)(t,function(t,r,i){return e(n,t,r,i)}),n}var i=n(59),o=n(62),a=n(24),s=n(28),u=n(33),c=n(1),l=n(12),f=n(2),h=n(43);t.exports=r},function(t,e,n){var r,i,o={asArray:function(t){var e=this.getBreakPoints(t),n=this.getCustomQueries(t);return this._translate(this._makeSteps(this._toSortedArray(e))).concat(this._objToArr(n))},asObject:function(t){return this._arrToObj(this.asArray(t))},getBreakPoints:function(t){return Object.keys(t).reduce(function(e,n){return"number"==typeof t[n]&&(e[n]=t[n]),e},{})},getCustomQueries:function(t){return Object.keys(t).reduce(function(e,n){return"string"==typeof t[n]&&(e[n]=t[n]),e},{})},_toSortedArray:function(t){return Object.keys(t).map(function(e){return[e,t[e]]}).sort(function(t,e){return t[1]-e[1]})},_makeSteps:function(t){return t[t.length-1][1]===1/0?t:t.concat([1/0])},_translate:function(t){return t.map(function(e,n){return 0===n?[e[0],"screen and (max-width: "+e[1]+"px)"]:n===t.length-1?[e[0]||"default","screen and (min-width: "+(t[n-1][1]+1)+"px)"]:[e[0],"screen and (min-width: "+(t[n-1][1]+1)+"px) and (max-width: "+e[1]+"px)"]})},_objToArr:function(t){return Object.keys(t).map(function(e){return[e,t[e]]})},_arrToObj:function(t){return t.reduce(function(t,e){return t[e[0]]=e[1],t},{})}};"undefined"!=typeof t&&"undefined"!=typeof t.exports?t.exports=o:(r=[],i=function(){return o}.apply(e,r),!(void 0!==i&&(t.exports=i)))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}}])},function(t,e){"use strict";function n(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];if(0===e.length)return function(t){return t};var r=function(){var t=e[e.length-1],n=e.slice(0,-1);return{v:function(){return n.reduceRight(function(t,e){return e(t)},t.apply(void 0,arguments))}}}();return"object"==typeof r?r.v:void 0}e.__esModule=!0,e.default=n},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e,n){function r(){y===v&&(y=v.slice())}function o(){return _}function s(t){if("function"!=typeof t)throw new Error("Expected listener to be a function.");var e=!0;return r(),y.push(t),function(){if(e){e=!1,r();var n=y.indexOf(t);y.splice(n,1)}}}function l(t){if(!(0,a.default)(t))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"==typeof t.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(g)throw new Error("Reducers may not dispatch actions.");try{g=!0,_=d(_,t)}finally{g=!1}for(var e=v=y,n=0;n<e.length;n++)e[n]();return t}function f(t){if("function"!=typeof t)throw new Error("Expected the nextReducer to be a function.");d=t,l({type:c.INIT})}function h(){var t,e=s;return t={subscribe:function(t){function n(){t.next&&t.next(o())}if("object"!=typeof t)throw new TypeError("Expected the observer to be an object.");n();var r=e(n);return{unsubscribe:r}}},t[u.default]=function(){return this},t}var p;if("function"==typeof e&&"undefined"==typeof n&&(n=e,e=void 0),"undefined"!=typeof n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(i)(t,e)}if("function"!=typeof t)throw new Error("Expected the reducer to be a function.");var d=t,_=e,v=[],y=v,g=!1;return l({type:c.INIT}),p={dispatch:l,subscribe:s,getState:o,replaceReducer:f},p[u.default]=h,p}e.__esModule=!0,e.ActionTypes=void 0,e.default=i;var o=n(80),a=r(o),s=n(394),u=r(s),c=e.ActionTypes={INIT:"@@redux/INIT"}},function(t,e){"use strict";function n(t){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(t);try{throw new Error(t)}catch(e){}}e.__esModule=!0,e.default=n},function(t,e,n){function r(t){if(t&&!u(t))throw new Error("Unknown encoding: "+t)}function i(t){return t.toString(this.encoding)}function o(t){this.charReceived=t.length%2,this.charLength=this.charReceived?2:0}function a(t){this.charReceived=t.length%3,this.charLength=this.charReceived?3:0}var s=n(28).Buffer,u=s.isEncoding||function(t){switch(t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},c=e.StringDecoder=function(t){switch(this.encoding=(t||"utf8").toLowerCase().replace(/[-_]/,""),r(t),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=o;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=a;break;default:return void(this.write=i)}this.charBuffer=new s(6),this.charReceived=0,this.charLength=0};c.prototype.write=function(t){for(var e="";this.charLength;){var n=t.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:t.length;if(t.copy(this.charBuffer,this.charReceived,0,n),this.charReceived+=n,this.charReceived<this.charLength)return"";t=t.slice(n,t.length),e=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var r=e.charCodeAt(e.length-1);if(!(r>=55296&&r<=56319)){if(this.charReceived=this.charLength=0,0===t.length)return e;break}this.charLength+=this.surrogateSize,e=""}this.detectIncompleteChar(t);var i=t.length;this.charLength&&(t.copy(this.charBuffer,0,t.length-this.charReceived,i),i-=this.charReceived),e+=t.toString(this.encoding,0,i);var i=e.length-1,r=e.charCodeAt(i);if(r>=55296&&r<=56319){var o=this.surrogateSize;return this.charLength+=o,this.charReceived+=o,this.charBuffer.copy(this.charBuffer,o,0,o),t.copy(this.charBuffer,0,0,o),e.substring(0,i)}return e},c.prototype.detectIncompleteChar=function(t){for(var e=t.length>=3?3:t.length;e>0;e--){var n=t[t.length-e];if(1==e&&n>>5==6){this.charLength=2;break}if(e<=2&&n>>4==14){this.charLength=3;break}if(e<=3&&n>>3==30){this.charLength=4;break}}this.charReceived=e},c.prototype.end=function(t){var e="";if(t&&t.length&&(e=this.write(t)),this.charReceived){var n=this.charReceived,r=this.charBuffer,i=this.encoding;e+=r.slice(0,n).toString(i)}return e}},,function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(){return a.default.createElement(s.Route,{path:"/",component:c.default},a.default.createElement(s.IndexRoute,{component:f.default}),a.default.createElement(s.Route,{path:"tour",component:p.default}))}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var o=n(2),a=r(o),s=n(27),u=n(243),c=r(u),l=n(244),f=r(l),h=n(245),p=r(h)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=t.initialState,n=void 0===e?{}:e,r=t.browserHistory,i=void 0===r?{}:r,a=[];a.push(s.default,(0,_.default)({promiseTypeSuffixes:["START","SUCCESS","ERROR"]}),(0,h.routerMiddleware)(i)),v&&a.push((0,f.default)());var u=v?(0,o.compose)(p.responsiveStoreEnhancer,o.applyMiddleware.apply(void 0,a),window.devToolsExtension()):(0,o.compose)(p.responsiveStoreEnhancer,o.applyMiddleware.apply(void 0,a)),l=u(o.createStore)(c.default,n);return l}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var o=n(106),a=n(389),s=r(a),u=n(248),c=r(u),l=n(386),f=r(l),h=n(69),p=n(178),d=n(387),_=r(d),v={APP_DOMAIN:"/alhambra/08",ASSETS_DIR:"https://storage.googleapis.com/samrad-alhambra/www-assets/",REMOTE_ASSETS_DIR:"https://storage.googleapis.com/samrad-alhambra/www-assets/"}.DEV},function(t,e){},function(t,e,n){var r;!function(){"use strict";/**
		 * @preserve FastClick: polyfill to remove click delays on browsers with touch UIs.
		 *
		 * @codingstandard ftlabs-jsv2
		 * @copyright The Financial Times Limited [All Rights Reserved]
		 * @license MIT License (see LICENSE.txt)
		 */
function i(t,e){function n(t,e){return function(){return t.apply(e,arguments)}}var r;if(e=e||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=e.touchBoundary||10,this.layer=t,this.tapDelay=e.tapDelay||200,this.tapTimeout=e.tapTimeout||700,!i.notNeeded(t)){for(var o=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],s=this,u=0,c=o.length;u<c;u++)s[o[u]]=n(s[o[u]],s);a&&(t.addEventListener("mouseover",this.onMouse,!0),t.addEventListener("mousedown",this.onMouse,!0),t.addEventListener("mouseup",this.onMouse,!0)),t.addEventListener("click",this.onClick,!0),t.addEventListener("touchstart",this.onTouchStart,!1),t.addEventListener("touchmove",this.onTouchMove,!1),t.addEventListener("touchend",this.onTouchEnd,!1),t.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(t.removeEventListener=function(e,n,r){var i=Node.prototype.removeEventListener;"click"===e?i.call(t,e,n.hijacked||n,r):i.call(t,e,n,r)},t.addEventListener=function(e,n,r){var i=Node.prototype.addEventListener;"click"===e?i.call(t,e,n.hijacked||(n.hijacked=function(t){t.propagationStopped||n(t)}),r):i.call(t,e,n,r)}),"function"==typeof t.onclick&&(r=t.onclick,t.addEventListener("click",function(t){r(t)},!1),t.onclick=null)}}var o=navigator.userAgent.indexOf("Windows Phone")>=0,a=navigator.userAgent.indexOf("Android")>0&&!o,s=/iP(ad|hone|od)/.test(navigator.userAgent)&&!o,u=s&&/OS 4_\d(_\d)?/.test(navigator.userAgent),c=s&&/OS [6-7]_\d/.test(navigator.userAgent),l=navigator.userAgent.indexOf("BB10")>0;i.prototype.needsClick=function(t){switch(t.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(t.disabled)return!0;break;case"input":if(s&&"file"===t.type||t.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(t.className)},i.prototype.needsFocus=function(t){switch(t.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!a;case"input":switch(t.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!t.disabled&&!t.readOnly;default:return/\bneedsfocus\b/.test(t.className)}},i.prototype.sendClick=function(t,e){var n,r;document.activeElement&&document.activeElement!==t&&document.activeElement.blur(),r=e.changedTouches[0],n=document.createEvent("MouseEvents"),n.initMouseEvent(this.determineEventType(t),!0,!0,window,1,r.screenX,r.screenY,r.clientX,r.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,t.dispatchEvent(n)},i.prototype.determineEventType=function(t){return a&&"select"===t.tagName.toLowerCase()?"mousedown":"click"},i.prototype.focus=function(t){var e;s&&t.setSelectionRange&&0!==t.type.indexOf("date")&&"time"!==t.type&&"month"!==t.type?(e=t.value.length,t.setSelectionRange(e,e)):t.focus()},i.prototype.updateScrollParent=function(t){var e,n;if(e=t.fastClickScrollParent,!e||!e.contains(t)){n=t;do{if(n.scrollHeight>n.offsetHeight){e=n,t.fastClickScrollParent=n;break}n=n.parentElement}while(n)}e&&(e.fastClickLastScrollTop=e.scrollTop)},i.prototype.getTargetElementFromEventTarget=function(t){return t.nodeType===Node.TEXT_NODE?t.parentNode:t},i.prototype.onTouchStart=function(t){var e,n,r;if(t.targetTouches.length>1)return!0;if(e=this.getTargetElementFromEventTarget(t.target),n=t.targetTouches[0],s){if(r=window.getSelection(),r.rangeCount&&!r.isCollapsed)return!0;if(!u){if(n.identifier&&n.identifier===this.lastTouchIdentifier)return t.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(e)}}return this.trackingClick=!0,this.trackingClickStart=t.timeStamp,this.targetElement=e,this.touchStartX=n.pageX,this.touchStartY=n.pageY,t.timeStamp-this.lastClickTime<this.tapDelay&&t.preventDefault(),!0},i.prototype.touchHasMoved=function(t){var e=t.changedTouches[0],n=this.touchBoundary;return Math.abs(e.pageX-this.touchStartX)>n||Math.abs(e.pageY-this.touchStartY)>n},i.prototype.onTouchMove=function(t){return!this.trackingClick||((this.targetElement!==this.getTargetElementFromEventTarget(t.target)||this.touchHasMoved(t))&&(this.trackingClick=!1,this.targetElement=null),!0)},i.prototype.findControl=function(t){return void 0!==t.control?t.control:t.htmlFor?document.getElementById(t.htmlFor):t.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},i.prototype.onTouchEnd=function(t){var e,n,r,i,o,l=this.targetElement;if(!this.trackingClick)return!0;if(t.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(t.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=t.timeStamp,n=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,c&&(o=t.changedTouches[0],l=document.elementFromPoint(o.pageX-window.pageXOffset,o.pageY-window.pageYOffset)||l,l.fastClickScrollParent=this.targetElement.fastClickScrollParent),r=l.tagName.toLowerCase(),"label"===r){if(e=this.findControl(l)){if(this.focus(l),a)return!1;l=e}}else if(this.needsFocus(l))return t.timeStamp-n>100||s&&window.top!==window&&"input"===r?(this.targetElement=null,!1):(this.focus(l),this.sendClick(l,t),s&&"select"===r||(this.targetElement=null,t.preventDefault()),!1);return!(!s||u||(i=l.fastClickScrollParent,!i||i.fastClickLastScrollTop===i.scrollTop))||(this.needsClick(l)||(t.preventDefault(),this.sendClick(l,t)),!1)},i.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},i.prototype.onMouse=function(t){return!this.targetElement||(!!t.forwardedTouchEvent||(!t.cancelable||(!(!this.needsClick(this.targetElement)||this.cancelNextClick)||(t.stopImmediatePropagation?t.stopImmediatePropagation():t.propagationStopped=!0,t.stopPropagation(),t.preventDefault(),!1))))},i.prototype.onClick=function(t){var e;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===t.target.type&&0===t.detail||(e=this.onMouse(t),e||(this.targetElement=null),e)},i.prototype.destroy=function(){var t=this.layer;a&&(t.removeEventListener("mouseover",this.onMouse,!0),t.removeEventListener("mousedown",this.onMouse,!0),t.removeEventListener("mouseup",this.onMouse,!0)),t.removeEventListener("click",this.onClick,!0),t.removeEventListener("touchstart",this.onTouchStart,!1),t.removeEventListener("touchmove",this.onTouchMove,!1),t.removeEventListener("touchend",this.onTouchEnd,!1),t.removeEventListener("touchcancel",this.onTouchCancel,!1)},i.notNeeded=function(t){var e,n,r,i;if("undefined"==typeof window.ontouchstart)return!0;if(n=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!a)return!0;if(e=document.querySelector("meta[name=viewport]")){if(e.content.indexOf("user-scalable=no")!==-1)return!0;if(n>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(l&&(r=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),r[1]>=10&&r[2]>=3&&(e=document.querySelector("meta[name=viewport]")))){if(e.content.indexOf("user-scalable=no")!==-1)return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===t.style.msTouchAction||"manipulation"===t.style.touchAction||(i=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1],!!(i>=27&&(e=document.querySelector("meta[name=viewport]"),e&&(e.content.indexOf("user-scalable=no")!==-1||document.documentElement.scrollWidth<=window.outerWidth)))||("none"===t.style.touchAction||"manipulation"===t.style.touchAction))},i.attach=function(t,e){return new i(t,e)},r=function(){return i}.call(e,n,e,t),!(void 0!==r&&(t.exports=r))}()},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var i=n(32),o=r(i),a=n(127),s=r(a),u=n(124),c=r(u);e.createHistory=c.default;var l=n(77),f=r(l);e.createHashHistory=f.default;var h=n(128),p=r(h);e.createMemoryHistory=p.default;var d=n(79),_=r(d);e.useBasename=_.default;var v=n(129),y=r(v);e.useBeforeUnload=y.default;var g=n(39),m=r(g);e.useQueries=m.default;var b=n(30),w=r(b);e.Actions=w.default;var x=n(278),S=r(x);e.enableBeforeUnload=S.default;var k=n(279),T=r(k);e.enableQueries=T.default;var O=o.default(s.default,"Using createLocation without a history instance is deprecated; please use history.createLocation instead");e.createLocation=O},function(t,e){"use strict";t.exports=function(){try{return!!new Blob}catch(t){return!1}}()},[403,108,192],[404,190,109],[405,108,189,109],function(t,e,n){function r(){return[].slice.call(arguments).join("//")}function i(){return[].slice.call(arguments).map(function(t){return"object"==typeof t?JSON.stringify(t):t}).join("//")}function o(t,e,n,r){var i=1;if(/^\d+$/.test(t))return void(e[t]={});var o=t.match(d)||0;o&&(o=o&&parseInt(o[1],10),i=o+1,t=t.replace(d,""));var a=t.match(_)||0;a&&(a=a&&parseInt(a[1],10),n=a-1,t=t.replace(_,""));var s=h(i,n);if(t&&"*"!==t){if("odd"===t||"even"===t){var u="even"===t?0:1;p(s,2,u).forEach(function(t){e[t]={}})}else if("string"==typeof t&&~t.indexOf("%")){var c=t.split("%"),l=c[0]&&parseInt(c[0],10)||1,v=parseInt(c[1],10);f(o,n,l,v).forEach(function(t){e[t]={}})}else if("function"==typeof r){var y=r(t,i,n);Array.isArray(y)&&y.forEach(function(t){e[t]={}})}}else s.forEach(function(t){e[t]={}})}function a(t){var e=[];return Object.keys(t).forEach(function(n){Object.keys(t[n]).forEach(function(r){Object.keys(t[n][r]).forEach(function(t){t=t<10?"0"+t:t,e.push([n,r,t].join("."))})})}),e}function s(t,e){if(!t)throw new Error('Invalid "notes" array');if(!e||"object"!=typeof e)throw new Error('Invalid "options" object');if("number"!=typeof e.beatsPerBar||e.beatsPerBar<0)throw new Error("Invalid options: beatsPerBar is not a valid number");if("number"!=typeof e.barsPerLoop||e.barsPerLoop<0)throw new Error("Invalid options: barsPerLoop is not a valid number");var n=[];return t.forEach(function(t){var r=t[0];return c(r)?n.push(t):void v(r,e.barsPerLoop,e.beatsPerBar,e.expander).forEach(function(e){var r=t.slice();r[0]=e,n.push(r)})}),n}var u=n(71),c=u(function(t){return!!t.match(/^\d+\.\d+\.\d+$/)}),l=u(function(t){return t.split(".").map(function(t){var e=parseInt(t,10);return t.match(/^\d+$/)&&!isNaN(e)?e:t})}),f=u(function(t,e,n,r){for(var i=[];n<=e;)n>t&&i.push(n),n+=r;return i},i),h=u(function(t,e){for(var n=[],r=t;r<=e;)n.push(r),r++;return n},r),p=u(function(t,e,n){return t.filter(function(t){return t%e===n})},r),d=/>(\d+)/,_=/<(\d+)/,v=u(function(t,e,n,r){var i=l(t),s={};return o(i[0],s,e,r),Object.keys(s).forEach(function(t){o(i[1],s[t],n,r),Object.keys(s[t]).forEach(function(e){o(i[2],s[t][e],96,r)})}),a(s)},r);t.exports=s},function(t,e,n){function r(t,e){if(!(this instanceof r))return new r(t,e);if(!t||"object"!=typeof t||"function"!=typeof t.createScriptProcessor)throw new Error("Invalid arguments: cannot init without AudioContext");i.EventEmitter.call(this),e=e||{},this.context=t,this.clock=a(this.context),this.scheduler=s(),this.expressions=u,this.expandNote=e.expandNote,this.upstartWait=e.upstartWait||250,this.setTempo(e.tempo||120),this.setBeatsPerBar(e.beatsPerBar||4),this.setLoopLength(e.loopLength||2),this._position="0.0.00",this.clock.on("data",this.updatePositionFromClock.bind(this)),this.clock.pipe(this.scheduler).on("data",this.emitStep.bind(this)),this._keepAlive=this._keepAlive.bind(this)}var i=n(29),o=n(107).inherits,a=n(196),s=n(197),u=n(193),c=n(71),l=n(111),f=n(195),h=(new Date).valueOf(),p="//";o(r,i.EventEmitter);var d=r.prototype;d.updatePositionFromClock=function(t){var e=this.getPositionFromTime(t.time);this._position!==e&&(this._position=e,this.emit("tick",{position:this._position,context:this.context}))},d.getPositionFromTime=function(t){var e=this.clock._state.cycleLength*this.clock._state.preCycle*1,n=this.clock.getPositionAt(t-e);return this.getPositionFromClockPosition(n)},d.getPositionFromClockPosition=function(t){if(l.number("clockPosition",t),t<0)return"0.0.00";var e=this._loopLength*this._beatsPerBar,n=Math.floor(t/e)||0;t-=n*e;var r=Math.floor(t/this._beatsPerBar);t-=r*this._beatsPerBar;var i=Math.floor(t);t-=i;var o=Math.floor(96*t)+1;return o<10&&(o="0"+o),r+1+"."+(i+1)+"."+o},d.getClockPositionFromPosition=c(function(t,e){var n=t.split("."),r=parseInt(n[0],10)-1,i=parseInt(n[1],10)-1,o=parseInt(n[2],10)-1;return r*e+i+o/96},function(t,e){return t+p+e}),d.getPositionWithOffset=function(t,e){return this.getPositionWithOffsetAndBeatsPerBar(t,e,this.beatsPerBar())},d.getPositionWithOffsetAndBeatsPerBar=c(function(t,e,n){if(!l.positionString(t))throw new Error("Invalid argument: position is not a valid position string");if("number"!=typeof e||isNaN(e)||e%1!==0)throw new Error("Invalid argument: offset is not a valid number");if(!e)return t;var r=this.getClockPositionFromPosition(t,n),i=e/96;return this.getPositionFromClockPosition(r+i)},function(t,e){return t+p+e}),d.getDurationFromTicks=function(t){return l.positiveNumber("ticks",t),1/96*t},d.emitStep=function(t){var e=t.offset=this.clock._state.cycleLength*this.clock._state.preCycle*1,n=t.args;t.time=t.time+e,t.clockPosition=t.position,t.position="start"===t.event?n.position:n.duration?this.getPositionWithOffsetAndBeatsPerBar(n.position,n.duration,this.beatsPerBar()):n.position,"stop"===t.event&&t.position===n.position||(t.context=this.context,this.emit("step",t))},d.notesForSet=c(function(t,e,n,r){var i=this;e.forEach(function(t,n){!Array.isArray(t)&&"object"==typeof t&&t.position&&(e[n]=[t.position,t])}),e=i.expressions(e,{beatsPerBar:n,barsPerLoop:r});var o=!1;return e.forEach(function(t,a){if(f.isPositionWithinBounds(t[0],r,n)){i.expandNote&&(t=i.expandNote(t));var s=f.normalizeNote(t);e[a]=[i.getClockPositionFromPosition(s.position,n),i.getDurationFromTicks(s.duration||0),null,null,s]}else e[a]=null,o=!0}),o?e.filter(function(t){return!!t}):e},function(t,e,n,r){return t+p+JSON.stringify(e)+p+n+p+r}),d.set=function(t,e){if("string"!=typeof t)throw new Error("Invalid argument: id is not a valid string");if(!e||!Array.isArray(e))throw new Error("Invalid argument: notes is not a valid array");this.scheduler.set(t,this.notesForSet(t,e,this.beatsPerBar(),this.loopLength()),this.beatsPerBar()*this.loopLength())},d.get=function(t){if("string"!=typeof t)throw new Error("Invalid argument: id is not a valid string");return(this.scheduler.get(t)||[]).map(function(t){return t[4]})},d.channels=function(){return this.scheduler.getIds()},d.clear=function(t){var e=this;if(t){if("string"!=typeof t)throw new Error("Invalid argument: id is not a valid string");this.set(t,[])}else this.scheduler.getIds().forEach(function(t){e.clear(t)})},d._keepAlive=function(){this.clock._state.playing&&(window.__lastDillaPosition=this._position,setTimeout(window.requestAnimationFrame.bind(null,this._keepAlive),100))},d.start=function _(){var t=(new Date).valueOf(),e=t-h;return e<this.upstartWait?setTimeout(_.bind(this),this.upstartWait-e):void(this.clock._state.playing||(this.clock.start(),this._keepAlive(),this.emit("playing")))},d.pause=function(){this.clock._state.playing&&(this.clock.stop(),this.emit("paused"))},d.stop=function(){this.clock._state.playing&&(this.clock.stop(),this.emit("paused"),this.clock.setPosition(0),this._position="0.0.00")},d.position=function(){return this._position},d.setPosition=function(t){if(!f.isPositionWithinBounds(t,this.loopLength(),this.beatsPerBar()))throw new Error("Invalid argument: position is not valid");this._position=t,this.clock.setPosition(this.getClockPositionFromPosition(t,this.beatsPerBar()))},d.tempo=function(){return this.clock.getTempo()},d.setTempo=function(t){if("number"!=typeof t||t<0||isNaN(t))throw new Error("Invalid argument: tempo is not a valid number");this.clock.setTempo(t)},d.beatsPerBar=function(){return this._beatsPerBar},d.setBeatsPerBar=function(t){l.positiveNumber("beats",t),this._beatsPerBar=t},d.loopLength=function(){return this._loopLength},d.setLoopLength=function(t){l.positiveNumber("bars",t),this._loopLength=t},t.exports=r},function(t,e,n){var r=n(111),i=n(71),o={normalizeNote:i(function(t){if(!t||!Array.isArray(t))throw new Error("Invalid argument: note params is not valid array");var e="object"==typeof t[1]?t[1]:"object"==typeof t[0]?t[0]:{position:""},n="string"==typeof t[0]&&r.positionString(t[0])?t[0]:"string"==typeof e.position&&r.positionString(e.position)?e.position:null;if(!n)throw new Error("Invalid argument: position is not valid");return e.position=n,e},function(t){return JSON.stringify(t)}),isPositionWithinBounds:i(function(t,e,n){if(!r.positionString(t))return!1;var i=t.split("."),o=parseInt(i[0],10)-1,a=parseInt(i[1],10)-1,s=parseInt(i[2],10)-1;return!(s<0||a<0||o<0||s>=96||a>=n||o>=e)},function(t,e,n){return t+"//"+e+"//"+n})};t.exports=o},function(t,e,n){function r(t){if(!(this instanceof r))return new r(t);var e=this;o.call(this),this.readable=!0,this.writable=!1,this.context=t;var n=this._processor=t.createScriptProcessor(512,1,1),s=i.bind(this);this._processor.onaudioprocess=s;var u=120,c=1/t.sampleRate*this._processor.bufferSize;this._state={lastTo:0,lastEndTime:0,playing:!1,bpm:u,beatDuration:60/u,increment:u/60*c,cycleLength:c,preCycle:4},this.onSchedule=a(function(t){e.on("data",t)}),n.connect(t.destination)}function i(t){var e=this._state;this.schedule(e.cycleLength*e.preCycle)}var o=n(50),a=n(201),s=n(107).inherits;t.exports=r,s(r,o);var u=r.prototype;u.start=function(){this._state.playing=!0,this.emit("start")},u.stop=function(){this._state.playing=!1,this.emit("stop")},u.schedule=function(t){var e=this._state,n=(this.context.currentTime,this.context.currentTime+t),r=e.lastEndTime;if(n>=r&&(e.lastEndTime=n,e.playing)){var t=n-r,i=t/e.beatDuration,o=e.lastTo,a=o+i;e.lastTo=a,this._schedule(r,o,a)}},u.setTempo=function(t){var e=t/60,n=this._state;n.beatDuration=60/t,n.increment=e*n.cycleLength,n.bpm=t,this.emit("tempo",n.bpm)},u.getTempo=function(){return this._state.bpm},u.isPlaying=function(){return this._state.playing},u.setPosition=function(t){this._state.lastTo=parseFloat(t)},u.setSpeed=function(t){var e=this._state;t=parseFloat(t)||0;var n=e.bpm*t,r=n/60;e.beatDuration=60/n,e.increment=r*e.cycleLength},u.getPositionAt=function(t){var e=this._state,n=e.lastEndTime-t;return e.lastTo-n/e.beatDuration},u.getTimeAt=function(t){var e=this._state,n=this.getCurrentPosition()-t;return this.context.currentTime-n*e.beatDuration},u.getCurrentPosition=function(){return this.getPositionAt(this.context.currentTime)},u.getNextScheduleTime=function(){var t=this._state;return t.lastEndTime},u.getBeatDuration=function(){var t=this._state;return t.beatDuration};var c={from:0,to:0,time:0,duration:0,beatDuration:0};u._schedule=function(t,e,n){var r=this._state,i=(n-e)*r.beatDuration;c.from=e,c.to=n,c.time=t,c.duration=i,c.beatDuration=r.beatDuration,this.emit("data",c)}},function(t,e,n){function r(){return this instanceof r?(a.call(this),this.readable=!0,this.writable=!0,void(this._state={loops:{},lengths:{},ids:[],queue:[]})):new r}function i(t,e,n){var r=t%n,i=e%n,o=e+r-i;return o<e?o+n:o}function o(t,e){return!("stop"!==t.event||e&&e.length)}t.exports=r;var a=n(50),s=n(107).inherits;s(r,a);var u=r.prototype;u.set=function(t,e,n){var r=this._state;if(e)r.loops[t]||r.ids.push(t),r.loops[t]=e,r.lengths[t]=n||8;else{var i=r.ids.indexOf(t);~i&&r.ids.splice(i,1),r.loops[t]=null}r.loops[t]?this.emit("change",{id:t,events:r.loops[t],length:r.lengths[t]}):this.emit("change",{id:t})},u.get=function(t){return this._state.loops[t]},u.getLength=function(t){return this._state.lengths[t]},u.getIds=function(){return this._state.ids},u.getDescriptors=function(){for(var t,e=this._state,n=[],r=0,i=e.ids.length;r<i;r++)t=e.ids[r],e.loops[t]&&n.push({id:t,length:e.lengths[t],events:e.loops[t]});return n},u.update=function(t){this.set(t.id,t.events,t.length)},u.push=function(t){this.emit("data",t)},u.write=function(t){this._transform(t)},u._updateItemProperties=function(t,e,n){var r=this._state,i=n.from,a=n.to,s=n.time,u=(n.time+n.duration,n.beatDuration),c=r.queue;if(a>e.position||o(e,r.loops[e.id])){if(a>e.position){var l=(e.position-i)*u;e.time=s+l}else e.time=s,e.position=i;c.splice(t,1),this.push(e)}},u._queueEvent=function(t,e,n,r,o){var a=o.from,s=o.to,u=o.time,c=o.beatDuration,l=i(t[0],a,r),f=l+t[1];if(l>=a&&l<s){var h=(l-a)*c,p=t[1]*c,d=u+h,_=d+p;n.push({id:e,event:"start",position:l,args:t[4],time:d}),p&&n.push({id:e,event:"stop",position:f,args:t[4],time:_})}},u._transform=function(t){for(var e,n,r,i,o=window.performance.now(),a=(o+5e3*t.duration,this._state),s=(t.from,t.to,t.time,t.time+t.duration),u=(t.beatDuration,a.ids),c=a.queue,l=[],f=c.length-1;f>=0;f--)this._updateItemProperties(f,c[f],t);for(var h=0,p=u.length;h<p;h++){e=u[h],n=a.loops[e],r=a.lengths[e];for(var d=0,_=n.length;d<_;d++)this._queueEvent(n[d],e,l,r,t)}for(var v=0,y=l.length;v<y;v++)i=l[v],i.time<s?this.push(i):c.push(i)}},function(t,e,n){function r(t,e,n){if(!s(e))throw new TypeError("iterator must be a function");arguments.length<3&&(n=this),"[object Array]"===u.call(t)?i(t,e,n):"string"==typeof t?o(t,e,n):a(t,e,n)}function i(t,e,n){for(var r=0,i=t.length;r<i;r++)c.call(t,r)&&e.call(n,t[r],r,t)}function o(t,e,n){for(var r=0,i=t.length;r<i;r++)e.call(n,t.charAt(r),r,t)}function a(t,e,n){for(var r in t)c.call(t,r)&&e.call(n,t[r],r,t)}var s=n(113);t.exports=r;var u=Object.prototype.toString,c=Object.prototype.hasOwnProperty},function(t,e,n){var r,i;!function(n,o){"use strict";function a(){}a.TO_RAD=Math.PI/180,a.TO_DEG=180/Math.PI,a.PI_X2=2*Math.PI,a.PI_DIV4=Math.PI/4;var s=Object.create(a.prototype,{version:{value:"2.0.21"},radius:{value:6378137},minLat:{value:-90},maxLat:{value:90},minLon:{value:-180},maxLon:{value:180},sexagesimalPattern:{value:/^([0-9]{1,3})\s*([0-9]{1,3}(?:\.(?:[0-9]{1,2}))?)'\s*(([0-9]{1,3}(\.([0-9]{1,4}))?)"\s*)?([NEOSW]?)$/},measures:{value:Object.create(Object.prototype,{m:{value:1},km:{value:.001},cm:{value:100},mm:{value:1e3},mi:{value:1/1609.344},sm:{value:1/1852.216},ft:{value:100/30.48},"in":{value:100/2.54},yd:{value:1/.9144}})},prototype:{value:a.prototype},extend:{value:function(t,e){for(var n in t)"undefined"!=typeof s.prototype[n]&&e!==!0||("function"==typeof t[n]&&"function"==typeof t[n].bind?s.prototype[n]=t[n].bind(s):s.prototype[n]=t[n])}}});"undefined"==typeof Number.prototype.toRad&&(Number.prototype.toRad=function(){return this*a.TO_RAD}),"undefined"==typeof Number.prototype.toDeg&&(Number.prototype.toDeg=function(){return this*a.TO_DEG}),s.extend({decimal:{},sexagesimal:{},distance:null,getKeys:function(t){if("[object Array]"==Object.prototype.toString.call(t))return{longitude:t.length>=1?0:o,latitude:t.length>=2?1:o,elevation:t.length>=3?2:o};var e=function(e){var n;return e.every(function(e){return"object"!=typeof t||(!t.hasOwnProperty(e)||function(){return n=e,!1}())}),n},n=e(["lng","lon","longitude"]),r=e(["lat","latitude"]),i=e(["alt","altitude","elevation","elev"]);return"undefined"==typeof r&&"undefined"==typeof n&&"undefined"==typeof i?o:{latitude:r,longitude:n,elevation:i}},getLat:function(t,e){return e===!0?t[this.getKeys(t).latitude]:this.useDecimal(t[this.getKeys(t).latitude])},latitude:function(t){return this.getLat.call(this,t)},getLon:function(t,e){return e===!0?t[this.getKeys(t).longitude]:this.useDecimal(t[this.getKeys(t).longitude])},longitude:function(t){return this.getLon.call(this,t)},getElev:function(t){return t[this.getKeys(t).elevation]},elevation:function(t){return this.getElev.call(this,t)},coords:function(t,e){var n={latitude:e===!0?t[this.getKeys(t).latitude]:this.useDecimal(t[this.getKeys(t).latitude]),longitude:e===!0?t[this.getKeys(t).longitude]:this.useDecimal(t[this.getKeys(t).longitude])},r=t[this.getKeys(t).elevation];return"undefined"!=typeof r&&(n.elevation=r),n},ll:function(t,e){return this.coords.call(this,t,e)},validate:function(t){var e=this.getKeys(t);if("undefined"==typeof e||"undefined"==typeof e.latitude||"undefined"===e.longitude)return!1;var n=t[e.latitude],r=t[e.longitude];return!("undefined"==typeof n||!this.isDecimal(n)&&!this.isSexagesimal(n))&&(!("undefined"==typeof r||!this.isDecimal(r)&&!this.isSexagesimal(r))&&(n=this.useDecimal(n),r=this.useDecimal(r),!(n<this.minLat||n>this.maxLat||r<this.minLon||r>this.maxLon)))},getDistance:function(t,e,n,r){n=Math.floor(n)||1,r=Math.floor(r)||0;var i,o,a,u,c,l,f,h=this.coords(t),p=this.coords(e),d=6378137,_=6356752.314245,v=1/298.257223563,y=(p.longitude-h.longitude).toRad(),g=Math.atan((1-v)*Math.tan(parseFloat(h.latitude).toRad())),m=Math.atan((1-v)*Math.tan(parseFloat(p.latitude).toRad())),b=Math.sin(g),w=Math.cos(g),x=Math.sin(m),S=Math.cos(m),k=y,T=100;do{var O=Math.sin(k),E=Math.cos(k);if(l=Math.sqrt(S*O*(S*O)+(w*x-b*S*E)*(w*x-b*S*E)),0===l)return s.distance=0;i=b*x+w*S*E,o=Math.atan2(l,i),a=w*S*O/l,u=1-a*a,c=i-2*b*x/u,isNaN(c)&&(c=0);var P=v/16*u*(4+v*(4-3*u));f=k,k=y+(1-P)*v*a*(o+P*l*(c+P*i*(-1+2*c*c)))}while(Math.abs(k-f)>1e-12&&--T>0);if(0===T)return NaN;var A=u*(d*d-_*_)/(_*_),C=1+A/16384*(4096+A*(-768+A*(320-175*A))),R=A/1024*(256+A*(-128+A*(74-47*A))),j=R*l*(c+R/4*(i*(-1+2*c*c)-R/6*c*(-3+4*l*l)*(-3+4*c*c))),M=_*C*(o-j);if(M=M.toFixed(r),"undefined"!=typeof this.elevation(t)&&"undefined"!=typeof this.elevation(e)){var I=Math.abs(this.elevation(t)-this.elevation(e));M=Math.sqrt(M*M+I*I)}return this.distance=parseFloat((Math.round(M/n)*n).toFixed(r))},getDistanceSimple:function(t,e,n){n=Math.floor(n)||1;var r=Math.round(Math.acos(Math.sin(this.latitude(e).toRad())*Math.sin(this.latitude(t).toRad())+Math.cos(this.latitude(e).toRad())*Math.cos(this.latitude(t).toRad())*Math.cos(this.longitude(t).toRad()-this.longitude(e).toRad()))*this.radius);return s.distance=Math.floor(Math.round(r/n)*n)},getCenter:function(t){var e=t;if("object"==typeof t&&!(t instanceof Array)){e=[];for(var n in t)e.push(this.coords(t[n]))}if(!e.length)return!1;var r,i,o,s=0,u=0,c=0;e.forEach(function(t){r=this.latitude(t).toRad(),i=this.longitude(t).toRad(),s+=Math.cos(r)*Math.cos(i),u+=Math.cos(r)*Math.sin(i),c+=Math.sin(r)},this);var l=e.length;return s/=l,u/=l,c/=l,i=Math.atan2(u,s),o=Math.sqrt(s*s+u*u),r=Math.atan2(c,o),{latitude:(r*a.TO_DEG).toFixed(6),longitude:(i*a.TO_DEG).toFixed(6)}},getBounds:function(t){if(!t.length)return!1;var e=this.elevation(t[0]),n={maxLat:-(1/0),minLat:1/0,maxLng:-(1/0),minLng:1/0};"undefined"!=typeof e&&(n.maxElev=0,n.minElev=1/0);for(var r=0,i=t.length;r<i;++r)n.maxLat=Math.max(this.latitude(t[r]),n.maxLat),n.minLat=Math.min(this.latitude(t[r]),n.minLat),n.maxLng=Math.max(this.longitude(t[r]),n.maxLng),n.minLng=Math.min(this.longitude(t[r]),n.minLng),e&&(n.maxElev=Math.max(this.elevation(t[r]),n.maxElev),n.minElev=Math.min(this.elevation(t[r]),n.minElev));return n},getCenterOfBounds:function(t){var e=this.getBounds(t),n=e.minLat+(e.maxLat-e.minLat)/2,r=e.minLng+(e.maxLng-e.minLng)/2;return{latitude:parseFloat(n.toFixed(6)),longitude:parseFloat(r.toFixed(6))}},getBoundsOfDistance:function(t,e){var n,r,i=this.latitude(t),o=this.longitude(t),s=i.toRad(),u=o.toRad(),c=e/this.radius,l=s-c,f=s+c,h=this.maxLat.toRad(),p=this.minLat.toRad(),d=this.maxLon.toRad(),_=this.minLon.toRad();if(l>p&&f<h){var v=Math.asin(Math.sin(c)/Math.cos(s));n=u-v,n<_&&(n+=a.PI_X2),r=u+v,r>d&&(r-=a.PI_X2)}else l=Math.max(l,p),f=Math.min(f,h),n=_,r=d;return[{latitude:l.toDeg(),longitude:n.toDeg()},{latitude:f.toDeg(),longitude:r.toDeg()}]},isPointInside:function(t,e){for(var n=!1,r=-1,i=e.length,o=i-1;++r<i;o=r)(this.longitude(e[r])<=this.longitude(t)&&this.longitude(t)<this.longitude(e[o])||this.longitude(e[o])<=this.longitude(t)&&this.longitude(t)<this.longitude(e[r]))&&this.latitude(t)<(this.latitude(e[o])-this.latitude(e[r]))*(this.longitude(t)-this.longitude(e[r]))/(this.longitude(e[o])-this.longitude(e[r]))+this.latitude(e[r])&&(n=!n);return n},preparePolygonForIsPointInsideOptimized:function(t){for(var e=0,n=t.length-1;e<t.length;e++)this.longitude(t[n])===this.longitude(t[e])?(t[e].constant=this.latitude(t[e]),t[e].multiple=0):(t[e].constant=this.latitude(t[e])-this.longitude(t[e])*this.latitude(t[n])/(this.longitude(t[n])-this.longitude(t[e]))+this.longitude(t[e])*this.latitude(t[e])/(this.longitude(t[n])-this.longitude(t[e])),t[e].multiple=(this.latitude(t[n])-this.latitude(t[e]))/(this.longitude(t[n])-this.longitude(t[e]))),n=e},isPointInsideWithPreparedPolygon:function(t,e){for(var n=!1,r=this.longitude(t),i=this.latitude(t),o=0,a=e.length-1;o<e.length;o++)(this.longitude(e[o])<r&&this.longitude(e[a])>=r||this.longitude(e[a])<r&&this.longitude(e[o])>=r)&&(n^=r*e[o].multiple+e[o].constant<i),a=o;return n},isInside:function(){return this.isPointInside.apply(this,arguments)},isPointInCircle:function(t,e,n){return this.getDistance(t,e)<n},withinRadius:function(){return this.isPointInCircle.apply(this,arguments)},getRhumbLineBearing:function(t,e){var n=this.longitude(e).toRad()-this.longitude(t).toRad(),r=Math.log(Math.tan(this.latitude(e).toRad()/2+a.PI_DIV4)/Math.tan(this.latitude(t).toRad()/2+a.PI_DIV4));return Math.abs(n)>Math.PI&&(n=n>0?(a.PI_X2-n)*-1:a.PI_X2+n),(Math.atan2(n,r).toDeg()+360)%360},getBearing:function(t,e){e.latitude=this.latitude(e),e.longitude=this.longitude(e),t.latitude=this.latitude(t),t.longitude=this.longitude(t);var n=(Math.atan2(Math.sin(e.longitude.toRad()-t.longitude.toRad())*Math.cos(e.latitude.toRad()),Math.cos(t.latitude.toRad())*Math.sin(e.latitude.toRad())-Math.sin(t.latitude.toRad())*Math.cos(e.latitude.toRad())*Math.cos(e.longitude.toRad()-t.longitude.toRad())).toDeg()+360)%360;return n},getCompassDirection:function(t,e,n){var r,i;switch(i="circle"==n?this.getBearing(t,e):this.getRhumbLineBearing(t,e),Math.round(i/22.5)){case 1:r={exact:"NNE",rough:"N"};break;case 2:r={exact:"NE",rough:"N"};break;case 3:r={exact:"ENE",rough:"E"};break;case 4:r={exact:"E",rough:"E"};break;case 5:r={exact:"ESE",rough:"E"};break;case 6:r={exact:"SE",rough:"E"};break;case 7:r={exact:"SSE",rough:"S"};break;case 8:r={exact:"S",rough:"S"};break;case 9:r={exact:"SSW",rough:"S"};break;case 10:r={exact:"SW",rough:"S"};break;case 11:r={exact:"WSW",rough:"W"};break;case 12:r={exact:"W",rough:"W"};break;case 13:r={exact:"WNW",rough:"W"};break;case 14:r={exact:"NW",rough:"W"};break;case 15:r={exact:"NNW",rough:"N"};break;default:r={exact:"N",rough:"N"}}return r.bearing=i,r},getDirection:function(t,e,n){return this.getCompassDirection.apply(this,arguments)},orderByDistance:function(t,e){var n=[];for(var r in e){var i=this.getDistance(t,e[r]),o=Object(e[r]);o.distance=i,o.key=r,n.push(o)}return n.sort(function(t,e){return t.distance-e.distance})},isPointInLine:function(t,e,n){return this.getDistance(e,t,1,3)+this.getDistance(t,n,1,3)==this.getDistance(e,n,1,3)},isPointNearLine:function(t,e,n,r){return this.getDistanceFromLine(t,e,n)<r},getDistanceFromLine:function(t,e,n){var r=this.getDistance(e,t,1,3),i=this.getDistance(t,n,1,3),o=this.getDistance(e,n,1,3),a=0,s=Math.acos((r*r+o*o-i*i)/(2*r*o)),u=Math.acos((i*i+o*o-r*r)/(2*i*o));return a=s>Math.PI/2?r:u>Math.PI/2?i:Math.sin(s)/r},findNearest:function(t,e,n,r){n=n||0,r=r||1;var i=this.orderByDistance(t,e);return 1===r?i[n]:i.splice(n,r)},getPathLength:function(t){for(var e,n=0,r=0,i=t.length;r<i;++r)e&&(n+=this.getDistance(this.coords(t[r]),e)),e=this.coords(t[r]);return n},getSpeed:function(t,e,n){var r=n&&n.unit||"km";"mph"==r?r="mi":"kmh"==r&&(r="km");var i=s.getDistance(t,e),o=1*e.time/1e3-1*t.time/1e3,a=i/o*3600,u=Math.round(a*this.measures[r]*1e4)/1e4;return u},computeDestinationPoint:function(t,e,n,r){var i=this.latitude(t),o=this.longitude(t);r="undefined"==typeof r?this.radius:Number(r);var a=Number(e)/r,s=Number(n).toRad(),u=Number(i).toRad(),c=Number(o).toRad(),l=Math.asin(Math.sin(u)*Math.cos(a)+Math.cos(u)*Math.sin(a)*Math.cos(s)),f=c+Math.atan2(Math.sin(s)*Math.sin(a)*Math.cos(u),Math.cos(a)-Math.sin(u)*Math.sin(l));return f=(f+3*Math.PI)%(2*Math.PI)-Math.PI,{latitude:l.toDeg(),longitude:f.toDeg()}},convertUnit:function(t,e,n){if(0===e)return 0;if("undefined"==typeof e){if(null===this.distance)throw new Error("No distance was given");if(0===this.distance)return 0;e=this.distance}if(t=t||"m",n=null==n?4:n,
"undefined"!=typeof this.measures[t])return this.round(e*this.measures[t],n);throw new Error("Unknown unit for conversion.")},useDecimal:function(t){if("[object Array]"===Object.prototype.toString.call(t)){var e=this;return t=t.map(function(t){if(e.isDecimal(t))return e.useDecimal(t);if("object"==typeof t){if(e.validate(t))return e.coords(t);for(var n in t)t[n]=e.useDecimal(t[n]);return t}return e.isSexagesimal(t)?e.sexagesimal2decimal(t):t})}if("object"==typeof t&&this.validate(t))return this.coords(t);if("object"==typeof t){for(var n in t)t[n]=this.useDecimal(t[n]);return t}if(this.isDecimal(t))return parseFloat(t);if(this.isSexagesimal(t)===!0)return parseFloat(this.sexagesimal2decimal(t));throw new Error("Unknown format.")},decimal2sexagesimal:function(t){if(t in this.sexagesimal)return this.sexagesimal[t];var e=t.toString().split("."),n=Math.abs(e[0]),r=60*("0."+(e[1]||0)),i=r.toString().split(".");return r=Math.floor(r),i=(60*("0."+(i[1]||0))).toFixed(2),this.sexagesimal[t]=n+" "+r+"' "+i+'"',this.sexagesimal[t]},sexagesimal2decimal:function(t){if(t in this.decimal)return this.decimal[t];var e=new RegExp(this.sexagesimalPattern),n=e.exec(t),r=0,i=0;n&&(r=parseFloat(n[2]/60),i=parseFloat(n[4]/3600)||0);var o=(parseFloat(n[1])+r+i).toFixed(8);return o="S"==n[7]||"W"==n[7]?parseFloat(-o):parseFloat(o),this.decimal[t]=o,o},isDecimal:function(t){return t=t.toString().replace(/\s*/,""),!isNaN(parseFloat(t))&&parseFloat(t)==t},isSexagesimal:function(t){return t=t.toString().replace(/\s*/,""),this.sexagesimalPattern.test(t)},round:function(t,e){var n=Math.pow(10,e);return Math.round(t*n)/n}}),"undefined"!=typeof t&&"undefined"!=typeof t.exports?(t.exports=s,"object"==typeof n&&(n.geolib=s)):(r=[],i=function(){return s}.apply(e,r),!(i!==o&&(t.exports=i)))}(this)},function(t,e){function n(){function t(t){for(var e=0;e<n.length;e++)n[e](t)}function e(t){function e(){var e=n.indexOf(t);e!==-1&&n.splice(e,1)}return n.push(t),e}var n=[];return{broadcast:t,listen:e}}t.exports=n},function(t,e,n){function r(t){var e=i();return t(e.broadcast),e.listen}var i=n(200);t.exports=r},function(t,e,n){(function(e){"undefined"!=typeof window?t.exports=window:"undefined"!=typeof e?t.exports=e:"undefined"!=typeof self?t.exports=self:t.exports={}}).call(e,n(12))},function(t,e,n){function r(){}var i=n(207);t.exports=function(t,e){e="function"==typeof e?e:r,"string"==typeof t?t={uri:t}:t||(t={});var n=/^json$/i.test(t.responseType);return i(t,function(t,r,i){if(t)return e(t);if(!/^2/.test(r.statusCode))return e(new Error("http status code: "+r.statusCode));if(n)e(null,i);else{var o;try{o=JSON.parse(i)}catch(a){e(new Error("cannot parse json: "+a))}o&&e(null,o)}})}},function(t,e,n){(function(e){"undefined"!=typeof window?t.exports=window:"undefined"!=typeof e?t.exports=e:"undefined"!=typeof self&&(t.exports=self)}).call(e,n(12))},function(t,e,n){var r=n(206),i=n(198),o=function(t){return"[object Array]"===Object.prototype.toString.call(t)};t.exports=function(t){if(!t)return{};var e={};return i(r(t).split("\n"),function(t){var n=t.indexOf(":"),i=r(t.slice(0,n)).toLowerCase(),a=r(t.slice(n+1));"undefined"==typeof e[i]?e[i]=a:o(e[i])?e[i].push(a):e[i]=[e[i],a]}),e}},function(t,e){function n(t){return t.replace(/^\s*|\s*$/g,"")}e=t.exports=n,e.left=function(t){return t.replace(/^\s*/,"")},e.right=function(t){return t.replace(/\s*$/,"")}},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<t.length;n++)e(t[n])}function i(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function o(t,e,n){var r=t;return f(e)?(n=e,"string"==typeof t&&(r={uri:t})):r=p(e,{uri:t}),r.callback=n,r}function a(t,e,n){return e=o(t,e,n),s(e)}function s(t){function e(){4===f.readyState&&o()}function n(){var t=void 0;if(t=f.response?f.response:f.responseText||u(f),w)try{t=JSON.parse(t)}catch(e){}return t}function r(t){return clearTimeout(_),t instanceof Error||(t=new Error(""+(t||"Unknown XMLHttpRequest Error"))),t.statusCode=0,c(t,l)}function o(){if(!d){var e;clearTimeout(_),e=t.useXDR&&void 0===f.status?200:1223===f.status?204:f.status;var r=l,i=null;return 0!==e?(r={body:n(),statusCode:e,method:y,headers:{},url:v,rawRequest:f},f.getAllResponseHeaders&&(r.headers=h(f.getAllResponseHeaders()))):i=new Error("Internal XMLHttpRequest Error"),c(i,r,r.body)}}if("undefined"==typeof t.callback)throw new Error("callback argument missing");var s=!1,c=function(e,n,r){s||(s=!0,t.callback(e,n,r))},l={body:void 0,headers:{},statusCode:0,method:y,url:v,rawRequest:f},f=t.xhr||null;f||(f=t.cors||t.useXDR?new a.XDomainRequest:new a.XMLHttpRequest);var p,d,_,v=f.url=t.uri||t.url,y=f.method=t.method||"GET",g=t.body||t.data||null,m=f.headers=t.headers||{},b=!!t.sync,w=!1;if("json"in t&&(w=!0,m.accept||m.Accept||(m.Accept="application/json"),"GET"!==y&&"HEAD"!==y&&(m["content-type"]||m["Content-Type"]||(m["Content-Type"]="application/json"),g=JSON.stringify(t.json))),f.onreadystatechange=e,f.onload=o,f.onerror=r,f.onprogress=function(){},f.ontimeout=r,f.open(y,v,!b,t.username,t.password),b||(f.withCredentials=!!t.withCredentials),!b&&t.timeout>0&&(_=setTimeout(function(){d=!0,f.abort("timeout");var t=new Error("XMLHttpRequest timeout");t.code="ETIMEDOUT",r(t)},t.timeout)),f.setRequestHeader)for(p in m)m.hasOwnProperty(p)&&f.setRequestHeader(p,m[p]);else if(t.headers&&!i(t.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(f.responseType=t.responseType),"beforeSend"in t&&"function"==typeof t.beforeSend&&t.beforeSend(f),f.send(g),f}function u(t){if("document"===t.responseType)return t.responseXML;var e=204===t.status&&t.responseXML&&"parsererror"===t.responseXML.documentElement.nodeName;return""!==t.responseType||e?null:t.responseXML}function c(){}var l=n(202),f=n(113),h=n(205),p=n(208);t.exports=a,a.XMLHttpRequest=l.XMLHttpRequest||c,a.XDomainRequest="withCredentials"in new a.XMLHttpRequest?a.XMLHttpRequest:l.XDomainRequest,r(["get","put","post","patch","head","delete"],function(t){a["delete"===t?"del":t]=function(e,n,r){return n=o(e,n,r),n.method=t.toUpperCase(),s(n)}})},function(t,e){function n(){for(var t={},e=0;e<arguments.length;e++){var n=arguments[e];for(var i in n)r.call(n,i)&&(t[i]=n[i])}return t}t.exports=n;var r=Object.prototype.hasOwnProperty},function(t,e,n){/**
	 * An even better animation frame.
	 *
	 * @copyright Oleg Slobodskoi 2016
	 * @website https://github.com/kof/animationFrame
	 * @license MIT
	 */
t.exports=n(210)},function(t,e,n){"use strict";function r(t){return this instanceof r?(t||(t={}),"number"==typeof t&&(t={frameRate:t}),null!=t.useNative||(t.useNative=!0),this.options=t,this.frameRate=t.frameRate||r.FRAME_RATE,this._frameLength=1e3/this.frameRate,this._isCustomFrameRate=this.frameRate!==r.FRAME_RATE,this._timeoutId=null,this._callbacks={},this._lastTickTime=0,void(this._tickCounter=0)):new r(t)}var i=n(211),o=n(72),a=n(213),s=n(73),u=i.request,c=i.cancel;t.exports=r,r.FRAME_RATE=60,r.shim=function(t){var e=new r(t);return s.requestAnimationFrame=function(t){return e.request(t)},s.cancelAnimationFrame=function(t){return e.cancel(t)},e},r.prototype.request=function(t){var e=this;if(++this._tickCounter,i.supported&&this.options.useNative&&!this._isCustomFrameRate)return u(t);if(!t)throw new TypeError("Not enough arguments");if(null==this._timeoutId){var n=this._frameLength+this._lastTickTime-o();n<0&&(n=0),this._timeoutId=setTimeout(function(){e._lastTickTime=o(),e._timeoutId=null,++e._tickCounter;var t=e._callbacks;e._callbacks={};for(var n in t)t[n]&&(i.supported&&e.options.useNative?u(t[n]):t[n](a.now()))},n)}return this._callbacks[this._tickCounter]=t,this._tickCounter},r.prototype.cancel=function(t){i.supported&&this.options.useNative&&c(t),delete this._callbacks[t]}},function(t,e,n){"use strict";var r=n(73);try{r.top.name,r=r.top}catch(i){}e.request=r.requestAnimationFrame,e.cancel=r.cancelAnimationFrame||r.cancelRequestAnimationFrame,e.supported=!1;for(var o=["Webkit","Moz","ms","O"],a=0;a<o.length&&!e.request;a++)e.request=r[o[a]+"RequestAnimationFrame"],e.cancel=r[o[a]+"CancelAnimationFrame"]||r[o[a]+"CancelRequestAnimationFrame"];e.request&&e.request.call(null,function(){e.supported=!0})},function(t,e,n){"use strict";var r=n(72);e.navigationStart=r()},function(t,e,n){"use strict";var r=n(72),i=n(212),o=n(73);e.now=function(){return o.performance&&o.performance.now?o.performance.now():r()-i.navigationStart}},189,[403,114,217],[404,215,115],[405,114,214,115],function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(5),o=r(i),a={"in":[{speaking:8,effects:34,music:36},{speaking:8,effects:16,music:78},{speaking:12,effects:32,music:42},{speaking:4,effects:32,music:8},{speaking:0,effects:64,music:125},{speaking:12,effects:42,music:89}],out:[{speaking:64,effects:512,music:8}]},s=32,u=function(){function t(t){var e=Math.floor(Math.random()*t.length);return t[e]}function e(t){o.default.emit("beat:changed",t)}function n(n){u=a[n],e(t(u))}var r=s,i=0,u=void 0;o.default.on("state:changed",n),o.default.on("metronome:quarter",function(){i%r===0&&e(t(u)),i++})}();e.default=u},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(8),s=r(a),u=n(38),c=r(u),l=n(227),f=(r(l),n(231)),h=r(f),p=n(228),d=r(p),_=n(226),v=r(_),y=n(5),g=r(y),m=n(19),b=r(m),w=.25,x=function(){function t(){var e=this,n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];i(this,t),this.SOUND_LAYERS={},this.IDS=[],this._soundLayers=[];this._onSoundEnded.bind(this);s.default.forIn(n,function(t){switch(t.id){case"speaking":e.SOUND_LAYERS[t.id]=new h.default(t);break;case"music":e.SOUND_LAYERS[t.id]=new d.default(t);break;case"effects":e.SOUND_LAYERS[t.id]=new v.default(t)}e.IDS.push(t.id),e._soundLayers.push(e.SOUND_LAYERS[t.id]),g.default.on("gui:volume:"+t.id,function(t,n){e.layers[t].volume=n}),g.default.on("gui:info:"+t.id,function(n){g.default.emit("gui:info:"+t.id+":result",e.layers[n].getInfo())}),g.default.on("gui:terminate:"+t.id,function(t){e.layers[t].terminateCurrentSound()}),g.default.on("gui:seek:"+t.id,function(t){e.layers[t].increaseSeek()})}),g.default.on("state:init",this._onStateInit.bind(this)),g.default.on("state:changed",this._onStateChanged.bind(this)),g.default.on("metronome:quarter",this._onMetronome.bind(this)),g.default.on("beat:changed",this._onBeatChanged.bind(this)),g.default.on("map:update",this._onMapUpdate.bind(this)),g.default.on("map:entering",this._onMapEntering.bind(this)),g.default.on("map:leaving",this._onMapLeaving.bind(this)),g.default.on("phaser:update",this._onPhaserUpdate.bind(this)),g.default.on("volume:change",this._onVolumeChange.bind(this)),this._c=0}return o(t,[{key:"_onStateInit",value:function(){switch(g.default.emit("log:log","State init "+c.default.state),c.default.state){case"in":break;case"out":}}},{key:"_onStateChanged",value:function(t){this._state=t}},{key:"_onMetronome",value:function(t,e){s.default.forIn(this.SOUND_LAYERS,function(t,e){t.onMetronome()})}},{key:"_onBeatChanged",value:function(t){s.default.forIn(this.SOUND_LAYERS,function(e,n){e.beat=t[n]})}},{key:"_onPhaserUpdate",value:function(t){s.default.forIn(this.SOUND_LAYERS,function(e,n){if(e.scheduledVolume){if("music"===n||"effects"===n){var r=Math.min(e.scheduledVolume+1*t*w,1);e.volume=r}"music"===n&&"in"===c.default.state}})}},{key:"_onSoundEnded",value:function(t){return}},{key:"_onMapEntering",value:function(t){g.default.emit("log:log",t.id+" Map entering: "),s.default.forIn(this.SOUND_LAYERS,function(e,n){e.mapEntering(t)})}},{key:"_onMapLeaving",value:function(){g.default.emit("log:log"," Map leaving: "),s.default.forIn(this.SOUND_LAYERS,function(t,e){t.mapLeaving()})}},{key:"_onMapUpdate",value:function(t){g.default.emit("log:log","LayerManager mapUpdate. State: "+c.default.state),"in"!==c.default.state,s.default.forIn(this.SOUND_LAYERS,function(e,n){e.mapUpdate(t)});var e=this.SOUND_LAYERS.speaking.closestLocation;if(e){var n=e.nearFactor||0,r=this.SOUND_LAYERS.speaking.volume,i=.2*n+r;i=b.default.clamp(i,0,1),this.SOUND_LAYERS.speaking.volume=i}}},{key:"_updateLocations",value:function(t){s.default.forIn(this.SOUND_LAYERS,function(e,n){e.updateLocation(t)})}},{key:"_onVolumeChange",value:function(t){s.default.forIn(this.SOUND_LAYERS,function(e,n){e.scheduledVolume=t[n],e.volume=t[n]})}},{key:"update",value:function(){s.default.each(this._soundLayers,function(t){t.update()})}},{key:"_getProgress",value:function(){s.default.forIn(this.SOUND_LAYERS,function(t,e){var n=t.progress;n>.5&&!t.preloading})}},{key:"layers",get:function(){return this.SOUND_LAYERS}}]),t}();e.default=x},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(19),s=r(a),u=n(5),c=r(u),l=n(199),f=r(l),h=n(8),p=r(h),d=n(43),_=r(d),v=n(224),y=n(9),g=function(){function t(e){var n=this,r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];i(this,t),this._locations=e,this._options=r,this.MapOptions={enableHighAccuracy:!0,timeout:5e3,maximumAge:0},this.mapLoadedSignal=new _.default,this._activeLocation=-1,this._activeLocationIndex=-1,this._boundUpdatePosition=this.updatePosition.bind(this),this._storedLocations=[],c.default.on("gui:nextlocation",this._nextLocation.bind(this)),c.default.on("gui:map:update",function(){n.updatePosition(n._storedLocations[n._storedLocations.length-1])}),c.default.on("gui:outside:barbi",function(){var t=s.default.getRandom(v.OUTSIDE_BARBI_NEAR);n.updatePosition(t)}),y.CONFIG.noVisualMap?(navigator.geolocation.getCurrentPosition(this.updatePosition.bind(this)),setTimeout(function(){n.mapLoadedSignal.dispatch()},200)):this._drawMap({coords:{latitude:0,longitude:0}})}return o(t,[{key:"mapError",value:function(){console.warn("ERROR("+err.code+"): "+err.message)}},{key:"_latLngObj",value:function(t){return{latitude:t.latitude,longitude:t.longitude}}},{key:"_latLng",value:function(t){return new google.maps.LatLng(t.latitude,t.longitude)}},{key:"updatePosition",value:function(t){if(!t.coords&&!t.latitude)return void c.default.emit("log:error","Map: No latitude or longitude");if(t.latitude&&t.longitude&&(t.coords={latitude:t.latitude,longitude:t.longitude}),console.log("updatePosition: "+JSON.stringify(t.coords)),p.default.isEmpty(t.coords))return void c.default.emit("log:error","Map: No latitude or longitude");var e=this._getLocationsIn(this._locations,t.coords),n=this._orderLocationsByDistance(t.coords,this._locations),r=f.default.getBearing(this._latLngObj(t.coords),this._latLngObj(n[0]));c.default.emit("map:bearing",r),c.default.emit("map:update",e),this.map&&(this.map.setCenter(this._latLng(t.coords)),this.me.setPosition(this._latLng(t.coords)));var i=this._getLocationsIn(this._locations,t.coords);i.length?this._activeLocation!==i[0]&&(this._activeLocation=i[0],this._activeLocationIndex=this._locations.indexOf(this._activeLocation),c.default.emit("map:entering",this._activeLocation),c.default.emit("ext:map:entering",this._activeLocation,this._activeLocationIndex)):this._activeLocation&&(this._activeLocation=null,c.default.emit("map:leaving"));var o=t.coords.latitude,a=t.coords.longitude;this._storedLocations.push({latitude:o,longitude:a}),this._storedLocations.length>this._options.maxStoreLocations&&this._storedLocations.shift(),c.default.emit("map:movement",this._hasPersonMoved())}},{key:"_orderLocationsByDistance",value:function(t,e){var n=this;return f.default.orderByDistance(this._latLngObj(t),e.map(function(t){return n._latLngObj(t)}))}},{key:"_getLocationsIn",value:function(t,e,n){var r=this,i=this._latLngObj(e),o=t.filter(function(t){return f.default.isPointInCircle(i,r._latLngObj(t),n||t.radius)});return f.default.orderByDistance(i,o),o}},{key:"_hasPersonMoved",value:function(){for(var t=0,e=0,n=0;n<this._storedLocations.length;n+=2){var r=this._storedLocations.slice(n,1)[0],i=this._storedLocations.slice(n+1,1)[0];r&&i&&(t+=f.default.getDistance(this._latLngObj(r),this._latLngObj(i)),e++)}var o=t/e;return!isNaN(o)&&o>this._options.personalMovement}},{key:"_addLocationToMap",value:function(t,e){new google.maps.Circle({strokeColor:"#FF0000",strokeOpacity:.8,strokeWeight:2,clickable:!1,fillColor:"#FF0000",fillOpacity:.35,map:t,center:{lat:e.latitude,lng:e.longitude},radius:e.radius})}},{key:"_drawMap",value:function(t){var e=this,n=document.createElement("div");n.id="mapcontainer",n.style.height="400px",n.style.width="320px",document.body.appendChild(n);var r={zoom:17,center:this._latLng(t.coords),mapTypeControl:!1,navigationControlOptions:{style:google.maps.NavigationControlStyle.SMALL},mapTypeId:google.maps.MapTypeId.ROADMAP};this.map=new google.maps.Map(document.getElementById("mapcontainer"),r),google.maps.event.addListener(this.map,"tilesloaded",function(){console.log("Tiled Loaded"),e.mapLoadedSignal.dispatch()}),this._locations.forEach(function(t){e._addLocationToMap(e.map,t)}),this.me=new google.maps.Marker({position:this._latLng(t.coords),map:this.map,title:"Me"}),y.CONFIG.noGeo||setInterval(function(){navigator.geolocation.getCurrentPosition(e._boundUpdatePosition,e.error,e.MapOptions)},2e3),google.maps.event.addListener(this.map,"click",function(t){e.updatePosition({coords:{latitude:t.latLng.lat(),longitude:t.latLng.lng()}})}),console.log("Draw map")}},{key:"_nextLocation",value:function(){var t=this._activeLocationIndex+1;t>=this._locations.length&&(t=0),this._activeLocationIndex=t,console.log(this._activeLocationIndex,this._locations.length),this.updatePosition({coords:this._locations[this._activeLocationIndex]})}}]),t}();e.default=g},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=n(112),a=r(o),s=n(5),u=r(s),c=n(194),l=r(c),f=function h(t,e){i(this,h);var n=new a.default.Howl({src:t,autoplay:!1,loop:!1}),r=new l.default(a.default.Howler.ctx,e),o={position:"*.1.01",freq:440,duration:15},s={freq:330,duration:15};r.set("metronome",[o,["*.>1.01",s]]);var c=0,f=0;r.on("step",function(t){if("start"===t.event){t.position.split(".");c%e.beatsPerBar===0&&(u.default.emit("metronome:bar"),c=0),u.default.emit("metronome:quarter",c,f),c++,f++}}),r.start(),n.unload(),n=null};e.default=f},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(9),o=n(5),a=r(o),s=n(8),u=r(s),c={up:{effects:.8,music:0},down:{effects:.1}},l={up:{music:.8},down:{music:.1}},f={up:{music:0,effects:0},down:{}},h={"in":[{speaking:1,effects:.18,music:.1},{speaking:1,effects:.12,music:.1},{speaking:.9,effects:.2,music:.2},{speaking:.9,effects:.1,music:.2},{speaking:.9,effects:.2,music:.1},{speaking:1,effects:.1,music:.2}],out:[{speaking:.3,effects:.4,music:.7}]},p=32,d=function(){function t(t){var e=Math.floor(Math.random()*t.length);return t[e]}function e(e){s=h[e],n(t(s))}function n(t){a.default.emit("volume:change",u.default.assign({},t,d))}function r(t){_=t}function o(){a.default.on("metronome:quarter",function(){v%_===0&&n(t(s)),v++}),a.default.on("volumescheduler:effects:up",function(){var e=t(s);d=c.up,a.default.emit("volume:change",u.default.assign({},e,d))}),a.default.on("volumescheduler:effects:down",function(){var e=t(s);d={},a.default.emit("volume:change",u.default.assign({},e))}),a.default.on("volumescheduler:speaking:up",function(){var e=t(s);d=f.up,a.default.emit("volume:change",u.default.assign({},e,d))}),a.default.on("volumescheduler:speaking:down",function(){var e=t(s);d={},a.default.emit("volume:change",u.default.assign({},e))}),a.default.on("volumescheduler:music:up",function(){var e=t(s);d=l.up;var n=u.default.assign({},e,d);console.log(n),a.default.emit("volume:change",n)}),a.default.on("volumescheduler:music:down",function(){var e=t(s);d={},a.default.emit("volume:change",u.default.assign({},e))}),a.default.on("state:changed",e)}var s=void 0,d=void 0,_=p,v=0;return i.CONFIG.useVolumeControl&&o(),{volumes:s,setBeatChanger:r}}();e.default=d},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t){}Object.defineProperty(e,"__esModule",{value:!0}),e.LOCATIONS=void 0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();e.parseFileStructure=o;var s=n(220),u=r(s),c=n(38),l=r(c),f=n(219),h=r(f),p=n(232),d=(r(p),n(5)),_=r(d),v=n(117),y=r(v),g=n(8),m=r(g),b=n(9);e.LOCATIONS=b.LOCATIONS;var w=function(){function t(e,n){var r=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];i(this,t),this.config=r,this.locations=n,m.default.forIn(r,function(t,e){b.CONFIG[e]=t}),this._updateBound=this._update.bind(this),this.createSoundLayers(e),this.createMap()}return a(t,[{key:"createSoundLayers",value:function(t){this.layers=new h.default(t)}},{key:"createMap",value:function(){var t=this;this.map=new u.default(this.locations,b.CONFIG.map),this.map.mapLoadedSignal.addOnce(function(){l.default.init(),t._updateBound(),t.config.noGeo&&t.map.updatePosition({coords:t.locations[0]})})}},{key:"_update",value:function(){this.layers.update(),y.default.update(),window.requestAnimationFrame(this._updateBound)}},{key:"on",value:function(t,e){_.default.on("ext:"+t,e)}},{key:"destroy",value:function(){}}]),t}();e.default=w},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=[{id:"loc0",latitude:37.7987,longitude:-122.42243,radius:30},{id:"loc1",latitude:37.79831,longitude:-122.42219,radius:10},{id:"loc2",latitude:37.79812,longitude:-122.42214,radius:15},{id:"loc3",latitude:37.79785,longitude:-122.42185,radius:16}],r={latitude:51.533181,longitude:-.105946},i=[{latitude:51.518562,longitude:-.092574},{latitude:51.520077,longitude:-.095235},{latitude:51.519576,longitude:-.090632}],o=[{id:"loc0",latitude:37.849141,longitude:-122.285545,radius:40},{id:"loc1",latitude:37.848269,longitude:-122.285248,radius:40},{id:"loc2",latitude:37.847735,longitude:-122.286633,radius:60},{id:"loc3",latitude:37.847527,longitude:-122.288117,radius:40},{id:"loc4",latitude:37.847607,longitude:-122.288485,radius:40}],a=[{id:"loc0",latitude:51.520008,longitude:-.0946432,radius:100},{id:"loc1",latitude:51.584162,longitude:-.106495,radius:100}];a=[n[0]],a=o;var s=function(){return{locations:a}}();e.OUTSIDE_BARBI=r,e.OUTSIDE_BARBI_NEAR=i,e.default=s},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(75),s=r(a),u=n(43),c=(r(u),n(8)),l=r(c),f=n(9),h=n(5),p=r(h),d=n(52),_=(r(d),2),v=function(){function t(){var e=this;i(this,t),this._sounds=[this._newAmbientSound(),this._newDominantSound()],p.default.on("volume:change",function(t){e.scheduledVolume=t.effects})}return o(t,[{key:"onMetronome",value:function(){l.default.each(this._sounds,function(t){t.onMetronome()})}},{key:"onBeat",value:function(){this._ambientSound.playing||this.playAmbient()}},{key:"mapEntering",value:function(){}},{key:"mapLeaving",value:function(){this._ambientSound.ramp(f.CONFIG.transitionRampDur,{volume:0,end:!0},!0)}},{key:"mapUpdate",value:function(){}},{key:"playAmbient",value:function(){if(this._ambientSources.length){var t=this._ambientSources.shift();this._ambientSound.newSound(t,"ambient",{autoplay:!0},!0)}}},{key:"rampUpAmbient",value:function(){var t=this;p.default.emit("volumescheduler:effects:up"),setTimeout(function(){t.onDominantEnded()},1e3*(f.CONFIG.minAmbientTime+Math.random()*f.CONFIG.maxAmbientTime))}},{key:"playDominant",value:function(){if(this._dominantSources.length){console.log("dominant lpayinggg",this._dominantSound.playing),console.log("+++++++++++++++++++++++++++++"),console.log(this._dominantSound),console.log("+++++++++++++++++++++++++++++"),p.default.emit("volumescheduler:effects:up");var t=this._dominantSources.shift();this._dominantSound.newSound(t,"dominant",{autoplay:!0},!0),console.log(this._dominantSound.sound)}}},{key:"_newAmbientSound",value:function(){return this._ambientSound=new s.default({},"effects"),this._ambientSound.endingSignal.add(this.onAmbientEnding.bind(this)),this._ambientSound.endedSignal.add(this.onAmbientEnded.bind(this)),this._ambientSound}},{key:"_newDominantSound",value:function(){return this._dominantSound=new s.default({},"effects"),this._dominantSound.endingSignal.add(this.onDominantEnding.bind(this)),this._dominantSound.endedSignal.add(this.onDominantEnded.bind(this)),this._dominantSound}},{key:"onAmbientEnding",value:function(){this._ambientSound.ramp(2,{volume:0})}},{key:"onAmbientEnded",value:function(){}},{key:"onDominantEnding",value:function(){}},{key:"onDominantEnded",value:function(){p.default.emit("layer:effects:dominant:ended"),p.default.emit("volumescheduler:effects:down")}},{key:"_getNextSoundIndex",value:function(){return(this._activeSoundIndex+1)%_}},{key:"_getSound",value:function(t){return this._sounds[t]}},{key:"fadeAndDestroy",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?0:arguments[1],n=arguments.length<=2||void 0===arguments[2]?2:arguments[2];t=t||this.activeSound,this._fadeAndDestroy(t,e,n)}},{key:"play",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?500:arguments[1];if(this.activeSound){if(!this.activeSound.playing){var n=this._scheduledVolume;this.activeSound.fade(0,n,e),this.activeSound.play(),t&&(this.activeSound.seek=t.progress,f.CONFIG.partialPlay&&(this.activeSound.playtime+=t.progress),p.default.emit("log:log:light","seeking to "+t.progress,2,12))}}else p.default.emit("log:error","No activeSound on play "+this._id)}},{key:"stop",value:function(){this.activeSound.stop()}},{key:"update",value:function(){this.activeSound&&this.activeSound.update()}},{key:"pause",value:function(){this._isPaused=!0,this.activeSound&&this.activeSound.pause()}},{key:"ramp",value:function(t,e,n){this.activeSound&&this.activeSound.ramp(t,e,n)}},{key:"_onLoaded",value:function(t){}},{key:"_onPlay",value:function(t){p.default.emit("log:log","Sound "+this._id+" at "+t+" "+this._sounds[t].soundname+" Playing"),this.playingSignal.dispatch()}},{key:"_onPause",value:function(t){}},{key:"_onEnded",value:function(t,e){this._sounds[t].hasFinished=!0,this.terminate()}},{key:"_onTerminated",value:function(t,e){this.terminate()}},{key:"_fadeAndDestroy",value:function(t){var e=(arguments.length<=1||void 0===arguments[1]?0:arguments[1],arguments.length<=2||void 0===arguments[2]?2:arguments[2]);t.markedToDestroy||(t.markedToDestroy=!0,t.ramp(e,{volume:0,end:!0},!0))}},{key:"_changeActiveSoundIndex",value:function(){this._activeSoundIndex++,this._activeSoundIndex>=_&&(this._activeSoundIndex=0)}},{key:"terminate",value:function(){if(!this.activeSound)return void p.default.emit("log:error","terminate() no active Sound");var t={soundName:this.activeSound.soundname,soundIndex:this.activeSound.soundIndex,hasFinished:!!this.activeSound.hasFinished,progress:"Howl"==typeof this.seek?0:this.seek,duration:"Howl"==typeof this.duration?0:this.duration};p.default.emit("log:log","Sound "+this._id+" "+this.activeSound.soundname+" at "+this._activeSoundIndex+" terminate()"),this.activeSound.markedToDestroy=!0,this.activeSound.terminatedSignal.remove(this._onTerminatedBound),this.activeSound.endedSignal.remove(this._onEndedBound),this.activeSound.playingSignal.remove(this._onPlayBound),this.activeSound.loadedSignal.remove(this._onLoadedBound),this._destroySound(this.activeSound),this._sounds[this._activeSoundIndex]=null,this.endedSignal.dispatch(t),this._changeActiveSoundIndex(),p.default.emit("log:log:light","----NEW "+this._id+" ACTIVE SOUND at index "+this._activeSoundIndex+"----"),console.log(this.activeSound),console.log(this._sounds),p.default.emit("log:log:light","------------------------")}},{key:"_destroySound",value:function(t){t&&(t.destroy(),t=null)}},{key:"dominantSources",set:function(t){this._dominantSources=t}},{key:"ambientSources",set:function(t){this._ambientSources=t}},{key:"ambientSound",get:function(){return this._ambientSound}},{key:"dominantSound",get:function(){return this._dominantSound}},{key:"playing",get:function(){return"speaking"===this._id,!!this.activeSound&&this.activeSound.playing}},{key:"volume",set:function(t){this.activeSound&&(this.activeSound.volume=t)},get:function(){return this.activeSound?this.activeSound.volume||0:0}},{key:"progress",get:function(){if(!this.activeSound)return 0;var t=this.activeSound.seek,e=t/this.activeSound.duration()||0;return e}},{key:"duration",get:function(){return this.activeSound.duration()||0}},{key:"seek",get:function(){return this.activeSound.seek},set:function(t){this.activeSound.seek=t}},{key:"soundname",get:function(){return this.activeSound?this.activeSound.soundname:""}},{key:"nearFactor",get:function(){return this.activeSound.nearFactor}},{key:"loaded",get:function(){return this.activeSound.loaded}},{key:"activeSound",get:function(){var t=this._activeSoundIndex<0?0:this._activeSoundIndex,e=this._sounds[t];if(!e&&this._sounds.length>0){var n=this._getNextSoundIndex(),r=this._sounds[n];r&&(this._changeActiveSoundIndex(),e=r)}return e}},{key:"sounds",get:function(){return this._sounds}},{key:"noneActiveSound",get:function(){var t=this._getNextSoundIndex();return this._sounds[t]}},{key:"scheduledVolume",set:function(t){this._scheduledVolume=t},get:function(){return this._scheduledVolume||0}},{key:"activeIndex",get:function(){return this._activeSoundIndex}}]),t}();e.default=v},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=function w(t,e,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,e);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:w(i,e,n)}if("value"in r)return r.value;var o=r.get;if(void 0!==o)return o.call(n)},c=n(53),l=(r(c),n(19)),f=r(l),h=n(5),p=r(h),d=n(38),_=(r(d),n(225)),v=r(_),y=n(8),g=(r(y),n(9),n(74)),m=r(g),b=function(t){function e(t){i(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return p.default.on("layer:speaking:ended",n._onSpeakingEnded.bind(n)),p.default.on("layer:speaking:ending",n._onSpeakingEnding.bind(n)),p.default.on("layer:effects:playdominent",n._playDominant.bind(n)),p.default.on("layer:effects:dominant:ended",function(){n._dominantEffectActive=!1}),n._sound.terminate(),n._sound=new v.default,n}return a(e,t),s(e,[{key:"mapEntering",value:function(t){this._sound.playAmbient()}},{key:"mapUpdate",value:function(t){var n=arguments.length<=1||void 0===arguments[1]||arguments[1];u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"mapUpdate",this).call(this,t,n);var r=this._makeSrcArrayFromLocationUrls();f.default.shuffle(r);var i=this._filterSourcesByTerm(r,"interruptions"),o=this._filterSourcesByTerm(r,"play along");this._sound.dominantSources=i,this._sound.ambientSources=o}},{key:"onMetronome",value:function(){this._beatCounter%this._beat===0&&this._sound.onBeat(),u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"onMetronome",this).call(this)}},{key:"_onSpeakingEnded",value:function(t){this._triggerInterlude(t)}},{key:"_onSpeakingEnding",value:function(t){this._triggerInterlude(t)}},{key:"_triggerInterlude",value:function(t){this._dominantEffectActive||(this._dominantEffectActive=!0,t>.5?this._playDominant():this._sound.rampUpAmbient())}},{key:"_playDominant",value:function(){this._sound.playDominant()}},{key:"_getSoundAt",value:function(t){return this._sound.sounds[t]}},{key:"_filterSourcesByTerm",value:function(t,e){return t.filter(function(t){return t.src[0].indexOf(e)>=0})}},{key:"dominantSound",get:function(){return this._getSoundAt(1)}},{key:"ambientSound",get:function(){return this._getSoundAt(0)}}]),e}(m.default);e.default=b},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(53),s=r(a),u=n(19),c=r(u),l=n(5),f=r(l),h=n(229),p=r(h),d=n(8),_=r(d),v=n(9),y=60,g=.02,m=.99,b=8,w=function(){function t(e){var n=this;i(this,t),this._data=e,this._id=this._data.id,this._locationsUrls=this._cacheLocationsUrls(),this._beat=0,this._beatCounter=0,this._sound=new p.default(this._data.options.sound,this._id),this._sound.endedSignal.add(function(t){var e=t.soundName,r=t.soundIndex,i=t.hasFinished,o=t.progress;switch(n._id){case"effects":f.default.emit("log:log",n._data.id+" endedSignal()",0,16),f.default.emit("log:log","soundName, soundIndex, hasFinished, progress "+e+" "+r+" "+i+" "+o,1,13),f.default.emit(n._id+":sound:terminated",e);break;case"speaking":i?(f.default.emit(n._id+":sound:ended",n._id,e),n._heardSourcesNames.push(e),delete n._playedSources[e]):(n._playedSources[e]=n._playedSources[e]||{},n._playedSources[e].hasFinished=i,n._playedSources[e].progress=o),n._loadNext();break;case"music":n._loadNext()}f.default.emit(n._id+":sound:played")}),this._sound.loadedSignal.add(function(t){n.preloadNext()}),console.log(this._data),this._playlist=[],this._playedSources={},this._heardSourcesNames=[],this._updatedLocations=[],this._cc=!0,this._addListeners()}return o(t,[{key:"_addListeners",value:function(){var t=this;switch(this._id){case"effects":f.default.on("speaking:sound:played",function(){var e=Math.random();t._effectInterlude=3;var n=Math.random()*v.CONFIG.maxInterludeTime+v.CONFIG.minInterludeTime,r=.7*Math.random()+.3,i=r*Math.random();i=0,f.default.emit("sound:set:interlude",t._effectInterlude),t._beatCounter=1,t._sound.activeSound&&t._sound.fadeAndDestroy(t._sound.activeSound,0,r),e=1,e<.7?(console.log("++++++++++++++++++++++++++"),console.log("Playing dominant effect"),console.log("Sound paying: ",!!t._sound.playing),console.log("Sound active: ",t._sound.activeSound),console.log("++++++++++++++++++++++++++"),setTimeout(function(){console.log("Effect destroyed?"),console.log(t._sound.sounds);var e=t._locationsUrls[t._closestLocation.id].slice(0).map(function(t){return{src:t}});c.default.shuffle(e),e=t._filterSourcesByTerm(e,"dominant"),console.log(e),t._loadNext({autoplay:!0,dominant:!0,volume:.8,playtime:n},e),f.default.emit("volumescheduler:effects:up")},1e3*(r-i)+100)):(console.log("---------------++++++++++++"),console.log("ramping up music"),console.log("how long "+(1e3*(r-i)+100)),console.log("---------------++++++++++++"),f.default.emit("volumescheduler:music:up"),setTimeout(function(){t._effectInterlude=0,f.default.emit("volumescheduler:music:down")},1e3*(r-i)+100))});break;case"speaking":f.default.on("sound:set:interlude",function(e){t._effectInterlude=e,console.log("??????????????????????????>>>"),console.log(t._effectInterlude),console.log("??????????????????????????>>>")}),f.default.on("effects:sound:dominant",function(e){console.log("==================================="),console.log("EFFECT PLAYED "+e),console.log("==================================="),clearInterval(t._effectInterludeTo),t._effectInterlude=0,f.default.emit("volumescheduler:effects:down")});break;case"music":}}},{key:"updateLocation",value:function(t){arguments.length<=1||void 0===arguments[1]||arguments[1];return}},{key:"onMetronome",value:function(){switch(this._id){case"speaking":if(!this._sound.playing&&this._playlist.length){var t=Math.random();if(this._closestLocation){var e=this._closestLocation.nearFactor||0;e+=this._effectInterlude||0,t>e?(f.default.emit("log:log","Layer "+this._id+" Playing:  Had to get "+e+", got "+t,2),this.play()):f.default.emit("log:log",this._id+" Failed on roll. Had to get "+e+", got "+t,2)}}else this._playlist.length||f.default.emit("log:error","No playlist on "+this._id);break;case"effects":case"music":this._sound.playing||this._beatCounter%this._beat!==0||(this._buildPlaylist(),"effects"===this._id,"music"===this._id&&this._loadNext({autoplay:!0}))}this._sound.onMetronome(),this._beatCounter++}},{key:"mapEntering",value:function(t){this._stateOut=!1,"speaking"===this._id&&(f.default.emit("log:log","MapEntering: ramping down speaking",2,12),
this.ramp(b,{volume:0,end:!0},!0)),this._loadNext({autoplay:!0})}},{key:"mapLeaving",value:function(){var t=arguments.length<=0||void 0===arguments[0]||arguments[0];this._stateOut=!0;var e=this._getTransitionSourceUrls();t&&c.default.shuffle(e);var n=this._filterHeardSources(e);for(this._playlist.length=0;n.length;){var r={src:n.shift()};this._playlist.push(r)}"speaking"===this._id&&(f.default.emit("log:log","MapLeaving: ramping down speaking",2,12),this.ramp(b,{volume:0,end:!0},!0)),this._loadNext()}},{key:"mapUpdate",value:function(t){var e=arguments.length<=1||void 0===arguments[1]||arguments[1];console.log("MapUpdate "+this._id),this._buildPlaylist(t,e)}},{key:"getInfo",value:function(){var t=this,e=[];return console.log(this._sound.sounds),_.default.each(this._sound.sounds,function(n){n&&!n.markedToDestroy&&(e.push("--------------"),e.push("activeIndex: "+t._sound.activeIndex),e.push("nearFactor: "+n.nearFactor),e.push("soundname: "+n.soundname),e.push("playing: "+n.playing),e.push("progress: "+n.seek),e.push("scheduledVolume: "+t.scheduledVolume),e.push("volume: "+n.volume),e.push("--------------"))}),e}},{key:"terminateCurrentSound",value:function(){f.default.emit("log:log",this._id+" terminateCurrentSound()",2,13),this._sound.terminate()}},{key:"increaseSeek",value:function(){var t=arguments.length<=0||void 0===arguments[0]?1:arguments[0],e=this._sound.seek,n=e+t;console.log(n,this._sound.duration),n<this._sound.duration&&(this._sound.seek=n)}},{key:"_buildPlaylist",value:function(t){var e=this,n=arguments.length<=1||void 0===arguments[1]||arguments[1];t=t||this._updatedLocations;var r=t.slice(0);this._updatedLocations=r;var i=this._playlist.shift();this._closestLocation=t[0];var o=0;"speaking"===this._id,_.default.each(r,function(t){t.sourcesLength=0,t.nearFactor=e._getNearFactor(t.distance,t.radius),"speaking"===e._id,t.sources=e._getLocationSourcesById(t.id),n&&c.default.shuffle(t.sources),t.sourcesLength=t.sources.length,o+=t.sourcesLength}),this._playlist.length=0;for(var a=0,s=r.length,u=0;this._playlist.length<y&&u<s;){var l=r[a],f=Math.random();if(f>l.nearFactor){var h=l.sources.shift();if(h){
//!!!
var p={src:h,nearFactor:l.nearFactor};this._playlist.push(p)}else a=(a+1)%s,u++}else a=(a+1)%s}this._playlist=this._filterHeardSources(this._playlist),"effects"!==this._id||this._stateOut||(this._playlist=this._filterSourcesByTerm(this._playlist,"ambient")),console.log(this._playlist),console.log("MapUpdate "+this._id+": playlist.length: "+this._playlist.length),i&&this._playlist.unshift(i)}},{key:"play",value:function(){var t=this._sound.soundname,e=this._playedSources[t];console.log("Layer: play() "+this._id),console.log(e),this._sound.play(e)}},{key:"pause",value:function(){this._sound.pause()}},{key:"ramp",value:function(){var t=arguments.length<=0||void 0===arguments[0]?1:arguments[0],e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=!(arguments.length<=2||void 0===arguments[2])&&arguments[2];this._sound.ramp(t,e,n)}},{key:"_loadNext",value:function(t,e){var n=void 0;if(n=e?e.shift():this._playlist.shift()){var r=this._getFileNameFromSource(n);t=t||n.soundOptions,console.log("----------"),console.log(n),console.log(n.soundOptions),console.log("----------"),this._sound.loadSound(n,r,t),this._preloading=!1,this._preloader&&(this._preloader.destroy(),this._preloader=null)}else f.default.emit("log:error","_loadNext fail "+this._id+" no source")}},{key:"preloadNext",value:function(){var t=this;if(!this._preloading){this._preloading=!0;var e=this._playlist[0];s.default.load(e).then(function(e){t._preloader=e}).finally()}}},{key:"update",value:function(){this._sound.update()}},{key:"getRandomDataKey",value:function(){var t=Math.floor(Math.random()*this._dataKeys.length);return this._dataKeys[t]}},{key:"_createPlaylistObjectsFromSourceUrls",value:function(){var t=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];return t.map(function(t){return _.default.isArray(t)?{src:t}:t})}},{key:"_getLocationSourcesById",value:function(t){var e=void 0,n=this._locationsUrls[t]||this._locationsUrls.misc;for(n=n||[];!n.length;){var r=Math.floor(Math.random()*this._data.locations.length),i=this._data.locations[r].id;n=this._locationsUrls[i]}return e=n.slice(0)}},{key:"_getLocationById",value:function(t){return this._data.locations.filter(function(e){return console.log(t,e.id),e.id===t})[0]}},{key:"_getTransitionSourceUrls",value:function(){return this._extractUrls(this._data.locations.filter(function(t){return"transitions"===t.id}).map(function(t){return t.files})[0])}},{key:"_filterSourcesByTerm",value:function(t,e){return t.filter(function(t){return t.src[0].indexOf(e)>=0})}},{key:"_filterHeardSources",value:function(){var t=this,e=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],n=e.filter(function(e){var n=e.src||e,r=t._getFileNameFromSource(n),i=!(t._heardSourcesNames.indexOf(r)>-1);return i});return n.length?n:(console.log("Heard all the playlist for "+this._id+". Reseting."),this._heardSourcesNames.length=0,e)}},{key:"_getNextFileIndex",value:function(){var t=arguments.length<=0||void 0===arguments[0]?1:arguments[0],e=this._fileIndex;return e+=t,e>this._locationsUrls.length-1&&(e=0),e}},{key:"_getFileNameFromSource",value:function(t){if(!t)return"";t=t.src||t;var e=t[0].split("/");return e=e[e.length-2]+e[e.length-1]}},{key:"_getNearFactorFromLocation",value:function(t,e){return this._getNearFactor(this._getDistanceFromUpdatedLocationsById(t),e)}},{key:"_getDistanceFromUpdatedLocationsById",value:function(t){var e=this._updatedLocations.filter(function(e){return e.id===t});return e.length?e[0].distance:(console.log("Failed _getDistanceFromUpdatedLocationsById "+t),0)}},{key:"_getDistanceFromUpdatedLocationsById",value:function(t){var e=this._updatedLocations.filter(function(e){return e.id===t});return e.length?e[0].distance:(console.log("Failed _getDistanceFromUpdatedLocationsById "+t),0)}},{key:"_getNearFactor",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?v.PERSONAL_RADIUS:arguments[1];return console.log("_getNearFactor:distance, "+t+" radius: "+e),c.default.clamp(t/e,g,m)}},{key:"_changeFileIndex",value:function(){var t=arguments.length<=0||void 0===arguments[0]?1:arguments[0];this._fileIndex=this._getNextFileIndex(t)}},{key:"_cacheLocationsUrls",value:function(){var t=this,e={};return this._data.locations.map(function(n){var r=t._getLocationFiles(n.id);e[n.id]=t._extractUrls(r)}),e}},{key:"_getLocationFiles",value:function(t){var e=this._data.locations.filter(function(e){return e.id===t});return e.length?e[0].files:this._getMisc()}},{key:"_getMisc",value:function(){var t=this._data.locations.filter(function(t){return"misc"===t.id});return t[0].files}},{key:"_filterSourcesByString",value:function(t,e){return t.filter(function(t){return t.src[0].indexOf(e)>-1})}},{key:"_extractUrls",value:function(){var t=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];return _.default.uniq(t.map(function(t){return t.map(function(t){return t?t.url:null})}))}},{key:"id",get:function(){return this._id}},{key:"playing",get:function(){return this._sound.playing}},{key:"volume",get:function(){return this._sound.volume},set:function(t){this._sound.volume=t}},{key:"scheduledVolume",get:function(){return this._scheduledVolume||this._sound.volume},set:function(t){this._scheduledVolume=t,this._sound.scheduledVolume=this._scheduledVolume}},{key:"beat",set:function(t){this._beat=t}},{key:"closestLocation",get:function(){return this._closestLocation}},{key:"progress",get:function(){return this._sound.progress}},{key:"preloading",get:function(){return this._preloading}}]),t}();e.default=w},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=function m(t,e,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,e);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:m(i,e,n)}if("value"in r)return r.value;var o=r.get;if(void 0!==o)return o.call(n)},c=n(74),l=r(c),f=n(8),h=(r(f),n(19)),p=(r(h),n(38)),d=r(p),_=n(5),v=r(_),y=n(9),g=function(t){function e(t){i(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return v.default.on("layer:music:rampup",n._rampUpMusic.bind(n)),v.default.on("volume:music:ramp",function(t){n.ramp(.2,t)}),v.default.on("volume:music:ramp:up",function(){n.ramp(.2,{volume:n.scheduledVolume})}),n}return a(e,t),s(e,[{key:"onMetronome",value:function(){!this._sound.playing&&this._beatCounter%this._beat===0,u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"onMetronome",this).call(this)}},{key:"mapEntering",value:function(t){this.ramp(2,{volume:0,end:!0},!0),this._loadNext({noPartialPlay:!0}),this.play()}},{key:"_rampUpMusic",value:function(){var t=y.CONFIG.maxMusicTime*d.default.nearFactor,e=y.CONFIG.minMusicTime+t,n=y.CONFIG.maxMusicTime+t;v.default.emit("volumescheduler:music:up");var r=1e3*(e+Math.random()*n);setTimeout(function(){v.default.emit("volumescheduler:music:down");var t=Math.random()+d.default.nearFactor/2;t>.5?v.default.emit("layer:effects:playdominent"):v.default.emit("layer:speaking:play")},r)}},{key:"mapLeaving",value:function(){var t=this;arguments.length<=0||void 0===arguments[0]||arguments[0];this._buildOutPlaylist(),this._sound.playing?(this.ramp(y.CONFIG.baseSoundFadeOut,{volume:0,end:!0},!0),setTimeout(function(){t._loadNext({noPartialPlay:!0,autoplay:!0})},1e3*(y.CONFIG.baseSoundFadeOut+.1))):this._loadNext({noPartialPlay:!0,autoplay:!0})}},{key:"onEnded",value:function(t){this._loadNext({autoplay:!0,noPartialPlay:!0})}}]),e}(l.default);e.default=g},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(116),s=r(a),u=n(43),c=r(u),l=n(8),f=r(l),h=n(9),p=n(5),d=r(p),_=n(52),v=(r(_),2),y=function(){function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=arguments.length<=1||void 0===arguments[1]?"":arguments[1];i(this,t),this._options=e,this._id=n,this.endingSignal=new c.default,this.endedSignal=new c.default,this.terminatedSignal=new c.default,this.playingSignal=new c.default,this.loadedSignal=new c.default,this._onTerminatedBound=this._onTerminated.bind(this),this._onLoadedBound=this._onLoaded.bind(this),this._onEndedBound=this._onEnded.bind(this),this._onPauseBound=this._onPause.bind(this),this._onPlayBound=this._onPlay.bind(this),this._sounds=[],this._activeSoundIndex=-1}return o(t,[{key:"loadSound",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?"":arguments[1],n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];d.default.emit("log:log","New "+this._id+" sound "+e+" loadSound()",0,15),this.activeSound;var r=this._getNextSoundIndex();if(this._sounds[r])return void d.default.emit("log:Error","Sound "+this._id+" trying to make a new sound when one already exists",2);var i=f.default.merge({name:e,autoplay:!1,loop:!1},t,this._options.howler,n);this._sounds[r]=new s.default(i,r,this._id),this._sounds[r].terminatedSignal.addOnce(this._onTerminatedBound),this._sounds[r].endedSignal.addOnce(this._onEndedBound),this._sounds[r].playingSignal.addOnce(this._onPlayBound),this._sounds[r].loadedSignal.addOnce(this._onLoadedBound),this._activeSoundIndex<0&&(this._activeSoundIndex=0),"speaking"===this._id&&console.log(this._sounds)}},{key:"onMetronome",value:function(){if(this.activeSound&&!this.activeSound.markedToDestroy&&h.CONFIG.partialPlay){var t=this.activeSound.previousTimeCounter||0,e=this.activeSound.seek;if(this.activeSound.timeCounter+=e-t,this.activeSound.timeCounter=isNaN(this.activeSound)?e:this.activeSound.timeCounter,"speaking"===this._id,this.activeSound.playtime&&"speaking"===this._id&&(this.activeSound.isEnding||this.activeSound.timeCounter>this.activeSound.playtime-this.activeSound.overlapTime&&(this.activeSound.isEnding=!0,this.endingSignal.dispatch()),this.activeSound.timeCounter>this.activeSound.playtime))return d.default.emit("log:log","Sound "+this._id+" "+this.activeSound.soundname+" past playtime, destroy!",3,20),void this._fadeAndDestroy(this.activeSound,0,this._options.fadeDownBeforeEnding);e>this.activeSound.duration()-this._options.fadeDownBeforeEnding,this.activeSound.previousTimeCounter=e}}},{key:"_getNextSoundIndex",value:function(){return(this._activeSoundIndex+1)%v}},{key:"_getSound",value:function(t){return this._sounds[t]}},{key:"fadeAndDestroy",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?0:arguments[1],n=arguments.length<=2||void 0===arguments[2]?2:arguments[2];t=t||this.activeSound,this._fadeAndDestroy(t,e,n)}},{key:"play",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?500:arguments[1];if(this.activeSound){if(!this.activeSound.playing){var n=this._scheduledVolume;d.default.emit("log:log","Sound "+this._id+" "+this.activeSound.soundname+" playing: duration:"+this._duration+" volume: "+n),this.activeSound.fade(0,n,e),this.activeSound.play(),t&&(this.activeSound.seek=t.progress,h.CONFIG.partialPlay&&(this.activeSound.playtime+=t.progress),d.default.emit("log:log:light","seeking to "+t.progress,2,12))}}else d.default.emit("log:error","No activeSound on play "+this._id)}},{key:"stop",value:function(){this.activeSound.stop()}},{key:"update",value:function(){this.activeSound&&this.activeSound.update()}},{key:"pause",value:function(){this._isPaused=!0,this.activeSound&&this.activeSound.pause()}},{key:"ramp",value:function(t,e,n){this.activeSound&&this.activeSound.ramp(t,e,n)}},{key:"_onLoaded",value:function(t){}},{key:"_onPlay",value:function(t){d.default.emit("log:log","Sound "+this._id+" at "+t+" "+this._sounds[t].soundname+" Playing"),this.playingSignal.dispatch()}},{key:"_onPause",value:function(t){}},{key:"_onEnded",value:function(t,e){this._sounds[t].hasFinished=!0,this.terminate()}},{key:"_onTerminated",value:function(t,e){this.terminate()}},{key:"_fadeAndDestroy",value:function(t){var e=(arguments.length<=1||void 0===arguments[1]?0:arguments[1],arguments.length<=2||void 0===arguments[2]?2:arguments[2]);t.markedToDestroy||(t.markedToDestroy=!0,t.ramp(e,{volume:0,end:!0},!0))}},{key:"_changeActiveSoundIndex",value:function(){this._activeSoundIndex++,this._activeSoundIndex>=v&&(this._activeSoundIndex=0)}},{key:"terminate",value:function(){if(!this.activeSound)return void d.default.emit("log:error","terminate() no active Sound");var t={soundName:this.activeSound.soundname,soundIndex:this.activeSound.soundIndex,hasFinished:!!this.activeSound.hasFinished,progress:"Howl"==typeof this.seek?0:this.seek,duration:"Howl"==typeof this.duration?0:this.duration};d.default.emit("log:log","Sound "+this._id+" "+this.activeSound.soundname+" at "+this._activeSoundIndex+" terminate()"),this.activeSound.markedToDestroy=!0,this.activeSound.terminatedSignal.remove(this._onTerminatedBound),this.activeSound.endedSignal.remove(this._onEndedBound),this.activeSound.playingSignal.remove(this._onPlayBound),this.activeSound.loadedSignal.remove(this._onLoadedBound),this._destroySound(this.activeSound),this._sounds[this._activeSoundIndex]=null,this.endedSignal.dispatch(t),this._changeActiveSoundIndex(),d.default.emit("log:log:light","----NEW "+this._id+" ACTIVE SOUND at index "+this._activeSoundIndex+"----"),console.log(this.activeSound),console.log(this._sounds),d.default.emit("log:log:light","------------------------")}},{key:"_destroySound",value:function(t){t&&(t.destroy(),t=null)}},{key:"playing",get:function(){return"speaking"===this._id,!!this.activeSound&&this.activeSound.playing}},{key:"volume",set:function(t){this.activeSound&&(this.activeSound.volume=t)},get:function(){return this.activeSound?this.activeSound.volume||0:0}},{key:"progress",get:function(){if(!this.activeSound)return 0;var t=this.activeSound.seek,e=t/this.activeSound.duration()||0;return e}},{key:"duration",get:function(){return this.activeSound.duration()||0}},{key:"seek",get:function(){return this.activeSound.seek},set:function(t){this.activeSound.seek=t}},{key:"soundname",get:function(){return this.activeSound?this.activeSound.soundname:""}},{key:"nearFactor",get:function(){return this.activeSound.nearFactor}},{key:"loaded",get:function(){return this.activeSound.loaded}},{key:"activeSound",get:function(){var t=this._activeSoundIndex<0?0:this._activeSoundIndex,e=this._sounds[t];if(!e&&this._sounds.length>0){var n=this._getNextSoundIndex(),r=this._sounds[n];r&&(this._changeActiveSoundIndex(),e=r)}return e}},{key:"sounds",get:function(){return this._sounds}},{key:"noneActiveSound",get:function(){var t=this._getNextSoundIndex();return this._sounds[t]}},{key:"scheduledVolume",set:function(t){this._scheduledVolume=t},get:function(){return this._scheduledVolume||0}},{key:"activeIndex",get:function(){return this._activeSoundIndex}}]),t}();e.default=y},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};!function(t){function e(t){return!!t&&("object"==("undefined"==typeof t?"undefined":i(t))||"function"==typeof t)}if(!t.Proxy){var n=null;t.Proxy=function(t,r){if(!e(t)||!e(r))throw new TypeError("Cannot create proxy with a non-object as target or handler");var i=function(){};n=function(){i=function(t){throw new TypeError("Cannot perform '"+t+"' on a proxy that has been revoked")}};var o=r;r={get:null,set:null,apply:null,construct:null};for(var a in o){if(!(a in r))throw new TypeError("Proxy polyfill does not support trap '"+a+"'");r[a]=o[a]}"function"==typeof o&&(r.apply=o.apply.bind(o));var s=this,u=!1,c="function"==typeof t;(r.apply||r.construct||c)&&(s=function(){var e=this&&this.constructor===s;if(i(e?"construct":"apply"),e&&r.construct)return r.construct.call(this,t,arguments);if(!e&&r.apply)return r.apply(t,this,arguments);if(c){if(e){var n=Array.prototype.slice.call(arguments);n.unshift(t);var o=t.bind.apply(t,n);return new o}return t.apply(this,arguments)}throw new TypeError(e?"not a constructor":"not a function")},u=!0);var l=r.get?function(t){return i("get"),r.get(this,t,s)}:function(t){return i("get"),this[t]},f=r.set?function(t,e){i("set");r.set(this,t,e,s)}:function(t,e){i("set"),this[t]=e},h=Object.getOwnPropertyNames(t),p={};h.forEach(function(e){if(!(u&&e in s)){var n=Object.getOwnPropertyDescriptor(t,e),r={enumerable:!!n.enumerable,get:l.bind(t,e),set:f.bind(t,e)};Object.defineProperty(s,e,r),p[e]=!0}});var d=!0;if(Object.setPrototypeOf?Object.setPrototypeOf(s,Object.getPrototypeOf(t)):s.__proto__?s.__proto__=t.__proto__:d=!1,r.get||!d)for(var _ in t)p[_]||Object.defineProperty(s,_,{get:l.bind(t,_)});return Object.seal(t),Object.seal(s),s},t.Proxy.revocable=function(e,r){var i=new t.Proxy(e,r);return{proxy:i,revoke:n}},t.Proxy.revocable=t.Proxy.revocable,t.Proxy=t.Proxy}}(window);var o=function(){function t(e,r){n(this,t),this._options=e,this._p=this._createProxy(this._options,r)}return r(t,[{key:"_createProxy",value:function(t,e){return new Proxy(t,{set:function(t,n,r){return e(n,r),t[n]=r,!0}})}},{key:"destroy",value:function(){this._p=null}},{key:"p",get:function(){return this._p}}]),t}();e.default=o},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=function w(t,e,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,e);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:w(i,e,n)}if("value"in r)return r.value;var o=r.get;if(void 0!==o)return o.call(n)},c=n(53),l=(r(c),n(19)),f=(r(l),n(38)),h=r(f),p=n(5),d=r(p),_=n(75),v=(r(_),n(8)),y=(r(v),n(9)),g=n(74),m=r(g),b=function(t){function e(t){i(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return d.default.on("layer:speaking:play",n._onPlayCommand.bind(n)),d.default.on("layer:effects:dominant:ended",n._onEffectsDominantEnded.bind(n)),n}return a(e,t),s(e,[{key:"onMetronome",value:function(){this._sound.playing||this._playingInterlude||this._beatCounter%this._beat!==0||this.play(),u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"onMetronome",this).call(this)}},{key:"mapEntering",value:function(t){var e=this;console.log("Speaking mapEntering"),this._sound.playing?(this.ramp(y.CONFIG.baseSoundFadeOut,{volume:0,end:!0},!0),setTimeout(function(){e._loadNext({autoplay:!0})},1e3*(y.CONFIG.baseSoundFadeOut+.1))):this._loadNext({autoplay:!0})}},{key:"mapLeaving",value:function(){arguments.length<=0||void 0===arguments[0]||arguments[0];this.ramp(y.CONFIG.baseSoundFadeOut,{volume:0,end:!0},!0),this._loadNext()}},{key:"onPlaying",value:function(){var t=Math.random();t>.25&&(d.default.emit("volumescheduler:speaking:up"),d.default.emit("volume:music:ramp",{volume:0}))}},{key:"onEnding",value:function(){this._playingInterlude=!0}},{key:"onEnded",value:function(t){u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"onEnded",this).call(this,t),this._playingInterlude=!0,this._loadNext();var n=Math.random()+h.default.nearFactor/2;console.log("----------------------------------"),console.log(n),console.log("----------------------------------"),n>.4?d.default.emit("layer:effects:playdominent"):n>.25?this._playingInterlude=!1:d.default.emit("layer:music:rampup"),d.default.emit("volumescheduler:speaking:down"),d.default.emit("volume:music:ramp:up"),setTimeout(function(){},3e3)}},{key:"play",value:function(){u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"play",this).call(this),d.default.emit("volumescheduler:music:down")}},{key:"_onPlayCommand",value:function(){this._playingInterlude=!1,this.play()}},{key:"_onEffectsDominantEnding",value:function(){this._playingInterlude=!1,d.default.emit("volumescheduler:effects:down")}},{key:"_onEffectsDominantEnded",value:function(){this._playingInterlude=!1,d.default.emit("volumescheduler:effects:down"),!this.sound.playing}}]),e}(m.default);e.default=b},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(8),o=r(i),a=n(110),s=r(a),u=n(203),c=r(u),l=s.default.promisify(c.default),f=function(){function t(t,e){return l(t).then(function(t){console.log(t);var r=o.default.values(e);return s.default.map(r,function(e){return e.locations=n(t,e.id),e},{concurrency:1}).then(function(t){return o.default.flatten(t)})})}function e(t,e){function n(i){return i.map(function(i){if("folder"===i.type)return i.children?n(i.children):i;var o=REMOTE_ASSET_URL+"tour/"+t.name+"/"+i.path.substring(i.path.indexOf(e),i.path.length);return i.url=o,r.push(i),i})}var r=[],i=t.children.filter(function(t){return t.name===e});n(i);for(var o=[],a=0;a<r.length;a+=2)o.push([r[a],r[a+1]]);return{id:t.name,files:o}}function n(t,n){var r=[];return o.default.each(t.children,function(t){"folder"===t.type&&r.push(e(t,n))}),r}return{parseJsonToLocation:n,loadJson:t}}();e.default=f},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(5),o=r(i),a="14",s={green:{background:"#e7f2e6",color:"#8761E7"},lightBlue:{background:"#e7f2e6",color:"#8761E7"},blue:{background:"#3E6FA2",color:"#E6C5F3"},red:{background:"#864853",color:"#A4A560"},orange:{background:"#DFAC4C",color:"#4CDF98"}},u=function(){function t(t){for(var e=0,n="";e<t;)n+="\t",e++;return n}function e(e){var n=arguments.length<=1||void 0===arguments[1]?0:arguments[1],r=arguments.length<=2||void 0===arguments[2]?a:arguments[2],i=arguments.length<=3||void 0===arguments[3]?"red":arguments[3];console.log("%c "+t(n)+" "+e,"background: "+s[i].background+"; color: "+s[i].color+"; font-size: "+r+"px")}function n(e){var n=arguments.length<=1||void 0===arguments[1]?0:arguments[1],r=arguments.length<=2||void 0===arguments[2]?a:arguments[2],i=arguments.length<=3||void 0===arguments[3]?"orange":arguments[3];console.log("%c "+t(n)+" "+e,"background: "+s[i].background+"; color: "+s[i].color+"; font-size: "+r+"px")}function r(e){var n=arguments.length<=1||void 0===arguments[1]?0:arguments[1],r=arguments.length<=2||void 0===arguments[2]?a:arguments[2],i=arguments.length<=3||void 0===arguments[3]?"blue":arguments[3];console.log("%c "+t(n)+" "+e,"background: "+s[i].background+"; color: "+s[i].color+"; font-size: "+r+"px")}function i(e){var n=arguments.length<=1||void 0===arguments[1]?0:arguments[1],r=arguments.length<=2||void 0===arguments[2]?a:arguments[2],i=arguments.length<=3||void 0===arguments[3]?"green":arguments[3];console.log("%c "+t(n)+" "+e,"background: "+s[i].background+"; color: "+s[i].color+"; font-size: "+r+"px")}function u(){o.default.off("audio:error",e)}return o.default.on("log:error",e),o.default.on("log:success",i),o.default.on("log:log",r),o.default.on("log:log:light",function(t,e,n,i){r(t,e,n,"lightBlue")}),o.default.on("log:warn",n),{dispose:u}}();e.default=u},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(){return{type:o.LOAD_ALHAMBRA,payload:{promise:(0,u.default)(a.JSON_DIR+"alhambra_data.json").then(function(t){var e=t.json();return e})}}}Object.defineProperty(e,"__esModule",{value:!0}),e.loadAlhambra=i;var o=n(20),a=n(44),s=n(76),u=r(s)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(){return{type:o.LOAD_BODYMOVIN,payload:{promise:(0,u.default)(a.JSON_DIR+"bodymovin.json").then(function(t){var e=t.json();return e})}}}Object.defineProperty(e,"__esModule",{value:!0}),e.loadBodymovin=i;var o=n(20),a=n(44),s=n(76),u=r(s)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(){return{type:o.LOAD_SEQUENCE,payload:{promise:(0,u.default)(a.JSON_DIR+"magipack_manifest.json").then(function(t){var e=t.json();return e})}}}Object.defineProperty(e,"__esModule",{value:!0}),e.loadSequence=i;var o=n(20),a=n(44),s=n(76),u=r(s)},function(t,e,n){"use strict";function r(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return{type:o.TOUR_LOCATION_CHANGED,payload:t}}function i(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return{type:o.TOUR_SPEAKING_CHANGED,payload:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.locationChanged=r,e.speakingChanged=i;var o=n(20)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}n(186);var i=n(2),o=r(i),a=n(70),s=r(a),u=n(26),c=n(188),l=n(27),f=n(69),h=n(185),p=r(h),d=n(184),_=r(d),v=n(187),y=r(v);y.default.attach(document.body);var g=(0,l.useRouterHistory)(c.createHistory)({basename:"/alhambra/08"}),m=(0,p.default)({browserHistory:g}),b=(0,f.syncHistoryWithStore)(g,m),w=(0,_.default)();s.default.render(o.default.createElement(u.Provider,{store:m},o.default.createElement(l.Router,{history:b},w)),document.getElementById("app"))},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();n(257);var u=n(2),c=r(u),l=(n(27),n(26)),f=n(44),h=function(t){function e(){i(this,e);var t=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.state={locationIndex:!1},t}return a(e,t),s(e,[{key:"componentDidMount",value:function(){}},{key:"_onNewSpeaking",value:function(){var t=this.props.bodymovin,e=this._locationIndex;if(this._bodyAnim&&!isNaN(e)){var n=Math.floor(3*Math.random()),r=this._bodyAnim.getAnimationLayers();if(r.length){var i=t.toArray(),o=i[e].layers[1].colors[n],a=i[e].layers[2].colors[n];r[1].stylesList[0].co="rgb("+o[0]+","+o[1]+","+o[2]+")",r[2].stylesList[0].co="rgb("+a[0]+","+a[1]+","+a[2]+")"}}}},{key:"_newLocationAnimation",value:function(){var t=this.props.tour,e=(this.props.bodymovin,window.bodymovin);if(!isNaN(t.locationIndex)&&this._locationIndex!==t.locationIndex){var n={wrapper:this.refs.bodymovin,renderer:"canvas",animType:"canvas",loop:!0,prerender:!0,autoplay:!0,path:f.ASSETS_DIR+"bodymovin/"+t.locationIndex+"/data.json",rendererSettings:{scaleMode:"noScale"}};this._bodyAnim=e.loadAnimation(n)}this._locationIndex=t.locationIndex}},{key:"render",value:function(){var t=this.props,e=(t.browser,t.bodymovin);t.tour;return e.size?(this._newLocationAnimation(),this._onNewSpeaking(),c.default.createElement("div",{ref:"bodymovin",className:"o-page bodymovin"})):c.default.createElement("div",null)}}]),e}(u.Component);e.default=(0,l.connect)(function(t){var e=t.bodymovin,n=t.browser,r=t.tour;return{bodymovin:e,browser:n,tour:r}},{})(h)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(2),c=r(u),l=(n(27),n(237)),f=n(26),h=n(223),p=r(h),d=[{id:"loc0",latitude:51.518562,longitude:-.092574,radius:40},{id:"loc1",latitude:51.520077,longitude:-.095235,radius:40},{id:"loc2",latitude:51.519576,longitude:-.090632,radius:40}],_=function(t){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),s(e,[{key:"componentDidMount",value:function(){}},{key:"_initDeriveur",value:function(){var t=this.props,e=(t.browser,t.alhambra),n=t.locationChanged,r=t.speakingChanged;this._devriveur||(console.log(e.toArray().length),console.log(e.toArray()),this._devriveur=new p.default(e.toArray(),d,{noVisualMap:!0,noGeo:!0}),this._devriveur.on("speaking:playing",function(){return r()}),this._devriveur.on("map:entering",function(t,e){n({locationIndex:e})}))}},{key:"render",value:function(){var t=this.props,e=(t.browser,t.alhambra);t.tour;return e.size?(this._initDeriveur(),c.default.createElement("div",{ref:"deriveur",className:"deriveur"})):c.default.createElement("div",null)}}]),e}(u.Component);_.propTypes={alhambra:u.PropTypes.object.isRequired,browser:u.PropTypes.object.isRequired,tour:u.PropTypes.object.isRequired,locationChanged:u.PropTypes.func.isRequired,speakingChanged:u.PropTypes.func.isRequired},e.default=(0,f.connect)(function(t){var e=t.alhambra,n=t.browser,r=t.tour;return{alhambra:e,browser:n,tour:r}},{locationChanged:l.locationChanged,speakingChanged:l.speakingChanged})(_)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{
value:!0});var i=n(37),o=r(i),a=n(252),s=r(a),u=n(216),c=r(u),l=n(209),f=r(l),h=function(){function t(t){var e=[];o.default.forIn(t,function(t,n){var r="images"===n?"json":"bin";e.push({url:t,type:r,id:n})});var n=new c.default({assets:e});return n.start(),new s.default(function(t,e){n.on("complete",function(e){t(n)})})}function e(){var t=_.length;v||(t>0&&(p.src=d.getURI(_[l]),l++,l>=t&&(l=0)),h=a.request(e))}function n(t,n){d=new Magipack(n,t),_=t.map(function(t){return t[0]}),l=0,h=a.request(e)}function r(e,r){p=r,t(e).then(function(t){u=t,n(t.get("images"),t.get("pack"),r)})}var i=(window.Magipack,30),a=new f.default(i),u=void 0,l=0,h=void 0,p=void 0,d=void 0,_=void 0,v=!1;return{loadAndPlay:r}}();e.default=h},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();n(258);var u=n(2),c=r(u),l=(n(27),n(37)),f=r(l),h=n(26),p=n(241),d=r(p),_=function(t){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),s(e,[{key:"componentDidMount",value:function(){var t=this.props;t.browser,t.sequence,t.tour}},{key:"componentWillReceiveProps",value:function(t){var e=this.props,n=(e.browser,e.sequence,e.tour),r=t.tour.locationIndex;n.locationIndex===r||isNaN(r)||this._newLocation(t.tour.locationIndex)}},{key:"_newLocation",value:function(t){var e=this.props.sequence,n=e.toArray(),r=f.default.assign({},n[t]);d.default.loadAndPlay(r,this.refs.magiSrc)}},{key:"render",value:function(){var t=this.props,e=(t.browser,t.sequence);t.tour;return e.size?c.default.createElement("div",{ref:"sequence",className:"o-page sequence"},c.default.createElement("img",{ref:"magiSrc"})):c.default.createElement("div",null)}}]),e}(u.Component);e.default=(0,h.connect)(function(t){var e=t.sequence,n=t.browser,r=t.tour;return{sequence:e,browser:n,tour:r}},{})(_)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();n(259);var u=n(2),c=r(u),l=n(26),f=n(234),h=n(235),p=n(236),d=n(286),_=(r(d),function(t){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),s(e,[{key:"componentDidMount",value:function(){var t=this.props,e=t.loadAlhambra,n=t.loadBodymovin,r=t.loadSequence;setTimeout(function(){e(),n(),r()},500)}},{key:"render",value:function(){return c.default.createElement("div",{className:"app"},this.props.children)}}]),e}(u.Component));_.propTypes={children:u.PropTypes.node.isRequired,location:u.PropTypes.object.isRequired,params:u.PropTypes.object.isRequired,loadAlhambra:u.PropTypes.func.isRequired,loadBodymovin:u.PropTypes.func.isRequired,loadSequence:u.PropTypes.func.isRequired},e.default=(0,l.connect)(function(t){return{}},{loadAlhambra:f.loadAlhambra,loadBodymovin:h.loadBodymovin,loadSequence:p.loadSequence})(_)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();n(260);var u=n(2),c=r(u),l=n(27),f=n(26),h=function(t){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),s(e,[{key:"render",value:function(){this.props.browser;return c.default.createElement("div",{className:"o-page"},c.default.createElement(l.Link,{key:"tour",to:"tour"},c.default.createElement("h1",null,"Tour")),c.default.createElement(l.Link,{key:"map",to:"map"},c.default.createElement("h1",null,"Map")),c.default.createElement(l.Link,{key:"about",to:"about"},c.default.createElement("h1",null,"About")),c.default.createElement(l.Link,{key:"credits",to:"credits"},c.default.createElement("h1",null,"Credits")))}}]),e}(u.Component);h.propTypes={browser:u.PropTypes.object.isRequired},e.default=(0,f.connect)(function(t){var e=t.browser;return{browser:e}})(h)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();n(261);var u=n(2),c=r(u),l=(n(27),n(26)),f=n(240),h=r(f),p=n(239),d=r(p),_=n(242),v=r(_),y=function(t){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),s(e,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var t=this.props,e=(t.browser,t.alhambra);t.bodymovin,t.tour;return e.size?c.default.createElement("div",{className:"o-page"},c.default.createElement(h.default,null),c.default.createElement(d.default,null),c.default.createElement(v.default,null)):c.default.createElement("h1",null,"Loading")}}]),e}(u.Component);y.propTypes={alhambra:u.PropTypes.object.isRequired,bodymovin:u.PropTypes.object.isRequired,browser:u.PropTypes.object.isRequired,tour:u.PropTypes.object.isRequired},e.default=(0,l.connect)(function(t){var e=t.alhambra,n=t.bodymovin,r=t.browser,i=t.tour;return{alhambra:e,bodymovin:n,browser:r,tour:i}},{})(y)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function o(t,e){function n(i){return i.map(function(i){if("folder"===i.type)return i.children?n(i.children):i;var o="https://storage.googleapis.com/samrad-alhambra/www-assets/tour/"+t.name+"/"+i.path.substring(i.path.indexOf(e),i.path.length);return i.url=o,r.push(i),i})}var r=[],i=t.children.filter(function(t){return t.name===e});n(i);for(var o=[],a=0;a<r.length;a+=2)o.push([r[a],r[a+1]]);return{id:t.name,files:o}}function a(t,e){var n=[];return l.default.each(t.children,function(t){"folder"===t.type&&n.push(o(t,e))}),n}function s(){var t=arguments.length<=0||void 0===arguments[0]?d:arguments[0],e=arguments[1];switch(e.type){case u.LOAD_ALHAMBRA_SUCCESS:var n=l.default.values(h),r=n.map(function(t){return t.locations=a(e.payload,t.id),t}),o=new f.List([].concat(i(r)));return o;case u.LOAD_ALHAMBRA_ERROR:return t.set("hasFailed",!0);default:return t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var u=n(20),c=n(37),l=r(c),f=n(57),h={speaking:{id:"speaking",options:{sound:{fadeDownBeforeEnding:.4,howler:{volume:1}}}},effects:{id:"effects",options:{sound:{fadeDownBeforeEnding:.4,howler:{volume:.1}}}},music:{id:"music",options:{sound:{fadeDownBeforeEnding:.4,howler:{volume:.07}}}}},p=f.List,d=new p},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function o(){var t=arguments.length<=0||void 0===arguments[0]?l:arguments[0],e=arguments[1];switch(e.type){case a.LOAD_BODYMOVIN_SUCCESS:var n=new u.List([].concat(i(e.payload)));return n;case a.LOAD_BODYMOVIN_ERROR:return t.set("hasFailed",!0);default:return t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var a=n(20),s=n(37),u=(r(s),n(57)),c=u.List,l=new c},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(69),o=n(106),a=n(178),s=n(246),u=r(s),c=n(247),l=r(c),f=n(249),h=r(f),p=n(250),d=r(p);e.default=(0,o.combineReducers)({routing:i.routerReducer,tour:d.default,alhambra:u.default,bodymovin:l.default,sequence:h.default,browser:(0,a.createResponsiveStateReducer)({mobile:360,phablet:540,tablet:768,tabletH:1024,desktop:1280,desktopM:1440,desktopL:1680,desktopXL:1920})})},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function o(t){return t.forEach(function(t){t.images=""+u.ASSETS_DIR+t.images,t.pack=""+u.ASSETS_DIR+t.pack}),console.log("-----------"),console.log("-----------"),console.log(t),t}function a(){var t=arguments.length<=0||void 0===arguments[0]?h:arguments[0],e=arguments[1];switch(e.type){case s.LOAD_SEQUENCE_SUCCESS:var n=new l.List([].concat(i(o(e.payload))));return n;case s.LOAD_SEQUENCE_ERROR:return t.set("hasFailed",!0);default:return t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var s=n(20),u=n(44),c=n(37),l=(r(c),n(57)),f=l.List,h=new f},function(t,e,n){"use strict";function r(){var t=arguments.length<=0||void 0===arguments[0]?s:arguments[0],e=arguments[1];switch(e.type){case i.TOUR_LOCATION_CHANGED:return e.payload.locationIndex!==t.get("locationIndex")?t.set("locationIndex",e.payload.locationIndex):t;case i.TOUR_SPEAKING_CHANGED:var n=t.get("speakingCounter");return t.set("speakingCounter",n+1);default:return t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var i=n(20),o=n(57),a=(0,o.Record)({locationIndex:NaN,speakingCounter:0}),s=new a},function(t,e){"use strict";function n(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=0,n=t.length;e<n;++e)s[e]=t[e],u[t.charCodeAt(e)]=e;u["-".charCodeAt(0)]=62,u["_".charCodeAt(0)]=63}function r(t){var e,n,r,i,o,a,s=t.length;if(s%4>0)throw new Error("Invalid string. Length must be a multiple of 4");o="="===t[s-2]?2:"="===t[s-1]?1:0,a=new c(3*s/4-o),r=o>0?s-4:s;var l=0;for(e=0,n=0;e<r;e+=4,n+=3)i=u[t.charCodeAt(e)]<<18|u[t.charCodeAt(e+1)]<<12|u[t.charCodeAt(e+2)]<<6|u[t.charCodeAt(e+3)],a[l++]=i>>16&255,a[l++]=i>>8&255,a[l++]=255&i;return 2===o?(i=u[t.charCodeAt(e)]<<2|u[t.charCodeAt(e+1)]>>4,a[l++]=255&i):1===o&&(i=u[t.charCodeAt(e)]<<10|u[t.charCodeAt(e+1)]<<4|u[t.charCodeAt(e+2)]>>2,a[l++]=i>>8&255,a[l++]=255&i),a}function i(t){return s[t>>18&63]+s[t>>12&63]+s[t>>6&63]+s[63&t]}function o(t,e,n){for(var r,o=[],a=e;a<n;a+=3)r=(t[a]<<16)+(t[a+1]<<8)+t[a+2],o.push(i(r));return o.join("")}function a(t){for(var e,n=t.length,r=n%3,i="",a=[],u=16383,c=0,l=n-r;c<l;c+=u)a.push(o(t,c,c+u>l?l:c+u));return 1===r?(e=t[n-1],i+=s[e>>2],i+=s[e<<4&63],i+="=="):2===r&&(e=(t[n-2]<<8)+t[n-1],i+=s[e>>10],i+=s[e>>4&63],i+=s[e<<2&63],i+="="),a.push(i),a.join("")}e.toByteArray=r,e.fromByteArray=a;var s=[],u=[],c="undefined"!=typeof Uint8Array?Uint8Array:Array;n()},function(t,e,n){(function(e,n,r){/* @preserve
	 * The MIT License (MIT)
	 * 
	 * Copyright (c) 2013-2015 Petka Antonov
	 * 
	 * Permission is hereby granted, free of charge, to any person obtaining a copy
	 * of this software and associated documentation files (the "Software"), to deal
	 * in the Software without restriction, including without limitation the rights
	 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
	 * copies of the Software, and to permit persons to whom the Software is
	 * furnished to do so, subject to the following conditions:
	 * 
	 * The above copyright notice and this permission notice shall be included in
	 * all copies or substantial portions of the Software.
	 * 
	 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
	 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
	 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL THE
	 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
	 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
	 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
	 * THE SOFTWARE.
	 * 
	 */
!function(e){t.exports=e()}(function(){var t,i,o;return function a(t,e,n){function r(o,s){if(!e[o]){if(!t[o]){var u="function"==typeof _dereq_&&_dereq_;if(!s&&u)return u(o,!0);if(i)return i(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var l=e[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return r(n?n:e)},l,l.exports,a,t,e,n)}return e[o].exports}for(var i="function"==typeof _dereq_&&_dereq_,o=0;o<n.length;o++)r(n[o]);return r}({1:[function(t,e,n){"use strict";e.exports=function(t){function e(t){var e=new n(t),r=e.promise();return e.setHowMany(1),e.setUnwrap(),e.init(),r}var n=t._SomePromiseArray;t.any=function(t){return e(t)},t.prototype.any=function(){return e(this)}}},{}],2:[function(t,n,r){"use strict";function i(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new f(16),this._normalQueue=new f(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var t=this;this.drainQueues=function(){t._drainQueues()},this._schedule=l}function o(t,e,n){this._lateQueue.push(t,e,n),this._queueTick()}function a(t,e,n){this._normalQueue.push(t,e,n),this._queueTick()}function s(t){this._normalQueue._pushOne(t),this._queueTick()}var u;try{throw new Error}catch(c){u=c}var l=t("./schedule"),f=t("./queue"),h=t("./util");i.prototype.setScheduler=function(t){var e=this._schedule;return this._schedule=t,this._customScheduler=!0,e},i.prototype.hasCustomScheduler=function(){return this._customScheduler},i.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},i.prototype.disableTrampolineIfNecessary=function(){h.hasDevTools&&(this._trampolineEnabled=!1)},i.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},i.prototype.fatalError=function(t,n){n?(e.stderr.write("Fatal "+(t instanceof Error?t.stack:t)+"\n"),e.exit(2)):this.throwLater(t)},i.prototype.throwLater=function(t,e){if(1===arguments.length&&(e=t,t=function(){throw e}),"undefined"!=typeof setTimeout)setTimeout(function(){t(e)},0);else try{this._schedule(function(){t(e)})}catch(n){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},h.hasDevTools?(i.prototype.invokeLater=function(t,e,n){this._trampolineEnabled?o.call(this,t,e,n):this._schedule(function(){setTimeout(function(){t.call(e,n)},100)})},i.prototype.invoke=function(t,e,n){this._trampolineEnabled?a.call(this,t,e,n):this._schedule(function(){t.call(e,n)})},i.prototype.settlePromises=function(t){this._trampolineEnabled?s.call(this,t):this._schedule(function(){t._settlePromises()})}):(i.prototype.invokeLater=o,i.prototype.invoke=a,i.prototype.settlePromises=s),i.prototype.invokeFirst=function(t,e,n){this._normalQueue.unshift(t,e,n),this._queueTick()},i.prototype._drainQueue=function(t){for(;t.length()>0;){var e=t.shift();if("function"==typeof e){var n=t.shift(),r=t.shift();e.call(n,r)}else e._settlePromises()}},i.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},i.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},i.prototype._reset=function(){this._isTickUsed=!1},n.exports=i,n.exports.firstLineError=u},{"./queue":26,"./schedule":29,"./util":36}],3:[function(t,e,n){"use strict";e.exports=function(t,e,n,r){var i=!1,o=function(t,e){this._reject(e)},a=function(t,e){e.promiseRejectionQueued=!0,e.bindingPromise._then(o,o,null,this,t)},s=function(t,e){0===(50397184&this._bitField)&&this._resolveCallback(e.target)},u=function(t,e){e.promiseRejectionQueued||this._reject(t)};t.prototype.bind=function(o){i||(i=!0,t.prototype._propagateFrom=r.propagateFromFunction(),t.prototype._boundValue=r.boundValueFunction());var c=n(o),l=new t(e);l._propagateFrom(this,1);var f=this._target();if(l._setBoundTo(c),c instanceof t){var h={promiseRejectionQueued:!1,promise:l,target:f,bindingPromise:c};f._then(e,a,void 0,l,h),c._then(s,u,void 0,l,h),l._setOnCancel(c)}else l._resolveCallback(f);return l},t.prototype._setBoundTo=function(t){void 0!==t?(this._bitField=2097152|this._bitField,this._boundTo=t):this._bitField=this._bitField&-2097153},t.prototype._isBound=function(){return 2097152===(2097152&this._bitField)},t.bind=function(e,n){return t.resolve(n).bind(e)}}},{}],4:[function(t,e,n){"use strict";function r(){try{Promise===o&&(Promise=i)}catch(t){}return o}var i;"undefined"!=typeof Promise&&(i=Promise);var o=t("./promise")();o.noConflict=r,e.exports=o},{"./promise":22}],5:[function(t,e,n){"use strict";var r=Object.create;if(r){var i=r(null),o=r(null);i[" size"]=o[" size"]=0}e.exports=function(e){function n(t,n){var r;if(null!=t&&(r=t[n]),"function"!=typeof r){var i="Object "+s.classString(t)+" has no method '"+s.toString(n)+"'";throw new e.TypeError(i)}return r}function r(t){var e=this.pop(),r=n(t,e);return r.apply(t,this)}function i(t){return t[this]}function o(t){var e=+this;return e<0&&(e=Math.max(0,e+t.length)),t[e]}var a,s=t("./util"),u=s.canEvaluate;s.isIdentifier;e.prototype.call=function(t){var e=[].slice.call(arguments,1);return e.push(t),this._then(r,void 0,void 0,e,void 0)},e.prototype.get=function(t){var e,n="number"==typeof t;if(n)e=o;else if(u){var r=a(t);e=null!==r?r:i}else e=i;return this._then(e,void 0,void 0,t,void 0)}}},{"./util":36}],6:[function(t,e,n){"use strict";e.exports=function(e,n,r,i){var o=t("./util"),a=o.tryCatch,s=o.errorObj,u=e._async;e.prototype.break=e.prototype.cancel=function(){if(!i.cancellation())return this._warn("cancellation is disabled");for(var t=this,e=t;t.isCancellable();){if(!t._cancelBy(e)){e._isFollowing()?e._followee().cancel():e._cancelBranched();break}var n=t._cancellationParent;if(null==n||!n.isCancellable()){t._isFollowing()?t._followee().cancel():t._cancelBranched();break}t._isFollowing()&&t._followee().cancel(),e=t,t=n}},e.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},e.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||this._branchesRemainingToCancel<=0},e.prototype._cancelBy=function(t){return t===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},e.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},e.prototype._cancel=function(){this.isCancellable()&&(this._setCancelled(),u.invoke(this._cancelPromises,this,void 0))},e.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},e.prototype._unsetOnCancel=function(){this._onCancelField=void 0},e.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},e.prototype._doInvokeOnCancel=function(t,e){if(o.isArray(t))for(var n=0;n<t.length;++n)this._doInvokeOnCancel(t[n],e);else if(void 0!==t)if("function"==typeof t){if(!e){var r=a(t).call(this._boundValue());r===s&&(this._attachExtraTrace(r.e),u.throwLater(r.e))}}else t._resultCancelled(this)},e.prototype._invokeOnCancel=function(){var t=this._onCancel();this._unsetOnCancel(),u.invoke(this._doInvokeOnCancel,this,t)},e.prototype._invokeInternalOnCancel=function(){this.isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},e.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(t,e,n){"use strict";e.exports=function(e){function n(t,n,s){return function(u){var c=s._boundValue();t:for(var l=0;l<t.length;++l){var f=t[l];if(f===Error||null!=f&&f.prototype instanceof Error){if(u instanceof f)return o(n).call(c,u)}else if("function"==typeof f){var h=o(f).call(c,u);if(h===a)return h;if(h)return o(n).call(c,u)}else if(r.isObject(u)){for(var p=i(f),d=0;d<p.length;++d){var _=p[d];if(f[_]!=u[_])continue t}return o(n).call(c,u)}}return e}}var r=t("./util"),i=t("./es5").keys,o=r.tryCatch,a=r.errorObj;return n}},{"./es5":13,"./util":36}],8:[function(t,e,n){"use strict";e.exports=function(t){function e(){this._trace=new e.CapturedTrace(r())}function n(){if(i)return new e}function r(){var t=o.length-1;if(t>=0)return o[t]}var i=!1,o=[];return t.prototype._promiseCreated=function(){},t.prototype._pushContext=function(){},t.prototype._popContext=function(){return null},t._peekContext=t.prototype._peekContext=function(){},e.prototype._pushContext=function(){void 0!==this._trace&&(this._trace._promiseCreated=null,o.push(this._trace))},e.prototype._popContext=function(){if(void 0!==this._trace){var t=o.pop(),e=t._promiseCreated;return t._promiseCreated=null,e}return null},e.CapturedTrace=null,e.create=n,e.deactivateLongStackTraces=function(){},e.activateLongStackTraces=function(){var n=t.prototype._pushContext,o=t.prototype._popContext,a=t._peekContext,s=t.prototype._peekContext,u=t.prototype._promiseCreated;e.deactivateLongStackTraces=function(){t.prototype._pushContext=n,t.prototype._popContext=o,t._peekContext=a,t.prototype._peekContext=s,t.prototype._promiseCreated=u,i=!1},i=!0,t.prototype._pushContext=e.prototype._pushContext,t.prototype._popContext=e.prototype._popContext,t._peekContext=t.prototype._peekContext=r,t.prototype._promiseCreated=function(){var t=this._peekContext();t&&null==t._promiseCreated&&(t._promiseCreated=this)}},e}},{}],9:[function(t,n,r){"use strict";n.exports=function(n,r){function i(t,e){return{promise:e}}function o(){return!1}function a(t,e,n){var r=this;try{t(e,n,function(t){if("function"!=typeof t)throw new TypeError("onCancel must be a function, got: "+B.toString(t));r._attachCancellationCallback(t)})}catch(i){return i}}function s(t){if(!this.isCancellable())return this;var e=this._onCancel();void 0!==e?B.isArray(e)?e.push(t):this._setOnCancel([e,t]):this._setOnCancel(t)}function u(){return this._onCancelField}function c(t){this._onCancelField=t}function l(){this._cancellationParent=void 0,this._onCancelField=void 0}function f(t,e){if(0!==(1&e)){this._cancellationParent=t;var n=t._branchesRemainingToCancel;void 0===n&&(n=0),t._branchesRemainingToCancel=n+1}0!==(2&e)&&t._isBound()&&this._setBoundTo(t._boundTo)}function h(t,e){0!==(2&e)&&t._isBound()&&this._setBoundTo(t._boundTo)}function p(){var t=this._boundTo;return void 0!==t&&t instanceof n?t.isFulfilled()?t.value():void 0:t}function d(){this._trace=new j(this._peekContext())}function _(t,e){if(U(t)){var n=this._trace;if(void 0!==n&&e&&(n=n._parent),void 0!==n)n.attachExtraTrace(t);else if(!t.__stackCleaned__){var r=k(t);B.notEnumerableProp(t,"stack",r.message+"\n"+r.stack.join("\n")),B.notEnumerableProp(t,"__stackCleaned__",!0)}}}function v(t,e,n,r,i){if(void 0===t&&null!==e&&X){if(void 0!==i&&i._returnedNonUndefined())return;if(0===(65535&r._bitField))return;n&&(n+=" ");var o="a promise was created in a "+n+"handler but was not returned from it";r._warn(o,!0,e)}}function y(t,e){var n=t+" is deprecated and will be removed in a future version.";return e&&(n+=" Use "+e+" instead."),g(n)}function g(t,e,r){if(it.warnings){var i,o=new N(t);if(e)r._attachExtraTrace(o);else if(it.longStackTraces&&(i=n._peekContext()))i.attachExtraTrace(o);else{var a=k(o);o.stack=a.message+"\n"+a.stack.join("\n")}Z("warning",o)||T(o,"",!0)}}function m(t,e){for(var n=0;n<e.length-1;++n)e[n].push("From previous event:"),e[n]=e[n].join("\n");return n<e.length&&(e[n]=e[n].join("\n")),t+"\n"+e.join("\n")}function b(t){for(var e=0;e<t.length;++e)(0===t[e].length||e+1<t.length&&t[e][0]===t[e+1][0])&&(t.splice(e,1),e--)}function w(t){for(var e=t[0],n=1;n<t.length;++n){for(var r=t[n],i=e.length-1,o=e[i],a=-1,s=r.length-1;s>=0;--s)if(r[s]===o){a=s;break}for(var s=a;s>=0;--s){var u=r[s];if(e[i]!==u)break;e.pop(),i--}e=r}}function x(t){for(var e=[],n=0;n<t.length;++n){var r=t[n],i="    (No stack trace)"===r||z.test(r),o=i&&et(r);i&&!o&&(V&&" "!==r.charAt(0)&&(r="    "+r),e.push(r))}return e}function S(t){for(var e=t.stack.replace(/\s+$/g,"").split("\n"),n=0;n<e.length;++n){var r=e[n];if("    (No stack trace)"===r||z.test(r))break}return n>0&&(e=e.slice(n)),e}function k(t){var e=t.stack,n=t.toString();return e="string"==typeof e&&e.length>0?S(t):["    (No stack trace)"],{message:n,stack:x(e)}}function T(t,e,n){if("undefined"!=typeof console){var r;if(B.isObject(t)){var i=t.stack;r=e+H(i,t)}else r=e+String(t);"function"==typeof L?L(r,n):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(r)}}function O(t,e,n,r){var i=!1;try{"function"==typeof e&&(i=!0,"rejectionHandled"===t?e(r):e(n,r))}catch(o){D.throwLater(o)}"unhandledRejection"===t?Z(t,n,r)||i||T(n,"Unhandled rejection "):Z(t,r)}function E(t){var e;if("function"==typeof t)e="[function "+(t.name||"anonymous")+"]";else{e=t&&"function"==typeof t.toString?t.toString():B.toString(t);var n=/\[object [a-zA-Z0-9$_]+\]/;if(n.test(e))try{var r=JSON.stringify(t);e=r}catch(i){}0===e.length&&(e="(empty array)")}return"(<"+P(e)+">, no stack trace)"}function P(t){var e=41;return t.length<e?t:t.substr(0,e-3)+"..."}function A(){return"function"==typeof rt}function C(t){var e=t.match(nt);if(e)return{fileName:e[1],line:parseInt(e[2],10)}}function R(t,e){if(A()){for(var n,r,i=t.stack.split("\n"),o=e.stack.split("\n"),a=-1,s=-1,u=0;u<i.length;++u){var c=C(i[u]);if(c){n=c.fileName,a=c.line;break}}for(var u=0;u<o.length;++u){var c=C(o[u]);if(c){r=c.fileName,s=c.line;break}}a<0||s<0||!n||!r||n!==r||a>=s||(et=function(t){if(q.test(t))return!0;var e=C(t);return!!(e&&e.fileName===n&&a<=e.line&&e.line<=s)})}}function j(t){this._parent=t,this._promisesCreated=0;var e=this._length=1+(void 0===t?0:t._length);rt(this,j),e>32&&this.uncycle()}var M,I,L,F=n._getDomain,D=n._async,N=t("./errors").Warning,B=t("./util"),U=B.canAttachTrace,q=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,z=null,H=null,V=!1,W=!(0==B.env("BLUEBIRD_DEBUG")),Y=!(0==B.env("BLUEBIRD_WARNINGS")||!W&&!B.env("BLUEBIRD_WARNINGS")),G=!(0==B.env("BLUEBIRD_LONG_STACK_TRACES")||!W&&!B.env("BLUEBIRD_LONG_STACK_TRACES")),X=0!=B.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(Y||!!B.env("BLUEBIRD_W_FORGOTTEN_RETURN"));n.prototype.suppressUnhandledRejections=function(){var t=this._target();t._bitField=t._bitField&-1048577|524288},n.prototype._ensurePossibleRejectionHandled=function(){0===(524288&this._bitField)&&(this._setRejectionIsUnhandled(),D.invokeLater(this._notifyUnhandledRejection,this,void 0))},n.prototype._notifyUnhandledRejectionIsHandled=function(){O("rejectionHandled",M,void 0,this)},n.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},n.prototype._returnedNonUndefined=function(){return 0!==(268435456&this._bitField)},n.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var t=this._settledValue();this._setUnhandledRejectionIsNotified(),O("unhandledRejection",I,t,this)}},n.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},n.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=this._bitField&-262145},n.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},n.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},n.prototype._unsetRejectionIsUnhandled=function(){this._bitField=this._bitField&-1048577,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},n.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},n.prototype._warn=function(t,e,n){return g(t,e,n||this)},n.onPossiblyUnhandledRejection=function(t){var e=F();I="function"==typeof t?null===e?t:e.bind(t):void 0},n.onUnhandledRejectionHandled=function(t){var e=F();M="function"==typeof t?null===e?t:e.bind(t):void 0};var $=function(){};n.longStackTraces=function(){if(D.haveItemsQueued()&&!it.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!it.longStackTraces&&A()){var t=n.prototype._captureStackTrace,e=n.prototype._attachExtraTrace;it.longStackTraces=!0,$=function(){if(D.haveItemsQueued()&&!it.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");n.prototype._captureStackTrace=t,n.prototype._attachExtraTrace=e,r.deactivateLongStackTraces(),D.enableTrampoline(),it.longStackTraces=!1},n.prototype._captureStackTrace=d,n.prototype._attachExtraTrace=_,r.activateLongStackTraces(),D.disableTrampolineIfNecessary()}},n.hasLongStackTraces=function(){return it.longStackTraces&&A()};var Q=function(){try{var t=document.createEvent("CustomEvent");return t.initCustomEvent("testingtheevent",!1,!0,{}),B.global.dispatchEvent(t),function(t,e){var n=document.createEvent("CustomEvent");return n.initCustomEvent(t.toLowerCase(),!1,!0,e),!B.global.dispatchEvent(n)}}catch(e){}return function(){return!1}}(),K=function(){return B.isNode?function(){return e.emit.apply(e,arguments)}:B.global?function(t){var e="on"+t.toLowerCase(),n=B.global[e];return!!n&&(n.apply(B.global,[].slice.call(arguments,1)),!0)}:function(){return!1}}(),J={promiseCreated:i,promiseFulfilled:i,promiseRejected:i,promiseResolved:i,promiseCancelled:i,promiseChained:function(t,e,n){return{promise:e,child:n}},warning:function(t,e){return{warning:e}},unhandledRejection:function(t,e,n){return{reason:e,promise:n}},rejectionHandled:i},Z=function(t){var e=!1;try{e=K.apply(null,arguments)}catch(n){D.throwLater(n),e=!0}var r=!1;try{r=Q(t,J[t].apply(null,arguments))}catch(n){D.throwLater(n),r=!0}return r||e};n.config=function(t){if(t=Object(t),"longStackTraces"in t&&(t.longStackTraces?n.longStackTraces():!t.longStackTraces&&n.hasLongStackTraces()&&$()),"warnings"in t){var e=t.warnings;it.warnings=!!e,X=it.warnings,B.isObject(e)&&"wForgottenReturn"in e&&(X=!!e.wForgottenReturn)}if("cancellation"in t&&t.cancellation&&!it.cancellation){if(D.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");n.prototype._clearCancellationData=l,n.prototype._propagateFrom=f,n.prototype._onCancel=u,n.prototype._setOnCancel=c,n.prototype._attachCancellationCallback=s,n.prototype._execute=a,tt=f,it.cancellation=!0}"monitoring"in t&&(t.monitoring&&!it.monitoring?(it.monitoring=!0,n.prototype._fireEvent=Z):!t.monitoring&&it.monitoring&&(it.monitoring=!1,n.prototype._fireEvent=o))},n.prototype._fireEvent=o,n.prototype._execute=function(t,e,n){try{t(e,n)}catch(r){return r}},n.prototype._onCancel=function(){},n.prototype._setOnCancel=function(t){},n.prototype._attachCancellationCallback=function(t){},n.prototype._captureStackTrace=function(){},n.prototype._attachExtraTrace=function(){},n.prototype._clearCancellationData=function(){},n.prototype._propagateFrom=function(t,e){};var tt=h,et=function(){return!1},nt=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;B.inherits(j,Error),r.CapturedTrace=j,j.prototype.uncycle=function(){var t=this._length;if(!(t<2)){for(var e=[],n={},r=0,i=this;void 0!==i;++r)e.push(i),i=i._parent;t=this._length=r;for(var r=t-1;r>=0;--r){var o=e[r].stack;void 0===n[o]&&(n[o]=r)}for(var r=0;r<t;++r){var a=e[r].stack,s=n[a];if(void 0!==s&&s!==r){s>0&&(e[s-1]._parent=void 0,e[s-1]._length=1),e[r]._parent=void 0,e[r]._length=1;var u=r>0?e[r-1]:this;s<t-1?(u._parent=e[s+1],u._parent.uncycle(),u._length=u._parent._length+1):(u._parent=void 0,u._length=1);for(var c=u._length+1,l=r-2;l>=0;--l)e[l]._length=c,c++;return}}}},j.prototype.attachExtraTrace=function(t){if(!t.__stackCleaned__){this.uncycle();for(var e=k(t),n=e.message,r=[e.stack],i=this;void 0!==i;)r.push(x(i.stack.split("\n"))),i=i._parent;w(r),b(r),B.notEnumerableProp(t,"stack",m(n,r)),B.notEnumerableProp(t,"__stackCleaned__",!0)}};var rt=function(){var t=/^\s*at\s*/,e=function(t,e){return"string"==typeof t?t:void 0!==e.name&&void 0!==e.message?e.toString():E(e)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit+=6,z=t,H=e;var n=Error.captureStackTrace;return et=function(t){return q.test(t)},function(t,e){Error.stackTraceLimit+=6,n(t,e),Error.stackTraceLimit-=6}}var r=new Error;if("string"==typeof r.stack&&r.stack.split("\n")[0].indexOf("stackDetection@")>=0)return z=/@/,H=e,V=!0,function(t){t.stack=(new Error).stack};var i;try{throw new Error}catch(o){i="stack"in o}return"stack"in r||!i||"number"!=typeof Error.stackTraceLimit?(H=function(t,e){return"string"==typeof t?t:"object"!=typeof e&&"function"!=typeof e||void 0===e.name||void 0===e.message?E(e):e.toString()},null):(z=t,H=e,function(t){Error.stackTraceLimit+=6;try{throw new Error}catch(e){t.stack=e.stack}Error.stackTraceLimit-=6})}([]);"undefined"!=typeof console&&"undefined"!=typeof console.warn&&(L=function(t){console.warn(t)},B.isNode&&e.stderr.isTTY?L=function(t,e){var n=e?"[33m":"[31m";console.warn(n+t+"[0m\n")}:B.isNode||"string"!=typeof(new Error).stack||(L=function(t,e){console.warn("%c"+t,e?"color: darkorange":"color: red")}));var it={warnings:Y,longStackTraces:!1,cancellation:!1,monitoring:!1};return G&&n.longStackTraces(),{longStackTraces:function(){return it.longStackTraces},warnings:function(){return it.warnings},cancellation:function(){return it.cancellation},monitoring:function(){return it.monitoring},propagateFromFunction:function(){return tt},boundValueFunction:function(){return p},checkForgottenReturns:v,setBounds:R,warn:g,deprecated:y,CapturedTrace:j,fireDomEvent:Q,fireGlobalEvent:K}}},{"./errors":12,"./util":36}],10:[function(t,e,n){"use strict";e.exports=function(t){function e(){return this.value}function n(){throw this.reason}t.prototype.return=t.prototype.thenReturn=function(n){return n instanceof t&&n.suppressUnhandledRejections(),this._then(e,void 0,void 0,{value:n},void 0)},t.prototype.throw=t.prototype.thenThrow=function(t){return this._then(n,void 0,void 0,{reason:t},void 0)},t.prototype.catchThrow=function(t){if(arguments.length<=1)return this._then(void 0,n,void 0,{reason:t},void 0);var e=arguments[1],r=function(){throw e};return this.caught(t,r)},t.prototype.catchReturn=function(n){if(arguments.length<=1)return n instanceof t&&n.suppressUnhandledRejections(),this._then(void 0,e,void 0,{value:n},void 0);var r=arguments[1];r instanceof t&&r.suppressUnhandledRejections();var i=function(){return r};return this.caught(n,i)}}},{}],11:[function(t,e,n){"use strict";e.exports=function(t,e){function n(){return o(this)}function r(t,n){return i(t,n,e,e)}var i=t.reduce,o=t.all;t.prototype.each=function(t){return this.mapSeries(t)._then(n,void 0,void 0,this,void 0)},t.prototype.mapSeries=function(t){return i(this,t,e,e)},t.each=function(t,e){return r(t,e)._then(n,void 0,void 0,t,void 0)},t.mapSeries=r}},{}],12:[function(t,e,n){"use strict";function r(t,e){function n(r){return this instanceof n?(f(this,"message","string"==typeof r?r:e),f(this,"name",t),void(Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this))):new n(r)}return l(n,Error),n}function i(t){return this instanceof i?(f(this,"name","OperationalError"),f(this,"message",t),this.cause=t,this.isOperational=!0,void(t instanceof Error?(f(this,"message",t.message),f(this,"stack",t.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor))):new i(t)}var o,a,s=t("./es5"),u=s.freeze,c=t("./util"),l=c.inherits,f=c.notEnumerableProp,h=r("Warning","warning"),p=r("CancellationError","cancellation error"),d=r("TimeoutError","timeout error"),_=r("AggregateError","aggregate error");try{o=TypeError,a=RangeError}catch(v){o=r("TypeError","type error"),a=r("RangeError","range error")}for(var y="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),g=0;g<y.length;++g)"function"==typeof Array.prototype[y[g]]&&(_.prototype[y[g]]=Array.prototype[y[g]]);s.defineProperty(_.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),_.prototype.isOperational=!0;var m=0;_.prototype.toString=function(){var t=Array(4*m+1).join(" "),e="\n"+t+"AggregateError of:\n";m++,t=Array(4*m+1).join(" ");for(var n=0;n<this.length;++n){for(var r=this[n]===this?"[Circular AggregateError]":this[n]+"",i=r.split("\n"),o=0;o<i.length;++o)i[o]=t+i[o];r=i.join("\n"),e+=r+"\n"}return m--,e},l(i,Error);var b=Error.__BluebirdErrorTypes__;b||(b=u({CancellationError:p,TimeoutError:d,OperationalError:i,RejectionError:i,AggregateError:_}),s.defineProperty(Error,"__BluebirdErrorTypes__",{value:b,writable:!1,enumerable:!1,configurable:!1})),e.exports={Error:Error,TypeError:o,RangeError:a,CancellationError:b.CancellationError,OperationalError:b.OperationalError,TimeoutError:b.TimeoutError,AggregateError:b.AggregateError,Warning:h}},{"./es5":13,"./util":36}],13:[function(t,e,n){var r=function(){"use strict";return void 0===this}();if(r)e.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:r,propertyIsWritable:function(t,e){var n=Object.getOwnPropertyDescriptor(t,e);return!(n&&!n.writable&&!n.set)}};else{var i={}.hasOwnProperty,o={}.toString,a={}.constructor.prototype,s=function(t){var e=[];for(var n in t)i.call(t,n)&&e.push(n);return e},u=function(t,e){return{value:t[e]}},c=function(t,e,n){return t[e]=n.value,t},l=function(t){return t},f=function(t){try{return Object(t).constructor.prototype}catch(e){return a}},h=function(t){try{return"[object Array]"===o.call(t)}catch(e){return!1}};e.exports={isArray:h,keys:s,names:s,defineProperty:c,getDescriptor:u,freeze:l,getPrototypeOf:f,isES5:r,propertyIsWritable:function(){return!0}}}},{}],14:[function(t,e,n){"use strict";e.exports=function(t,e){var n=t.map;t.prototype.filter=function(t,r){return n(this,t,r,e)},t.filter=function(t,r,i){return n(t,r,i,e)}}},{}],15:[function(t,e,n){"use strict";e.exports=function(e,n){function r(t,e,n){this.promise=t,this.type=e,this.handler=n,this.called=!1,this.cancelPromise=null}function i(t){this.finallyHandler=t}function o(t,e){return null!=t.cancelPromise&&(arguments.length>1?t.cancelPromise._reject(e):t.cancelPromise._cancel(),t.cancelPromise=null,!0)}function a(){return u.call(this,this.promise._target()._settledValue())}function s(t){if(!o(this,t))return f.e=t,f}function u(t){var r=this.promise,u=this.handler;if(!this.called){this.called=!0;var c=this.isFinallyHandler()?u.call(r._boundValue()):u.call(r._boundValue(),t);if(void 0!==c){r._setReturnedNonUndefined();var h=n(c,r);if(h instanceof e){if(null!=this.cancelPromise){if(h.isCancelled()){var p=new l("late cancellation observer");return r._attachExtraTrace(p),f.e=p,f}h.isPending()&&h._attachCancellationCallback(new i(this))}return h._then(a,s,void 0,this,void 0)}}}return r.isRejected()?(o(this),f.e=t,f):(o(this),t)}var c=t("./util"),l=e.CancellationError,f=c.errorObj;return r.prototype.isFinallyHandler=function(){return 0===this.type},i.prototype._resultCancelled=function(){o(this.finallyHandler)},e.prototype._passThrough=function(t,e,n,i){return"function"!=typeof t?this.then():this._then(n,i,void 0,new r(this,e,t),void 0)},e.prototype.lastly=e.prototype.finally=function(t){return this._passThrough(t,0,u,u)},e.prototype.tap=function(t){return this._passThrough(t,1,u)},r}},{"./util":36}],16:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,a){function s(t,n,r){for(var o=0;o<n.length;++o){r._pushContext();var a=p(n[o])(t);if(r._popContext(),a===h){r._pushContext();var s=e.reject(h.e);return r._popContext(),s}var u=i(a,r);if(u instanceof e)return u}return null}function u(t,n,i,o){if(a.cancellation()){var s=new e(r),u=this._finallyPromise=new e(r);this._promise=s.lastly(function(){return u}),s._captureStackTrace(),s._setOnCancel(this)}else{var c=this._promise=new e(r);c._captureStackTrace()}this._stack=o,this._generatorFunction=t,this._receiver=n,this._generator=void 0,this._yieldHandlers="function"==typeof i?[i].concat(d):d,this._yieldedPromise=null,this._cancellationPhase=!1}var c=t("./errors"),l=c.TypeError,f=t("./util"),h=f.errorObj,p=f.tryCatch,d=[];f.inherits(u,o),u.prototype._isResolved=function(){return null===this._promise},u.prototype._cleanup=function(){this._promise=this._generator=null,a.cancellation()&&null!==this._finallyPromise&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},u.prototype._promiseCancelled=function(){if(!this._isResolved()){var t,n="undefined"!=typeof this._generator.return;if(n)this._promise._pushContext(),t=p(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var r=new e.CancellationError("generator .return() sentinel");e.coroutine.returnSentinel=r,this._promise._attachExtraTrace(r),this._promise._pushContext(),t=p(this._generator.throw).call(this._generator,r),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(t)}},u.prototype._promiseFulfilled=function(t){this._yieldedPromise=null,this._promise._pushContext();var e=p(this._generator.next).call(this._generator,t);this._promise._popContext(),this._continue(e)},u.prototype._promiseRejected=function(t){this._yieldedPromise=null,this._promise._attachExtraTrace(t),this._promise._pushContext();var e=p(this._generator.throw).call(this._generator,t);this._promise._popContext(),this._continue(e)},u.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof e){var t=this._yieldedPromise;this._yieldedPromise=null,t.cancel()}},u.prototype.promise=function(){return this._promise},u.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},u.prototype._continue=function(t){var n=this._promise;if(t===h)return this._cleanup(),this._cancellationPhase?n.cancel():n._rejectCallback(t.e,!1);var r=t.value;if(t.done===!0)return this._cleanup(),this._cancellationPhase?n.cancel():n._resolveCallback(r);var o=i(r,this._promise);if(!(o instanceof e)&&(o=s(o,this._yieldHandlers,this._promise),null===o))return void this._promiseRejected(new l("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",r)+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")));o=o._target();var a=o._bitField;0===(50397184&a)?(this._yieldedPromise=o,o._proxy(this,null)):0!==(33554432&a)?this._promiseFulfilled(o._value()):0!==(16777216&a)?this._promiseRejected(o._reason()):this._promiseCancelled()},e.coroutine=function(t,e){if("function"!=typeof t)throw new l("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var n=Object(e).yieldHandler,r=u,i=(new Error).stack;return function(){var e=t.apply(this,arguments),o=new r((void 0),(void 0),n,i),a=o.promise();return o._generator=e,o._promiseFulfilled(void 0),a}},e.coroutine.addYieldHandler=function(t){if("function"!=typeof t)throw new l("expecting a function but got "+f.classString(t));d.push(t)},e.spawn=function(t){if(a.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof t)return n("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var r=new u(t,this),i=r.promise();return r._run(e.spawn),i}}},{"./errors":12,"./util":36}],17:[function(t,e,n){"use strict";e.exports=function(e,n,r,i){var o=t("./util");o.canEvaluate,o.tryCatch,o.errorObj;e.join=function(){var t,e=arguments.length-1;if(e>0&&"function"==typeof arguments[e]){t=arguments[e];var r}var i=[].slice.call(arguments);t&&i.pop();var r=new n(i).promise();return void 0!==t?r.spread(t):r}}},{"./util":36}],18:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,a){function s(t,e,n,r){this.constructor$(t),this._promise._captureStackTrace();var i=c();this._callback=null===i?e:i.bind(e),this._preservedValues=r===o?new Array(this.length()):null,this._limit=n,this._inFlight=0,this._queue=n>=1?[]:p,this._init$(void 0,-2)}function u(t,n,i,o){if("function"!=typeof n)return r("expecting a function but got "+l.classString(n));var a=0;if(void 0!==i){if("object"!=typeof i||null===i)return e.reject(new TypeError("options argument must be an object but it is "+l.classString(i)));
if("number"!=typeof i.concurrency)return e.reject(new TypeError("'concurrency' must be a number but it is "+l.classString(i.concurrency)));a=i.concurrency}return a="number"==typeof a&&isFinite(a)&&a>=1?a:0,new s(t,n,a,o).promise()}var c=e._getDomain,l=t("./util"),f=l.tryCatch,h=l.errorObj,p=[];l.inherits(s,n),s.prototype._init=function(){},s.prototype._promiseFulfilled=function(t,n){var r=this._values,o=this.length(),s=this._preservedValues,u=this._limit;if(n<0){if(n=n*-1-1,r[n]=t,u>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(u>=1&&this._inFlight>=u)return r[n]=t,this._queue.push(n),!1;null!==s&&(s[n]=t);var c=this._promise,l=this._callback,p=c._boundValue();c._pushContext();var d=f(l).call(p,t,n,o),_=c._popContext();if(a.checkForgottenReturns(d,_,null!==s?"Promise.filter":"Promise.map",c),d===h)return this._reject(d.e),!0;var v=i(d,this._promise);if(v instanceof e){v=v._target();var y=v._bitField;if(0===(50397184&y))return u>=1&&this._inFlight++,r[n]=v,v._proxy(this,(n+1)*-1),!1;if(0===(33554432&y))return 0!==(16777216&y)?(this._reject(v._reason()),!0):(this._cancel(),!0);d=v._value()}r[n]=d}var g=++this._totalResolved;return g>=o&&(null!==s?this._filter(r,s):this._resolve(r),!0)},s.prototype._drainQueue=function(){for(var t=this._queue,e=this._limit,n=this._values;t.length>0&&this._inFlight<e;){if(this._isResolved())return;var r=t.pop();this._promiseFulfilled(n[r],r)}},s.prototype._filter=function(t,e){for(var n=e.length,r=new Array(n),i=0,o=0;o<n;++o)t[o]&&(r[i++]=e[o]);r.length=i,this._resolve(r)},s.prototype.preservedValues=function(){return this._preservedValues},e.prototype.map=function(t,e){return u(this,t,e,null)},e.map=function(t,e,n,r){return u(t,e,n,r)}}},{"./util":36}],19:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o){var a=t("./util"),s=a.tryCatch;e.method=function(t){if("function"!=typeof t)throw new e.TypeError("expecting a function but got "+a.classString(t));return function(){var r=new e(n);r._captureStackTrace(),r._pushContext();var i=s(t).apply(this,arguments),a=r._popContext();return o.checkForgottenReturns(i,a,"Promise.method",r),r._resolveFromSyncValue(i),r}},e.attempt=e.try=function(t){if("function"!=typeof t)return i("expecting a function but got "+a.classString(t));var r=new e(n);r._captureStackTrace(),r._pushContext();var u;if(arguments.length>1){o.deprecated("calling Promise.try with more than 1 argument");var c=arguments[1],l=arguments[2];u=a.isArray(c)?s(t).apply(l,c):s(t).call(l,c)}else u=s(t)();var f=r._popContext();return o.checkForgottenReturns(u,f,"Promise.try",r),r._resolveFromSyncValue(u),r},e.prototype._resolveFromSyncValue=function(t){t===a.errorObj?this._rejectCallback(t.e,!1):this._resolveCallback(t,!0)}}},{"./util":36}],20:[function(t,e,n){"use strict";function r(t){return t instanceof Error&&l.getPrototypeOf(t)===Error.prototype}function i(t){var e;if(r(t)){e=new c(t),e.name=t.name,e.message=t.message,e.stack=t.stack;for(var n=l.keys(t),i=0;i<n.length;++i){var o=n[i];f.test(o)||(e[o]=t[o])}return e}return a.markAsOriginatingFromRejection(t),t}function o(t,e){return function(n,r){if(null!==t){if(n){var o=i(s(n));t._attachExtraTrace(o),t._reject(o)}else if(e){var a=[].slice.call(arguments,1);t._fulfill(a)}else t._fulfill(r);t=null}}}var a=t("./util"),s=a.maybeWrapAsError,u=t("./errors"),c=u.OperationalError,l=t("./es5"),f=/^(?:name|message|stack|cause)$/;e.exports=o},{"./errors":12,"./es5":13,"./util":36}],21:[function(t,e,n){"use strict";e.exports=function(e){function n(t,e){var n=this;if(!o.isArray(t))return r.call(n,t,e);var i=s(e).apply(n._boundValue(),[null].concat(t));i===u&&a.throwLater(i.e)}function r(t,e){var n=this,r=n._boundValue(),i=void 0===t?s(e).call(r,null):s(e).call(r,null,t);i===u&&a.throwLater(i.e)}function i(t,e){var n=this;if(!t){var r=new Error(t+"");r.cause=t,t=r}var i=s(e).call(n._boundValue(),t);i===u&&a.throwLater(i.e)}var o=t("./util"),a=e._async,s=o.tryCatch,u=o.errorObj;e.prototype.asCallback=e.prototype.nodeify=function(t,e){if("function"==typeof t){var o=r;void 0!==e&&Object(e).spread&&(o=n),this._then(o,i,void 0,this,t)}return this}}},{"./util":36}],22:[function(t,n,r){"use strict";n.exports=function(){function r(){}function i(t,e){if("function"!=typeof e)throw new m("expecting a function but got "+d.classString(e));if(t.constructor!==o)throw new m("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n")}function o(t){this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,t!==w&&(i(this,t),this._resolveFromExecutor(t)),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function a(t){this.promise._resolveCallback(t)}function s(t){this.promise._rejectCallback(t,!1)}function u(t){var e=new o(w);e._fulfillmentHandler0=t,e._rejectionHandler0=t,e._promise0=t,e._receiver0=t}var c,l=function(){return new m("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},f=function(){return new o.PromiseInspection(this._target())},h=function(t){return o.reject(new m(t))},p={},d=t("./util");c=d.isNode?function(){var t=e.domain;return void 0===t&&(t=null),t}:function(){return null},d.notEnumerableProp(o,"_getDomain",c);var _=t("./es5"),v=t("./async"),y=new v;_.defineProperty(o,"_async",{value:y});var g=t("./errors"),m=o.TypeError=g.TypeError;o.RangeError=g.RangeError;var b=o.CancellationError=g.CancellationError;o.TimeoutError=g.TimeoutError,o.OperationalError=g.OperationalError,o.RejectionError=g.OperationalError,o.AggregateError=g.AggregateError;var w=function(){},x={},S={},k=t("./thenables")(o,w),T=t("./promise_array")(o,w,k,h,r),O=t("./context")(o),E=O.create,P=t("./debuggability")(o,O),A=(P.CapturedTrace,t("./finally")(o,k)),C=t("./catch_filter")(S),R=t("./nodeback"),j=d.errorObj,M=d.tryCatch;return o.prototype.toString=function(){return"[object Promise]"},o.prototype.caught=o.prototype.catch=function(t){var e=arguments.length;if(e>1){var n,r=new Array(e-1),i=0;for(n=0;n<e-1;++n){var o=arguments[n];if(!d.isObject(o))return h("expecting an object but got "+d.classString(o));r[i++]=o}return r.length=i,t=arguments[n],this.then(void 0,C(r,t,this))}return this.then(void 0,t)},o.prototype.reflect=function(){return this._then(f,f,void 0,this,void 0)},o.prototype.then=function(t,e){if(P.warnings()&&arguments.length>0&&"function"!=typeof t&&"function"!=typeof e){var n=".then() only accepts functions but was passed: "+d.classString(t);arguments.length>1&&(n+=", "+d.classString(e)),this._warn(n)}return this._then(t,e,void 0,void 0,void 0)},o.prototype.done=function(t,e){var n=this._then(t,e,void 0,void 0,void 0);n._setIsFinal()},o.prototype.spread=function(t){return"function"!=typeof t?h("expecting a function but got "+d.classString(t)):this.all()._then(t,void 0,void 0,x,void 0)},o.prototype.toJSON=function(){var t={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(t.fulfillmentValue=this.value(),t.isFulfilled=!0):this.isRejected()&&(t.rejectionReason=this.reason(),t.isRejected=!0),t},o.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new T(this).promise()},o.prototype.error=function(t){return this.caught(d.originatesFromRejection,t)},o.getNewLibraryCopy=n.exports,o.is=function(t){return t instanceof o},o.fromNode=o.fromCallback=function(t){var e=new o(w);e._captureStackTrace();var n=arguments.length>1&&!!Object(arguments[1]).multiArgs,r=M(t)(R(e,n));return r===j&&e._rejectCallback(r.e,!0),e._isFateSealed()||e._setAsyncGuaranteed(),e},o.all=function(t){return new T(t).promise()},o.cast=function(t){var e=k(t);return e instanceof o||(e=new o(w),e._captureStackTrace(),e._setFulfilled(),e._rejectionHandler0=t),e},o.resolve=o.fulfilled=o.cast,o.reject=o.rejected=function(t){var e=new o(w);return e._captureStackTrace(),e._rejectCallback(t,!0),e},o.setScheduler=function(t){if("function"!=typeof t)throw new m("expecting a function but got "+d.classString(t));return y.setScheduler(t)},o.prototype._then=function(t,e,n,r,i){var a=void 0!==i,s=a?i:new o(w),u=this._target(),l=u._bitField;a||(s._propagateFrom(this,3),s._captureStackTrace(),void 0===r&&0!==(2097152&this._bitField)&&(r=0!==(50397184&l)?this._boundValue():u===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,s));var f=c();if(0!==(50397184&l)){var h,p,d=u._settlePromiseCtx;0!==(33554432&l)?(p=u._rejectionHandler0,h=t):0!==(16777216&l)?(p=u._fulfillmentHandler0,h=e,u._unsetRejectionIsUnhandled()):(d=u._settlePromiseLateCancellationObserver,p=new b("late cancellation observer"),u._attachExtraTrace(p),h=e),y.invoke(d,u,{handler:null===f?h:"function"==typeof h&&f.bind(h),promise:s,receiver:r,value:p})}else u._addCallbacks(t,e,s,r,f);return s},o.prototype._length=function(){return 65535&this._bitField},o.prototype._isFateSealed=function(){return 0!==(117506048&this._bitField)},o.prototype._isFollowing=function(){return 67108864===(67108864&this._bitField)},o.prototype._setLength=function(t){this._bitField=this._bitField&-65536|65535&t},o.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},o.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},o.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},o.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},o.prototype._isFinal=function(){return(4194304&this._bitField)>0},o.prototype._unsetCancelled=function(){this._bitField=this._bitField&-65537},o.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},o.prototype._setAsyncGuaranteed=function(){y.hasCustomScheduler()||(this._bitField=134217728|this._bitField)},o.prototype._receiverAt=function(t){var e=0===t?this._receiver0:this[4*t-4+3];if(e!==p)return void 0===e&&this._isBound()?this._boundValue():e},o.prototype._promiseAt=function(t){return this[4*t-4+2]},o.prototype._fulfillmentHandlerAt=function(t){return this[4*t-4+0]},o.prototype._rejectionHandlerAt=function(t){return this[4*t-4+1]},o.prototype._boundValue=function(){},o.prototype._migrateCallback0=function(t){var e=(t._bitField,t._fulfillmentHandler0),n=t._rejectionHandler0,r=t._promise0,i=t._receiverAt(0);void 0===i&&(i=p),this._addCallbacks(e,n,r,i,null)},o.prototype._migrateCallbackAt=function(t,e){var n=t._fulfillmentHandlerAt(e),r=t._rejectionHandlerAt(e),i=t._promiseAt(e),o=t._receiverAt(e);void 0===o&&(o=p),this._addCallbacks(n,r,i,o,null)},o.prototype._addCallbacks=function(t,e,n,r,i){var o=this._length();if(o>=65531&&(o=0,this._setLength(0)),0===o)this._promise0=n,this._receiver0=r,"function"==typeof t&&(this._fulfillmentHandler0=null===i?t:i.bind(t)),"function"==typeof e&&(this._rejectionHandler0=null===i?e:i.bind(e));else{var a=4*o-4;this[a+2]=n,this[a+3]=r,"function"==typeof t&&(this[a+0]=null===i?t:i.bind(t)),"function"==typeof e&&(this[a+1]=null===i?e:i.bind(e))}return this._setLength(o+1),o},o.prototype._proxy=function(t,e){this._addCallbacks(void 0,void 0,e,t,null)},o.prototype._resolveCallback=function(t,e){if(0===(117506048&this._bitField)){if(t===this)return this._rejectCallback(l(),!1);var n=k(t,this);if(!(n instanceof o))return this._fulfill(t);e&&this._propagateFrom(n,2);var r=n._target();if(r===this)return void this._reject(l());var i=r._bitField;if(0===(50397184&i)){var a=this._length();a>0&&r._migrateCallback0(this);for(var s=1;s<a;++s)r._migrateCallbackAt(this,s);this._setFollowing(),this._setLength(0),this._setFollowee(r)}else if(0!==(33554432&i))this._fulfill(r._value());else if(0!==(16777216&i))this._reject(r._reason());else{var u=new b("late cancellation observer");r._attachExtraTrace(u),this._reject(u)}}},o.prototype._rejectCallback=function(t,e,n){var r=d.ensureErrorObject(t),i=r===t;if(!i&&!n&&P.warnings()){var o="a promise was rejected with a non-error: "+d.classString(t);this._warn(o,!0)}this._attachExtraTrace(r,!!e&&i),this._reject(t)},o.prototype._resolveFromExecutor=function(t){var e=this;this._captureStackTrace(),this._pushContext();var n=!0,r=this._execute(t,function(t){e._resolveCallback(t)},function(t){e._rejectCallback(t,n)});n=!1,this._popContext(),void 0!==r&&e._rejectCallback(r,!0)},o.prototype._settlePromiseFromHandler=function(t,e,n,r){var i=r._bitField;if(0===(65536&i)){r._pushContext();var o;e===x?n&&"number"==typeof n.length?o=M(t).apply(this._boundValue(),n):(o=j,o.e=new m("cannot .spread() a non-array: "+d.classString(n))):o=M(t).call(e,n);var a=r._popContext();i=r._bitField,0===(65536&i)&&(o===S?r._reject(n):o===j?r._rejectCallback(o.e,!1):(P.checkForgottenReturns(o,a,"",r,this),r._resolveCallback(o)))}},o.prototype._target=function(){for(var t=this;t._isFollowing();)t=t._followee();return t},o.prototype._followee=function(){return this._rejectionHandler0},o.prototype._setFollowee=function(t){this._rejectionHandler0=t},o.prototype._settlePromise=function(t,e,n,i){var a=t instanceof o,s=this._bitField,u=0!==(134217728&s);0!==(65536&s)?(a&&t._invokeInternalOnCancel(),n instanceof A&&n.isFinallyHandler()?(n.cancelPromise=t,M(e).call(n,i)===j&&t._reject(j.e)):e===f?t._fulfill(f.call(n)):n instanceof r?n._promiseCancelled(t):a||t instanceof T?t._cancel():n.cancel()):"function"==typeof e?a?(u&&t._setAsyncGuaranteed(),this._settlePromiseFromHandler(e,n,i,t)):e.call(n,i,t):n instanceof r?n._isResolved()||(0!==(33554432&s)?n._promiseFulfilled(i,t):n._promiseRejected(i,t)):a&&(u&&t._setAsyncGuaranteed(),0!==(33554432&s)?t._fulfill(i):t._reject(i))},o.prototype._settlePromiseLateCancellationObserver=function(t){var e=t.handler,n=t.promise,r=t.receiver,i=t.value;"function"==typeof e?n instanceof o?this._settlePromiseFromHandler(e,r,i,n):e.call(r,i,n):n instanceof o&&n._reject(i)},o.prototype._settlePromiseCtx=function(t){this._settlePromise(t.promise,t.handler,t.receiver,t.value)},o.prototype._settlePromise0=function(t,e,n){var r=this._promise0,i=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(r,t,i,e)},o.prototype._clearCallbackDataAtIndex=function(t){var e=4*t-4;this[e+2]=this[e+3]=this[e+0]=this[e+1]=void 0},o.prototype._fulfill=function(t){var e=this._bitField;if(!((117506048&e)>>>16)){if(t===this){var n=l();return this._attachExtraTrace(n),this._reject(n)}this._setFulfilled(),this._rejectionHandler0=t,(65535&e)>0&&(0!==(134217728&e)?this._settlePromises():y.settlePromises(this))}},o.prototype._reject=function(t){var e=this._bitField;if(!((117506048&e)>>>16))return this._setRejected(),this._fulfillmentHandler0=t,this._isFinal()?y.fatalError(t,d.isNode):void((65535&e)>0?y.settlePromises(this):this._ensurePossibleRejectionHandled())},o.prototype._fulfillPromises=function(t,e){for(var n=1;n<t;n++){var r=this._fulfillmentHandlerAt(n),i=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(i,r,o,e)}},o.prototype._rejectPromises=function(t,e){for(var n=1;n<t;n++){var r=this._rejectionHandlerAt(n),i=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(i,r,o,e)}},o.prototype._settlePromises=function(){var t=this._bitField,e=65535&t;if(e>0){if(0!==(16842752&t)){var n=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,n,t),this._rejectPromises(e,n)}else{var r=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,r,t),this._fulfillPromises(e,r)}this._setLength(0)}this._clearCancellationData()},o.prototype._settledValue=function(){var t=this._bitField;return 0!==(33554432&t)?this._rejectionHandler0:0!==(16777216&t)?this._fulfillmentHandler0:void 0},o.defer=o.pending=function(){P.deprecated("Promise.defer","new Promise");var t=new o(w);return{promise:t,resolve:a,reject:s}},d.notEnumerableProp(o,"_makeSelfResolutionError",l),t("./method")(o,w,k,h,P),t("./bind")(o,w,k,P),t("./cancel")(o,T,h,P),t("./direct_resolve")(o),t("./synchronous_inspection")(o),t("./join")(o,T,k,w,P),o.Promise=o,o.version="3.4.0",t("./map.js")(o,T,h,k,w,P),t("./call_get.js")(o),t("./using.js")(o,h,k,E,w,P),t("./timers.js")(o,w,P),t("./generators.js")(o,h,w,k,r,P),t("./nodeify.js")(o),t("./promisify.js")(o,w),t("./props.js")(o,T,k,h),t("./race.js")(o,w,k,h),t("./reduce.js")(o,T,h,k,w,P),t("./settle.js")(o,T,P),t("./some.js")(o,T,h),t("./filter.js")(o,w),t("./each.js")(o,w),t("./any.js")(o),d.toFastProperties(o),d.toFastProperties(o.prototype),u({a:1}),u({b:2}),u({c:3}),u(1),u(function(){}),u(void 0),u(!1),u(new o(w)),P.setBounds(v.firstLineError,d.lastLineError),o}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o){function a(t){switch(t){case-2:return[];case-3:return{}}}function s(t){var r=this._promise=new e(n);t instanceof e&&r._propagateFrom(t,3),r._setOnCancel(this),this._values=t,this._length=0,this._totalResolved=0,this._init(void 0,-2)}var u=t("./util");u.isArray;return u.inherits(s,o),s.prototype.length=function(){return this._length},s.prototype.promise=function(){return this._promise},s.prototype._init=function c(t,n){var o=r(this._values,this._promise);if(o instanceof e){o=o._target();var s=o._bitField;if(this._values=o,0===(50397184&s))return this._promise._setAsyncGuaranteed(),o._then(c,this._reject,void 0,this,n);if(0===(33554432&s))return 0!==(16777216&s)?this._reject(o._reason()):this._cancel();o=o._value()}if(o=u.asArray(o),null===o){var l=i("expecting an array or an iterable object but got "+u.classString(o)).reason();return void this._promise._rejectCallback(l,!1)}return 0===o.length?void(n===-5?this._resolveEmptyArray():this._resolve(a(n))):void this._iterate(o)},s.prototype._iterate=function(t){var n=this.getActualLength(t.length);this._length=n,this._values=this.shouldCopyValues()?new Array(n):this._values;for(var i=this._promise,o=!1,a=null,s=0;s<n;++s){var u=r(t[s],i);u instanceof e?(u=u._target(),a=u._bitField):a=null,o?null!==a&&u.suppressUnhandledRejections():null!==a?0===(50397184&a)?(u._proxy(this,s),this._values[s]=u):o=0!==(33554432&a)?this._promiseFulfilled(u._value(),s):0!==(16777216&a)?this._promiseRejected(u._reason(),s):this._promiseCancelled(s):o=this._promiseFulfilled(u,s)}o||i._setAsyncGuaranteed()},s.prototype._isResolved=function(){return null===this._values},s.prototype._resolve=function(t){this._values=null,this._promise._fulfill(t)},s.prototype._cancel=function(){!this._isResolved()&&this._promise.isCancellable()&&(this._values=null,this._promise._cancel())},s.prototype._reject=function(t){this._values=null,this._promise._rejectCallback(t,!1)},s.prototype._promiseFulfilled=function(t,e){this._values[e]=t;var n=++this._totalResolved;return n>=this._length&&(this._resolve(this._values),!0)},s.prototype._promiseCancelled=function(){return this._cancel(),!0},s.prototype._promiseRejected=function(t){return this._totalResolved++,this._reject(t),!0},s.prototype._resultCancelled=function(){if(!this._isResolved()){var t=this._values;if(this._cancel(),t instanceof e)t.cancel();else for(var n=0;n<t.length;++n)t[n]instanceof e&&t[n].cancel()}},s.prototype.shouldCopyValues=function(){return!0},s.prototype.getActualLength=function(t){return t},s}},{"./util":36}],24:[function(t,e,n){"use strict";e.exports=function(e,n){function r(t){return!x.test(t)}function i(t){try{return t.__isPromisified__===!0}catch(e){return!1}}function o(t,e,n){var r=p.getDataPropertyOrDefault(t,e+n,b);return!!r&&i(r)}function a(t,e,n){for(var r=0;r<t.length;r+=2){var i=t[r];if(n.test(i))for(var o=i.replace(n,""),a=0;a<t.length;a+=2)if(t[a]===o)throw new g("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",e))}}function s(t,e,n,r){for(var s=p.inheritedDataKeys(t),u=[],c=0;c<s.length;++c){var l=s[c],f=t[l],h=r===S||S(l,f,t);"function"!=typeof f||i(f)||o(t,l,e)||!r(l,f,t,h)||u.push(l,f)}return a(u,e,n),u}function u(t,r,i,o,a,s){function u(){var i=r;r===h&&(i=this);var o=new e(n);o._captureStackTrace();var a="string"==typeof l&&this!==c?this[l]:t,u=d(o,s);try{a.apply(i,_(arguments,u))}catch(f){o._rejectCallback(v(f),!0,!0)}return o._isFateSealed()||o._setAsyncGuaranteed(),o}var c=function(){return this}(),l=t;return"string"==typeof l&&(t=o),p.notEnumerableProp(u,"__isPromisified__",!0),u}function c(t,e,n,r,i){for(var o=new RegExp(k(e)+"$"),a=s(t,e,o,n),u=0,c=a.length;u<c;u+=2){var l=a[u],f=a[u+1],d=l+e;if(r===T)t[d]=T(l,h,l,f,e,i);else{var _=r(f,function(){return T(l,h,l,f,e,i)});p.notEnumerableProp(_,"__isPromisified__",!0),t[d]=_}}return p.toFastProperties(t),t}function l(t,e,n){return T(t,e,void 0,t,null,n)}var f,h={},p=t("./util"),d=t("./nodeback"),_=p.withAppended,v=p.maybeWrapAsError,y=p.canEvaluate,g=t("./errors").TypeError,m="Async",b={__isPromisified__:!0},w=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"],x=new RegExp("^(?:"+w.join("|")+")$"),S=function(t){return p.isIdentifier(t)&&"_"!==t.charAt(0)&&"constructor"!==t},k=function(t){return t.replace(/([$])/,"\\$")},T=y?f:u;e.promisify=function(t,e){if("function"!=typeof t)throw new g("expecting a function but got "+p.classString(t));if(i(t))return t;e=Object(e);var n=void 0===e.context?h:e.context,o=!!e.multiArgs,a=l(t,n,o);return p.copyDescriptors(t,a,r),a},e.promisifyAll=function(t,e){if("function"!=typeof t&&"object"!=typeof t)throw new g("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");e=Object(e);var n=!!e.multiArgs,r=e.suffix;"string"!=typeof r&&(r=m);var i=e.filter;"function"!=typeof i&&(i=S);var o=e.promisifier;if("function"!=typeof o&&(o=T),!p.isIdentifier(r))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var a=p.inheritedDataKeys(t),s=0;s<a.length;++s){var u=t[a[s]];"constructor"!==a[s]&&p.isClass(u)&&(c(u.prototype,r,i,o,n),c(u,r,i,o,n))}return c(t,r,i,o,n)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(t,e,n){"use strict";e.exports=function(e,n,r,i){function o(t){var e,n=!1;if(void 0!==s&&t instanceof s)e=f(t),n=!0;else{var r=l.keys(t),i=r.length;e=new Array(2*i);for(var o=0;o<i;++o){var a=r[o];e[o]=t[a],e[o+i]=a}}this.constructor$(e),this._isMap=n,this._init$(void 0,-3)}function a(t){var n,a=r(t);return c(a)?(n=a instanceof e?a._then(e.props,void 0,void 0,void 0,void 0):new o(a).promise(),a instanceof e&&n._propagateFrom(a,2),n):i("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}var s,u=t("./util"),c=u.isObject,l=t("./es5");"function"==typeof Map&&(s=Map);var f=function(){function t(t,r){this[e]=t,this[e+n]=r,e++}var e=0,n=0;return function(r){n=r.size,e=0;var i=new Array(2*r.size);return r.forEach(t,i),i}}(),h=function(t){for(var e=new s,n=t.length/2|0,r=0;r<n;++r){var i=t[n+r],o=t[r];e.set(i,o)}return e};u.inherits(o,n),o.prototype._init=function(){},o.prototype._promiseFulfilled=function(t,e){this._values[e]=t;var n=++this._totalResolved;if(n>=this._length){var r;if(this._isMap)r=h(this._values);else{r={};for(var i=this.length(),o=0,a=this.length();o<a;++o)r[this._values[o+i]]=this._values[o]}return this._resolve(r),!0}return!1},o.prototype.shouldCopyValues=function(){return!1},o.prototype.getActualLength=function(t){return t>>1},e.prototype.props=function(){return a(this)},e.props=function(t){return a(t)}}},{"./es5":13,"./util":36}],26:[function(t,e,n){"use strict";function r(t,e,n,r,i){for(var o=0;o<i;++o)n[o+r]=t[o+e],t[o+e]=void 0}function i(t){this._capacity=t,this._length=0,this._front=0}i.prototype._willBeOverCapacity=function(t){return this._capacity<t},i.prototype._pushOne=function(t){var e=this.length();this._checkCapacity(e+1);var n=this._front+e&this._capacity-1;this[n]=t,this._length=e+1},i.prototype._unshiftOne=function(t){var e=this._capacity;this._checkCapacity(this.length()+1);var n=this._front,r=(n-1&e-1^e)-e;this[r]=t,this._front=r,this._length=this.length()+1},i.prototype.unshift=function(t,e,n){this._unshiftOne(n),this._unshiftOne(e),this._unshiftOne(t)},i.prototype.push=function(t,e,n){var r=this.length()+3;if(this._willBeOverCapacity(r))return this._pushOne(t),this._pushOne(e),void this._pushOne(n);var i=this._front+r-3;this._checkCapacity(r);var o=this._capacity-1;this[i+0&o]=t,this[i+1&o]=e,this[i+2&o]=n,this._length=r},i.prototype.shift=function(){var t=this._front,e=this[t];return this[t]=void 0,this._front=t+1&this._capacity-1,this._length--,e},i.prototype.length=function(){return this._length},i.prototype._checkCapacity=function(t){this._capacity<t&&this._resizeTo(this._capacity<<1)},i.prototype._resizeTo=function(t){var e=this._capacity;this._capacity=t;var n=this._front,i=this._length,o=n+i&e-1;r(this,0,this,e,o)},e.exports=i},{}],27:[function(t,e,n){"use strict";e.exports=function(e,n,r,i){function o(t,o){var u=r(t);if(u instanceof e)return s(u);if(t=a.asArray(t),null===t)return i("expecting an array or an iterable object but got "+a.classString(t));var c=new e(n);void 0!==o&&c._propagateFrom(o,3);for(var l=c._fulfill,f=c._reject,h=0,p=t.length;h<p;++h){var d=t[h];(void 0!==d||h in t)&&e.cast(d)._then(l,f,void 0,c,null)}return c}var a=t("./util"),s=function(t){return t.then(function(e){return o(e,t)})};e.race=function(t){return o(t,void 0)},e.prototype.race=function(){return o(this,void 0)}}},{"./util":36}],28:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,a){function s(t,n,r,i){this.constructor$(t);var a=h();this._fn=null===a?n:a.bind(n),void 0!==r&&(r=e.resolve(r),r._attachCancellationCallback(this)),this._initialValue=r,this._currentCancellable=null,this._eachValues=i===o?[]:void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function u(t,e){this.isFulfilled()?e._resolve(t):e._reject(t)}function c(t,e,n,i){if("function"!=typeof e)return r("expecting a function but got "+p.classString(e));var o=new s(t,e,n,i);return o.promise()}function l(t){this.accum=t,this.array._gotAccum(t);var n=i(this.value,this.array._promise);return n instanceof e?(this.array._currentCancellable=n,n._then(f,void 0,void 0,this,void 0)):f.call(this,n)}function f(t){var n=this.array,r=n._promise,i=d(n._fn);r._pushContext();var o;o=void 0!==n._eachValues?i.call(r._boundValue(),t,this.index,this.length):i.call(r._boundValue(),this.accum,t,this.index,this.length),o instanceof e&&(n._currentCancellable=o);var s=r._popContext();return a.checkForgottenReturns(o,s,void 0!==n._eachValues?"Promise.each":"Promise.reduce",r),o}var h=e._getDomain,p=t("./util"),d=p.tryCatch;p.inherits(s,n),s.prototype._gotAccum=function(t){void 0!==this._eachValues&&t!==o&&this._eachValues.push(t)},s.prototype._eachComplete=function(t){return this._eachValues.push(t),this._eachValues},s.prototype._init=function(){},s.prototype._resolveEmptyArray=function(){this._resolve(void 0!==this._eachValues?this._eachValues:this._initialValue)},s.prototype.shouldCopyValues=function(){return!1},s.prototype._resolve=function(t){this._promise._resolveCallback(t),this._values=null},s.prototype._resultCancelled=function(t){return t===this._initialValue?this._cancel():void(this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof e&&this._currentCancellable.cancel(),this._initialValue instanceof e&&this._initialValue.cancel()))},s.prototype._iterate=function(t){this._values=t;var n,r,i=t.length;if(void 0!==this._initialValue?(n=this._initialValue,r=0):(n=e.resolve(t[0]),r=1),this._currentCancellable=n,!n.isRejected())for(;r<i;++r){var o={accum:null,value:t[r],index:r,length:i,array:this};n=n._then(l,void 0,void 0,o,void 0)}void 0!==this._eachValues&&(n=n._then(this._eachComplete,void 0,void 0,this,void 0)),n._then(u,u,void 0,n,this)},e.prototype.reduce=function(t,e){return c(this,t,e,null)},e.reduce=function(t,e,n,r){return c(t,e,n,r)}}},{"./util":36}],29:[function(t,i,o){"use strict";var a,s=t("./util"),u=function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")},c=s.getNativePromise();if(s.isNode&&"undefined"==typeof MutationObserver){var l=n.setImmediate,f=e.nextTick;a=s.isRecentNode?function(t){l.call(n,t)}:function(t){f.call(e,t)}}else if("function"==typeof c){var h=c.resolve();a=function(t){h.then(t)}}else a="undefined"==typeof MutationObserver||"undefined"!=typeof window&&window.navigator&&window.navigator.standalone?"undefined"!=typeof r?function(t){r(t)}:"undefined"!=typeof setTimeout?function(t){setTimeout(t,0)}:u:function(){var t=document.createElement("div"),e={attributes:!0},n=!1,r=document.createElement("div"),i=new MutationObserver(function(){t.classList.toggle("foo"),n=!1});i.observe(r,e);var o=function(){n||(n=!0,r.classList.toggle("foo"))};return function(n){var r=new MutationObserver(function(){r.disconnect(),n()});r.observe(t,e),o()}}();i.exports=a},{"./util":36}],30:[function(t,e,n){"use strict";e.exports=function(e,n,r){function i(t){this.constructor$(t)}var o=e.PromiseInspection,a=t("./util");a.inherits(i,n),i.prototype._promiseResolved=function(t,e){this._values[t]=e;var n=++this._totalResolved;return n>=this._length&&(this._resolve(this._values),!0)},i.prototype._promiseFulfilled=function(t,e){var n=new o;return n._bitField=33554432,n._settledValueField=t,this._promiseResolved(e,n)},i.prototype._promiseRejected=function(t,e){var n=new o;return n._bitField=16777216,n._settledValueField=t,this._promiseResolved(e,n)},e.settle=function(t){return r.deprecated(".settle()",".reflect()"),new i(t).promise()},e.prototype.settle=function(){return e.settle(this)}}},{"./util":36}],31:[function(t,e,n){"use strict";e.exports=function(e,n,r){function i(t){this.constructor$(t),this._howMany=0,this._unwrap=!1,this._initialized=!1}function o(t,e){if((0|e)!==e||e<0)return r("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var n=new i(t),o=n.promise();return n.setHowMany(e),n.init(),o}var a=t("./util"),s=t("./errors").RangeError,u=t("./errors").AggregateError,c=a.isArray,l={};a.inherits(i,n),i.prototype._init=function(){if(this._initialized){if(0===this._howMany)return void this._resolve([]);this._init$(void 0,-5);var t=c(this._values);!this._isResolved()&&t&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},i.prototype.init=function(){this._initialized=!0,this._init()},i.prototype.setUnwrap=function(){this._unwrap=!0},i.prototype.howMany=function(){return this._howMany},i.prototype.setHowMany=function(t){this._howMany=t},i.prototype._promiseFulfilled=function(t){return this._addFulfilled(t),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0)},i.prototype._promiseRejected=function(t){return this._addRejected(t),this._checkOutcome()},i.prototype._promiseCancelled=function(){return this._values instanceof e||null==this._values?this._cancel():(this._addRejected(l),this._checkOutcome())},i.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var t=new u,e=this.length();e<this._values.length;++e)this._values[e]!==l&&t.push(this._values[e]);return t.length>0?this._reject(t):this._cancel(),!0}return!1},i.prototype._fulfilled=function(){return this._totalResolved},i.prototype._rejected=function(){return this._values.length-this.length()},i.prototype._addRejected=function(t){this._values.push(t)},i.prototype._addFulfilled=function(t){this._values[this._totalResolved++]=t},i.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected();
},i.prototype._getRangeError=function(t){var e="Input array must contain at least "+this._howMany+" items but contains only "+t+" items";return new s(e)},i.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},e.some=function(t,e){return o(t,e)},e.prototype.some=function(t){return o(this,t)},e._SomePromiseArray=i}},{"./errors":12,"./util":36}],32:[function(t,e,n){"use strict";e.exports=function(t){function e(t){void 0!==t?(t=t._target(),this._bitField=t._bitField,this._settledValueField=t._isFateSealed()?t._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}e.prototype._settledValue=function(){return this._settledValueField};var n=e.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},r=e.prototype.error=e.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},i=e.prototype.isFulfilled=function(){return 0!==(33554432&this._bitField)},o=e.prototype.isRejected=function(){return 0!==(16777216&this._bitField)},a=e.prototype.isPending=function(){return 0===(50397184&this._bitField)},s=e.prototype.isResolved=function(){return 0!==(50331648&this._bitField)};e.prototype.isCancelled=t.prototype._isCancelled=function(){return 65536===(65536&this._bitField)},t.prototype.isCancelled=function(){return this._target()._isCancelled()},t.prototype.isPending=function(){return a.call(this._target())},t.prototype.isRejected=function(){return o.call(this._target())},t.prototype.isFulfilled=function(){return i.call(this._target())},t.prototype.isResolved=function(){return s.call(this._target())},t.prototype.value=function(){return n.call(this._target())},t.prototype.reason=function(){var t=this._target();return t._unsetRejectionIsUnhandled(),r.call(t)},t.prototype._value=function(){return this._settledValue()},t.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},t.PromiseInspection=e}},{}],33:[function(t,e,n){"use strict";e.exports=function(e,n){function r(t,r){if(l(t)){if(t instanceof e)return t;var i=o(t);if(i===c){r&&r._pushContext();var u=e.reject(i.e);return r&&r._popContext(),u}if("function"==typeof i){if(a(t)){var u=new e(n);return t._then(u._fulfill,u._reject,void 0,u,null),u}return s(t,i,r)}}return t}function i(t){return t.then}function o(t){try{return i(t)}catch(e){return c.e=e,c}}function a(t){try{return f.call(t,"_promise0")}catch(e){return!1}}function s(t,r,i){function o(t){s&&(s._resolveCallback(t),s=null)}function a(t){s&&(s._rejectCallback(t,f,!0),s=null)}var s=new e(n),l=s;i&&i._pushContext(),s._captureStackTrace(),i&&i._popContext();var f=!0,h=u.tryCatch(r).call(t,o,a);return f=!1,s&&h===c&&(s._rejectCallback(h.e,!0,!0),s=null),l}var u=t("./util"),c=u.errorObj,l=u.isObject,f={}.hasOwnProperty;return r}},{"./util":36}],34:[function(t,e,n){"use strict";e.exports=function(e,n,r){function i(t){this.handle=t}function o(t){return clearTimeout(this.handle),t}function a(t){throw clearTimeout(this.handle),t}var s=t("./util"),u=e.TimeoutError;i.prototype._resultCancelled=function(){clearTimeout(this.handle)};var c=function(t){return l(+this).thenReturn(t)},l=e.delay=function(t,o){var a,s;return void 0!==o?(a=e.resolve(o)._then(c,null,null,t,void 0),r.cancellation()&&o instanceof e&&a._setOnCancel(o)):(a=new e(n),s=setTimeout(function(){a._fulfill()},+t),r.cancellation()&&a._setOnCancel(new i(s))),a._setAsyncGuaranteed(),a};e.prototype.delay=function(t){return l(t,this)};var f=function(t,e,n){var r;r="string"!=typeof e?e instanceof Error?e:new u("operation timed out"):new u(e),s.markAsOriginatingFromRejection(r),t._attachExtraTrace(r),t._reject(r),null!=n&&n.cancel()};e.prototype.timeout=function(t,e){t=+t;var n,s,u=new i(setTimeout(function(){n.isPending()&&f(n,e,s)},t));return r.cancellation()?(s=this.then(),n=s._then(o,a,void 0,u,void 0),n._setOnCancel(u)):n=this._then(o,a,void 0,u,void 0),n}}},{"./util":36}],35:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,a){function s(t){setTimeout(function(){throw t},0)}function u(t){var e=r(t);return e!==t&&"function"==typeof t._isDisposable&&"function"==typeof t._getDisposer&&t._isDisposable()&&e._setDisposable(t._getDisposer()),e}function c(t,n){function i(){if(a>=c)return l._fulfill();var o=u(t[a++]);if(o instanceof e&&o._isDisposable()){try{o=r(o._getDisposer().tryDispose(n),t.promise)}catch(f){return s(f)}if(o instanceof e)return o._then(i,s,null,null,null)}i()}var a=0,c=t.length,l=new e(o);return i(),l}function l(t,e,n){this._data=t,this._promise=e,this._context=n}function f(t,e,n){this.constructor$(t,e,n)}function h(t){return l.isDisposer(t)?(this.resources[this.index]._setDisposable(t),t.promise()):t}function p(t){this.length=t,this.promise=null,this[t-1]=null}var d=t("./util"),_=t("./errors").TypeError,v=t("./util").inherits,y=d.errorObj,g=d.tryCatch,m={};l.prototype.data=function(){return this._data},l.prototype.promise=function(){return this._promise},l.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():m},l.prototype.tryDispose=function(t){var e=this.resource(),n=this._context;void 0!==n&&n._pushContext();var r=e!==m?this.doDispose(e,t):null;return void 0!==n&&n._popContext(),this._promise._unsetDisposable(),this._data=null,r},l.isDisposer=function(t){return null!=t&&"function"==typeof t.resource&&"function"==typeof t.tryDispose},v(f,l),f.prototype.doDispose=function(t,e){var n=this.data();return n.call(t,t,e)},p.prototype._resultCancelled=function(){for(var t=this.length,n=0;n<t;++n){var r=this[n];r instanceof e&&r.cancel()}},e.using=function(){var t=arguments.length;if(t<2)return n("you must pass at least 2 arguments to Promise.using");var i=arguments[t-1];if("function"!=typeof i)return n("expecting a function but got "+d.classString(i));var o,s=!0;2===t&&Array.isArray(arguments[0])?(o=arguments[0],t=o.length,s=!1):(o=arguments,t--);for(var u=new p(t),f=0;f<t;++f){var _=o[f];if(l.isDisposer(_)){var v=_;_=_.promise(),_._setDisposable(v)}else{var m=r(_);m instanceof e&&(_=m._then(h,null,null,{resources:u,index:f},void 0))}u[f]=_}for(var b=new Array(u.length),f=0;f<b.length;++f)b[f]=e.resolve(u[f]).reflect();var w=e.all(b).then(function(t){for(var e=0;e<t.length;++e){var n=t[e];if(n.isRejected())return y.e=n.error(),y;if(!n.isFulfilled())return void w.cancel();t[e]=n.value()}x._pushContext(),i=g(i);var r=s?i.apply(void 0,t):i(t),o=x._popContext();return a.checkForgottenReturns(r,o,"Promise.using",x),r}),x=w.lastly(function(){var t=new e.PromiseInspection(w);return c(u,t)});return u.promise=x,x._setOnCancel(u),x},e.prototype._setDisposable=function(t){this._bitField=131072|this._bitField,this._disposer=t},e.prototype._isDisposable=function(){return(131072&this._bitField)>0},e.prototype._getDisposer=function(){return this._disposer},e.prototype._unsetDisposable=function(){this._bitField=this._bitField&-131073,this._disposer=void 0},e.prototype.disposer=function(t){if("function"==typeof t)return new f(t,this,i());throw new _}}},{"./errors":12,"./util":36}],36:[function(t,r,i){"use strict";function o(){try{var t=C;return C=null,t.apply(this,arguments)}catch(e){return A.e=e,A}}function a(t){return C=t,o}function s(t){return null==t||t===!0||t===!1||"string"==typeof t||"number"==typeof t}function u(t){return"function"==typeof t||"object"==typeof t&&null!==t}function c(t){return s(t)?new Error(g(t)):t}function l(t,e){var n,r=t.length,i=new Array(r+1);for(n=0;n<r;++n)i[n]=t[n];return i[n]=e,i}function f(t,e,n){if(!E.isES5)return{}.hasOwnProperty.call(t,e)?t[e]:void 0;var r=Object.getOwnPropertyDescriptor(t,e);return null!=r?null==r.get&&null==r.set?r.value:n:void 0}function h(t,e,n){if(s(t))return t;var r={value:n,configurable:!0,enumerable:!1,writable:!0};return E.defineProperty(t,e,r),t}function p(t){throw t}function d(t){try{if("function"==typeof t){var e=E.names(t.prototype),n=E.isES5&&e.length>1,r=e.length>0&&!(1===e.length&&"constructor"===e[0]),i=I.test(t+"")&&E.names(t).length>0;if(n||r||i)return!0}return!1}catch(o){return!1}}function _(t){function e(){}e.prototype=t;for(var n=8;n--;)new e;return t}function v(t){return L.test(t)}function y(t,e,n){for(var r=new Array(t),i=0;i<t;++i)r[i]=e+i+n;return r}function g(t){try{return t+""}catch(e){return"[no string representation]"}}function m(t){return null!==t&&"object"==typeof t&&"string"==typeof t.message&&"string"==typeof t.name}function b(t){try{h(t,"isOperational",!0)}catch(e){}}function w(t){return null!=t&&(t instanceof Error.__BluebirdErrorTypes__.OperationalError||t.isOperational===!0)}function x(t){return m(t)&&E.propertyIsWritable(t,"stack")}function S(t){return{}.toString.call(t)}function k(t,e,n){for(var r=E.names(t),i=0;i<r.length;++i){var o=r[i];if(n(o))try{E.defineProperty(e,o,E.getDescriptor(t,o))}catch(a){}}}function T(t,e){return B?{APP_DOMAIN:"/alhambra/08",ASSETS_DIR:"https://storage.googleapis.com/samrad-alhambra/www-assets/",REMOTE_ASSETS_DIR:"https://storage.googleapis.com/samrad-alhambra/www-assets/"}[t]:e}function O(){if("function"==typeof Promise)try{var t=new Promise(function(){});if("[object Promise]"==={}.toString.call(t))return Promise}catch(e){}}var E=t("./es5"),P="undefined"==typeof navigator,A={e:{}},C,R="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof n?n:void 0!==this?this:null,j=function(t,e){function n(){this.constructor=t,this.constructor$=e;for(var n in e.prototype)r.call(e.prototype,n)&&"$"!==n.charAt(n.length-1)&&(this[n+"$"]=e.prototype[n])}var r={}.hasOwnProperty;return n.prototype=e.prototype,t.prototype=new n,t.prototype},M=function(){var t=[Array.prototype,Object.prototype,Function.prototype],e=function(e){for(var n=0;n<t.length;++n)if(t[n]===e)return!0;return!1};if(E.isES5){var n=Object.getOwnPropertyNames;return function(t){for(var r=[],i=Object.create(null);null!=t&&!e(t);){var o;try{o=n(t)}catch(a){return r}for(var s=0;s<o.length;++s){var u=o[s];if(!i[u]){i[u]=!0;var c=Object.getOwnPropertyDescriptor(t,u);null!=c&&null==c.get&&null==c.set&&r.push(u)}}t=E.getPrototypeOf(t)}return r}}var r={}.hasOwnProperty;return function(n){if(e(n))return[];var i=[];t:for(var o in n)if(r.call(n,o))i.push(o);else{for(var a=0;a<t.length;++a)if(r.call(t[a],o))continue t;i.push(o)}return i}}(),I=/this\s*\.\s*\S+\s*=/,L=/^[a-z$_][a-z$_0-9]*$/i,F=function(){return"stack"in new Error?function(t){return x(t)?t:new Error(g(t))}:function(t){if(x(t))return t;try{throw new Error(g(t))}catch(e){return e}}}(),D=function(t){return E.isArray(t)?t:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var N="function"==typeof Array.from?function(t){return Array.from(t)}:function(t){for(var e,n=[],r=t[Symbol.iterator]();!(e=r.next()).done;)n.push(e.value);return n};D=function(t){return E.isArray(t)?t:null!=t&&"function"==typeof t[Symbol.iterator]?N(t):null}}var B="undefined"!=typeof e&&"[object process]"===S(e).toLowerCase(),U={isClass:d,isIdentifier:v,inheritedDataKeys:M,getDataPropertyOrDefault:f,thrower:p,isArray:E.isArray,asArray:D,notEnumerableProp:h,isPrimitive:s,isObject:u,isError:m,canEvaluate:P,errorObj:A,tryCatch:a,inherits:j,withAppended:l,maybeWrapAsError:c,toFastProperties:_,filledRange:y,toString:g,canAttachTrace:x,ensureErrorObject:F,originatesFromRejection:w,markAsOriginatingFromRejection:b,classString:S,copyDescriptors:k,hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:B,env:T,global:R,getNativePromise:O};U.isRecentNode=U.isNode&&function(){var t=e.versions.node.split(".").map(Number);return 0===t[0]&&t[1]>10||t[0]>0}(),U.isNode&&U.toFastProperties(e);try{throw new Error}catch(q){U.lastLineError=q}r.exports=U},{"./es5":13}]},{},[4])(4)}),"undefined"!=typeof window&&null!==window?window.P=window.Promise:"undefined"!=typeof self&&null!==self&&(self.P=self.Promise)}).call(e,n(22),n(12),n(51).setImmediate)},function(t,e,n){function r(t){return null===t||void 0===t}function i(t){return!(!t||"object"!=typeof t||"number"!=typeof t.length)&&("function"==typeof t.copy&&"function"==typeof t.slice&&!(t.length>0&&"number"!=typeof t[0]))}function o(t,e,n){var o,l;if(r(t)||r(e))return!1;if(t.prototype!==e.prototype)return!1;if(u(t))return!!u(e)&&(t=a.call(t),e=a.call(e),c(t,e,n));if(i(t)){if(!i(e))return!1;if(t.length!==e.length)return!1;for(o=0;o<t.length;o++)if(t[o]!==e[o])return!1;return!0}try{var f=s(t),h=s(e)}catch(p){return!1}if(f.length!=h.length)return!1;for(f.sort(),h.sort(),o=f.length-1;o>=0;o--)if(f[o]!=h[o])return!1;for(o=f.length-1;o>=0;o--)if(l=f[o],!c(t[l],e[l],n))return!1;return typeof t==typeof e}var a=Array.prototype.slice,s=n(255),u=n(254),c=t.exports=function(t,e,n){return n||(n={}),t===e||(t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():!t||!e||"object"!=typeof t&&"object"!=typeof e?n.strict?t===e:t==e:o(t,e,n))}},function(t,e){function n(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function r(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Object.prototype.hasOwnProperty.call(t,"callee")&&!Object.prototype.propertyIsEnumerable.call(t,"callee")||!1}var i="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();e=t.exports=i?n:r,e.supported=n,e.unsupported=r},function(t,e){function n(t){var e=[];for(var n in t)e.push(n);return e}e=t.exports="function"==typeof Object.keys?Object.keys:n,e.shim=n},function(t,e,n){(function(r,i){var o;/*!
	 * @overview es6-promise - a tiny implementation of Promises/A+.
	 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
	 * @license   Licensed under MIT license
	 *            See https://raw.githubusercontent.com/jakearchibald/es6-promise/master/LICENSE
	 * @version   3.2.1
	 */
(function(){"use strict";function a(t){return"function"==typeof t||"object"==typeof t&&null!==t}function s(t){return"function"==typeof t}function u(t){Q=t}function c(t){tt=t}function l(){return function(){r.nextTick(_)}}function f(){return function(){$(_)}}function h(){var t=0,e=new rt(_),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}function p(){var t=new MessageChannel;return t.port1.onmessage=_,function(){t.port2.postMessage(0)}}function d(){return function(){setTimeout(_,1)}}function _(){for(var t=0;t<Z;t+=2){var e=at[t],n=at[t+1];e(n),at[t]=void 0,at[t+1]=void 0}Z=0}function v(){try{var t=n(400);return $=t.runOnLoop||t.runOnContext,f()}catch(e){return d()}}function y(t,e){var n=this,r=new this.constructor(m);void 0===r[ct]&&N(r);var i=n._state;if(i){var o=arguments[i-1];tt(function(){L(i,r,o,n._result)})}else R(n,r,t,e);return r}function g(t){var e=this;if(t&&"object"==typeof t&&t.constructor===e)return t;var n=new e(m);return E(n,t),n}function m(){}function b(){return new TypeError("You cannot resolve a promise with itself")}function w(){return new TypeError("A promises callback cannot return that same promise.")}function x(t){try{return t.then}catch(e){return pt.error=e,pt}}function S(t,e,n,r){try{t.call(e,n,r)}catch(i){return i}}function k(t,e,n){tt(function(t){var r=!1,i=S(n,e,function(n){r||(r=!0,e!==n?E(t,n):A(t,n))},function(e){r||(r=!0,C(t,e))},"Settle: "+(t._label||" unknown promise"));!r&&i&&(r=!0,C(t,i))},t)}function T(t,e){e._state===ft?A(t,e._result):e._state===ht?C(t,e._result):R(e,void 0,function(e){E(t,e)},function(e){C(t,e)})}function O(t,e,n){e.constructor===t.constructor&&n===st&&constructor.resolve===ut?T(t,e):n===pt?C(t,pt.error):void 0===n?A(t,e):s(n)?k(t,e,n):A(t,e)}function E(t,e){t===e?C(t,b()):a(e)?O(t,e,x(e)):A(t,e)}function P(t){t._onerror&&t._onerror(t._result),j(t)}function A(t,e){t._state===lt&&(t._result=e,t._state=ft,0!==t._subscribers.length&&tt(j,t))}function C(t,e){t._state===lt&&(t._state=ht,t._result=e,tt(P,t))}function R(t,e,n,r){var i=t._subscribers,o=i.length;t._onerror=null,i[o]=e,i[o+ft]=n,i[o+ht]=r,0===o&&t._state&&tt(j,t)}function j(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r,i,o=t._result,a=0;a<e.length;a+=3)r=e[a],i=e[a+n],r?L(n,r,i,o):i(o);t._subscribers.length=0}}function M(){this.error=null}function I(t,e){try{return t(e)}catch(n){return dt.error=n,dt}}function L(t,e,n,r){var i,o,a,u,c=s(n);if(c){if(i=I(n,r),i===dt?(u=!0,o=i.error,i=null):a=!0,e===i)return void C(e,w())}else i=r,a=!0;e._state!==lt||(c&&a?E(e,i):u?C(e,o):t===ft?A(e,i):t===ht&&C(e,i))}function F(t,e){try{e(function(e){E(t,e)},function(e){C(t,e)})}catch(n){C(t,n)}}function D(){return _t++}function N(t){t[ct]=_t++,t._state=void 0,t._result=void 0,t._subscribers=[]}function B(t){return new bt(this,t).promise}function U(t){var e=this;return new e(J(t)?function(n,r){for(var i=t.length,o=0;o<i;o++)e.resolve(t[o]).then(n,r)}:function(t,e){e(new TypeError("You must pass an array to race."))})}function q(t){var e=this,n=new e(m);return C(n,t),n}function z(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function H(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function V(t){this[ct]=D(),this._result=this._state=void 0,this._subscribers=[],m!==t&&("function"!=typeof t&&z(),this instanceof V?F(this,t):H())}function W(t,e){this._instanceConstructor=t,this.promise=new t(m),this.promise[ct]||N(this.promise),J(e)?(this._input=e,this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?A(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&A(this.promise,this._result))):C(this.promise,Y())}function Y(){return new Error("Array Methods must be provided an Array")}function G(){var t;if("undefined"!=typeof i)t=i;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var n=t.Promise;n&&"[object Promise]"===Object.prototype.toString.call(n.resolve())&&!n.cast||(t.Promise=mt)}var X;X=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var $,Q,K,J=X,Z=0,tt=function(t,e){at[Z]=t,at[Z+1]=e,Z+=2,2===Z&&(Q?Q(_):K())},et="undefined"!=typeof window?window:void 0,nt=et||{},rt=nt.MutationObserver||nt.WebKitMutationObserver,it="undefined"==typeof self&&"undefined"!=typeof r&&"[object process]"==={}.toString.call(r),ot="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,at=new Array(1e3);K=it?l():rt?h():ot?p():void 0===et?v():d();var st=y,ut=g,ct=Math.random().toString(36).substring(16),lt=void 0,ft=1,ht=2,pt=new M,dt=new M,_t=0,vt=B,yt=U,gt=q,mt=V;V.all=vt,V.race=yt,V.resolve=ut,V.reject=gt,V._setScheduler=u,V._setAsap=c,V._asap=tt,V.prototype={constructor:V,then:st,"catch":function(t){return this.then(null,t)}};var bt=W;W.prototype._enumerate=function(){for(var t=this.length,e=this._input,n=0;this._state===lt&&n<t;n++)this._eachEntry(e[n],n)},W.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,r=n.resolve;if(r===ut){var i=x(t);if(i===st&&t._state!==lt)this._settledAt(t._state,e,t._result);else if("function"!=typeof i)this._remaining--,this._result[e]=t;else if(n===mt){var o=new n(m);O(o,t,i),this._willSettleAt(o,e)}else this._willSettleAt(new n(function(e){e(t)}),e)}else this._willSettleAt(r(t),e)},W.prototype._settledAt=function(t,e,n){var r=this.promise;r._state===lt&&(this._remaining--,t===ht?C(r,n):this._result[e]=n),0===this._remaining&&A(r,this._result)},W.prototype._willSettleAt=function(t,e){var n=this;R(t,void 0,function(t){n._settledAt(ft,e,t)},function(t){n._settledAt(ht,e,t)})};var wt=G,xt={Promise:mt,polyfill:wt};o=function(){return xt}.call(e,n,e,t),!(void 0!==o&&(t.exports=o)),wt()}).call(this)}).call(e,n(22),n(12))},186,186,186,186,186,function(t,e,n){"use strict";function r(t,e){for(var n=t;n.parentNode;)n=n.parentNode;var r=n.querySelectorAll(e);return Array.prototype.indexOf.call(r,t)!==-1}var i=n(0),o={addClass:function(t,e){return/\s/.test(e)?i(!1,'CSSCore.addClass takes only a single class name. "%s" contains multiple classes.',e):void 0,e&&(t.classList?t.classList.add(e):o.hasClass(t,e)||(t.className=t.className+" "+e)),t},removeClass:function(t,e){return/\s/.test(e)?i(!1,'CSSCore.removeClass takes only a single class name. "%s" contains multiple classes.',e):void 0,e&&(t.classList?t.classList.remove(e):o.hasClass(t,e)&&(t.className=t.className.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,""))),t},conditionClass:function(t,e,n){return(n?o.addClass:o.removeClass)(t,e)},hasClass:function(t,e){return/\s/.test(e)?i(!1,"CSS.hasClass takes only a single class name."):void 0,t.classList?!!e&&t.classList.contains(e):(" "+t.className+" ").indexOf(" "+e+" ")>-1},matchesSelector:function(t,e){var n=t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector||function(e){return r(t,e)};return n.call(t,e)}};t.exports=o},,,,,,,,,,,,,,,function(t,e){"use strict";function n(t,e,n){function i(){return s=!0,u?void(l=[].concat(r.call(arguments))):void n.apply(this,arguments)}function o(){if(!s&&(c=!0,!u)){for(u=!0;!s&&a<t&&c;)c=!1,e.call(this,a++,o,i);return u=!1,s?void n.apply(this,l):void(a>=t&&c&&(s=!0,n()))}}var a=0,s=!1,u=!1,c=!1,l=void 0;o()}e.__esModule=!0;var r=Array.prototype.slice;e.loopAsync=n},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var i=n(32),o=r(i),a=n(129),s=r(a);e.default=o.default(s.default,"enableBeforeUnload is deprecated, use useBeforeUnload instead"),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var i=n(32),o=r(i),a=n(39),s=r(a);e.default=o.default(s.default,"enableQueries is deprecated, use useQueries instead"),t.exports=e.default},function(t,e,n){"use strict";var r=n(393);e.extract=function(t){return t.split("?")[1]||""},e.parse=function(t){return"string"!=typeof t?{}:(t=t.trim().replace(/^(\?|#|&)/,""),t?t.split("&").reduce(function(t,e){var n=e.replace(/\+/g," ").split("="),r=n.shift(),i=n.length>0?n.join("="):void 0;return r=decodeURIComponent(r),i=void 0===i?null:decodeURIComponent(i),t.hasOwnProperty(r)?Array.isArray(t[r])?t[r].push(i):t[r]=[t[r],i]:t[r]=i,t},{}):{})},e.stringify=function(t){return t?Object.keys(t).sort().map(function(e){var n=t[e];return void 0===n?"":null===n?e:Array.isArray(n)?n.slice().sort().map(function(t){return r(e)+"="+r(t)}).join("&"):r(e)+"="+r(n)}).filter(function(t){return t.length>0}).join("&"):""}},function(t,e){e.read=function(t,e,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,c=u>>1,l=-7,f=n?i-1:0,h=n?-1:1,p=t[e+f];for(f+=h,o=p&(1<<-l)-1,p>>=-l,l+=s;l>0;o=256*o+t[e+f],f+=h,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=r;l>0;a=256*a+t[e+f],f+=h,l-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:(p?-1:1)*(1/0);a+=Math.pow(2,r),o-=c}return(p?-1:1)*a*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var a,s,u,c=8*o-i-1,l=(1<<c)-1,f=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,d=r?1:-1,_=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=l):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),e+=a+f>=1?h/u:h*Math.pow(2,1-f),e*u>=2&&(a++,u/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(e*u-1)*Math.pow(2,i),a+=f):(s=e*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;t[n+p]=255&s,p+=d,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;t[n+p]=255&a,p+=d,a/=256,c-=8);t[n+p-d]|=128*_}},function(t,e,n){n(399),t.exports=self.fetch.bind(self)},function(t,e){function n(t){return r(Object(t))}var r=Object.getPrototypeOf;t.exports=n},function(t,e){function n(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(n){}return e}t.exports=n},function(t,e){function n(t){return!!t&&"object"==typeof t}t.exports=n},function(t,e,n){t.exports=n(323)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(){p||(p=!0,(0,h.default)("<Provider> does not support changing `store` on the fly. It is most likely that you see this error because you updated to Redux 2.x and React Redux 2.x which no longer hot reload reducers automatically. See https://github.com/reactjs/react-redux/releases/tag/v2.0.0 for the migration instructions."))}e.__esModule=!0,e.default=void 0;var u=n(2),c=n(132),l=r(c),f=n(133),h=r(f),p=!1,d=function(t){function e(n,r){i(this,e);var a=o(this,t.call(this,n,r));return a.store=n.store,a}return a(e,t),e.prototype.getChildContext=function(){return{store:this.store}},e.prototype.render=function(){var t=this.props.children;return u.Children.only(t)},e}(u.Component);e.default=d,d.prototype.componentWillReceiveProps=function(t){var e=this.store,n=t.store;e!==n&&s()},d.propTypes={store:l.default.isRequired,children:u.PropTypes.element.isRequired},d.childContextTypes={store:l.default.isRequired}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t){return t.displayName||t.name||"Component"}function u(t,e){try{return t.apply(e)}catch(n){return A.value=n,A}}function c(t,e,n){var r=arguments.length<=3||void 0===arguments[3]?{}:arguments[3],c=Boolean(t),h=t||O,d=void 0;d="function"==typeof e?e:e?(0,y.default)(e):E;var v=n||P,g=r.pure,b=void 0===g||g,x=r.withRef,k=void 0!==x&&x,R=b&&v!==P,j=C++;return function(t){function e(t,e){(0,w.default)(t)||(0,m.default)(e+"() in "+r+" must return a plain object. "+("Instead received "+t+"."))}function n(t,n,r){var i=v(t,n,r);return e(i,"mergeProps"),i}var r="Connect("+s(t)+")",y=function(s){function p(t,e){i(this,p);var n=o(this,s.call(this,t,e));n.version=j,n.store=t.store||e.store,(0,T.default)(n.store,'Could not find "store" in either the context or '+('props of "'+r+'". ')+"Either wrap the root component in a <Provider>, "+('or explicitly pass "store" as a prop to "'+r+'".'));var a=n.store.getState();return n.state={storeState:a},n.clearCache(),n}return a(p,s),p.prototype.shouldComponentUpdate=function(){return!b||this.haveOwnPropsChanged||this.hasStoreStateChanged},p.prototype.computeStateProps=function(t,n){if(!this.finalMapStateToProps)return this.configureFinalMapState(t,n);var r=t.getState(),i=this.doStatePropsDependOnOwnProps?this.finalMapStateToProps(r,n):this.finalMapStateToProps(r);return e(i,"mapStateToProps"),i},p.prototype.configureFinalMapState=function(t,n){var r=h(t.getState(),n),i="function"==typeof r;return this.finalMapStateToProps=i?r:h,this.doStatePropsDependOnOwnProps=1!==this.finalMapStateToProps.length,i?this.computeStateProps(t,n):(e(r,"mapStateToProps"),r)},p.prototype.computeDispatchProps=function(t,n){if(!this.finalMapDispatchToProps)return this.configureFinalMapDispatch(t,n);var r=t.dispatch,i=this.doDispatchPropsDependOnOwnProps?this.finalMapDispatchToProps(r,n):this.finalMapDispatchToProps(r);return e(i,"mapDispatchToProps"),i},p.prototype.configureFinalMapDispatch=function(t,n){var r=d(t.dispatch,n),i="function"==typeof r;return this.finalMapDispatchToProps=i?r:d,this.doDispatchPropsDependOnOwnProps=1!==this.finalMapDispatchToProps.length,i?this.computeDispatchProps(t,n):(e(r,"mapDispatchToProps"),r)},p.prototype.updateStatePropsIfNeeded=function(){var t=this.computeStateProps(this.store,this.props);return(!this.stateProps||!(0,_.default)(t,this.stateProps))&&(this.stateProps=t,!0)},p.prototype.updateDispatchPropsIfNeeded=function(){var t=this.computeDispatchProps(this.store,this.props);return(!this.dispatchProps||!(0,_.default)(t,this.dispatchProps))&&(this.dispatchProps=t,!0)},p.prototype.updateMergedPropsIfNeeded=function(){var t=n(this.stateProps,this.dispatchProps,this.props);return!(this.mergedProps&&R&&(0,_.default)(t,this.mergedProps))&&(this.mergedProps=t,!0)},p.prototype.isSubscribed=function(){return"function"==typeof this.unsubscribe},p.prototype.trySubscribe=function(){c&&!this.unsubscribe&&(this.unsubscribe=this.store.subscribe(this.handleChange.bind(this)),this.handleChange())},p.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null)},p.prototype.componentDidMount=function(){this.trySubscribe()},p.prototype.componentWillReceiveProps=function(t){b&&(0,_.default)(t,this.props)||(this.haveOwnPropsChanged=!0)},p.prototype.componentWillUnmount=function(){this.tryUnsubscribe(),this.clearCache()},p.prototype.clearCache=function(){this.dispatchProps=null,this.stateProps=null,this.mergedProps=null,this.haveOwnPropsChanged=!0,this.hasStoreStateChanged=!0,this.haveStatePropsBeenPrecalculated=!1,this.statePropsPrecalculationError=null,this.renderedElement=null,this.finalMapDispatchToProps=null,this.finalMapStateToProps=null},p.prototype.handleChange=function(){if(this.unsubscribe){var t=this.store.getState(),e=this.state.storeState;if(!b||e!==t){if(b&&!this.doStatePropsDependOnOwnProps){var n=u(this.updateStatePropsIfNeeded,this);if(!n)return;n===A&&(this.statePropsPrecalculationError=A.value),this.haveStatePropsBeenPrecalculated=!0}this.hasStoreStateChanged=!0,this.setState({storeState:t})}}},p.prototype.getWrappedInstance=function(){return(0,T.default)(k,"To access the wrapped instance, you need to specify { withRef: true } as the fourth argument of the connect() call."),this.refs.wrappedInstance},p.prototype.render=function(){var e=this.haveOwnPropsChanged,n=this.hasStoreStateChanged,r=this.haveStatePropsBeenPrecalculated,i=this.statePropsPrecalculationError,o=this.renderedElement;if(this.haveOwnPropsChanged=!1,this.hasStoreStateChanged=!1,this.haveStatePropsBeenPrecalculated=!1,this.statePropsPrecalculationError=null,i)throw i;var a=!0,s=!0;b&&o&&(a=n||e&&this.doStatePropsDependOnOwnProps,s=e&&this.doDispatchPropsDependOnOwnProps);var u=!1,c=!1;r?u=!0:a&&(u=this.updateStatePropsIfNeeded()),s&&(c=this.updateDispatchPropsIfNeeded());var h=!0;return h=!!(u||c||e)&&this.updateMergedPropsIfNeeded(),!h&&o?o:(k?this.renderedElement=(0,f.createElement)(t,l({},this.mergedProps,{ref:"wrappedInstance"})):this.renderedElement=(0,f.createElement)(t,this.mergedProps),this.renderedElement)},p}(f.Component);return y.displayName=r,y.WrappedComponent=t,y.contextTypes={store:p.default},y.propTypes={store:p.default},y.prototype.componentWillUpdate=function(){this.version!==j&&(this.version=j,this.trySubscribe(),this.clearCache())},(0,S.default)(y,t)}}var l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.__esModule=!0,e.default=c;var f=n(2),h=n(132),p=r(h),d=n(289),_=r(d),v=n(290),y=r(v),g=n(133),m=r(g),b=n(80),w=r(b),x=n(130),S=r(x),k=n(11),T=r(k),O=function(t){return{}},E=function(t){return{dispatch:t}},P=function(t,e,n){return l({},n,t,e)},A={value:null},C=0},function(t,e){"use strict";function n(t,e){if(t===e)return!0;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var i=Object.prototype.hasOwnProperty,o=0;o<n.length;o++)if(!i.call(e,n[o])||t[n[o]]!==e[n[o]])return!1;return!0}e.__esModule=!0,e.default=n},function(t,e,n){"use strict";function r(t){return function(e){return(0,i.bindActionCreators)(t,e)}}e.__esModule=!0,e.default=r;var i=n(106)},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function i(t){return function(){return function(e){return function(n){if(n.type!==o.CALL_HISTORY_METHOD)return e(n);var i=n.payload,a=i.method,s=i.args;t[a].apply(t,r(s))}}}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var o=n(134)},function(t,e,n){"use strict";function r(t,e){var n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],r=n.selectLocationState,s=void 0===r?a:r,u=n.adjustUrlOnReplay,c=void 0===u||u;if("undefined"==typeof s(e.getState()))throw new Error("Expected the routing state to be available either as `state.routing` or as the custom expression you can specify as `selectLocationState` in the `syncHistoryWithStore()` options. Ensure you have added the `routerReducer` to your store's reducers via `combineReducers` or whatever method you use to isolate your reducers.");var l=void 0,f=void 0,h=void 0,p=void 0,d=function(t){var n=s(e.getState());return n.locationBeforeTransitions||(t?l:void 0)},_=d();if(c){var v=function(){var e=d(!0);_!==e&&(f=!0,_=e,t.transitionTo(i({},e,{action:"PUSH"})),f=!1)};h=e.subscribe(v),v()}var y=function(t){f||(_=t,!l&&(l=t,d())||e.dispatch({type:o.LOCATION_CHANGE,payload:t}))};return p=t.listen(y),i({},t,{listen:function(t){var n=d(!0),r=!1,i=e.subscribe(function(){var e=d(!0);e!==n&&(n=e,r||t(n))});return t(n),function(){r=!0,i()}},unsubscribe:function(){c&&h(),p()}})}Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.default=r;var o=n(135),a=function(t){return t.routing}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var i=n(7),o=r(i),a=n(34),s={contextTypes:{history:a.history},componentWillMount:function(){(0,o.default)(!1,"the `History` mixin is deprecated, please access `context.router` with your own `contextTypes`. http://tiny.cc/router-historymixin"),this.history=this.context.history}};e.default=s,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=n(2),a=r(o),s=n(136),u=r(s),c=a.default.createClass({displayName:"IndexLink",render:function(){return a.default.createElement(u.default,i({},this.props,{onlyActiveOnIndex:!0}))}});e.default=c,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var i=n(2),o=r(i),a=n(7),s=r(a),u=n(11),c=r(u),l=n(137),f=r(l),h=n(34),p=o.default.PropTypes,d=p.string,_=p.object,v=o.default.createClass({displayName:"IndexRedirect",statics:{createRouteFromReactElement:function(t,e){e?e.indexRoute=f.default.createRouteFromReactElement(t):(0,s.default)(!1,"An <IndexRedirect> does not make sense at the root of your route config")}},propTypes:{to:d.isRequired,query:_,state:_,onEnter:h.falsy,children:h.falsy},render:function(){(0,c.default)(!1,"<IndexRedirect> elements are for router configuration only and should not be rendered")}});e.default=v,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var i=n(2),o=r(i),a=n(7),s=r(a),u=n(11),c=r(u),l=n(23),f=n(34),h=o.default.PropTypes.func,p=o.default.createClass({displayName:"IndexRoute",statics:{createRouteFromReactElement:function(t,e){e?e.indexRoute=(0,l.createRouteFromReactElement)(t):(0,s.default)(!1,"An <IndexRoute> does not make sense at the root of your route config")}},propTypes:{path:f.falsy,component:f.component,components:f.components,getComponent:h,getComponents:h},render:function(){(0,c.default)(!1,"<IndexRoute> elements are for router configuration only and should not be rendered")}});e.default=p,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var i=n(7),o=r(i),a=n(2),s=r(a),u=n(11),c=r(u),l=s.default.PropTypes.object,f={contextTypes:{history:l.isRequired,route:l},propTypes:{route:l},componentDidMount:function(){(0,o.default)(!1,"the `Lifecycle` mixin is deprecated, please use `context.router.setRouteLeaveHook(route, hook)`. http://tiny.cc/router-lifecyclemixin"),this.routerWillLeave?void 0:(0,c.default)(!1,"The Lifecycle mixin requires you to define a routerWillLeave method");var t=this.props.route||this.context.route;t?void 0:(0,c.default)(!1,"The Lifecycle mixin must be used on either a) a <Route component> or b) a descendant of a <Route component> that uses the RouteContext mixin"),this._unlistenBeforeLeavingRoute=this.context.history.listenBeforeLeavingRoute(t,this.routerWillLeave)},componentWillUnmount:function(){this._unlistenBeforeLeavingRoute&&this._unlistenBeforeLeavingRoute()}};e.default=f,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var i=n(2),o=r(i),a=n(11),s=r(a),u=n(23),c=n(34),l=o.default.PropTypes,f=l.string,h=l.func,p=o.default.createClass({displayName:"Route",statics:{createRouteFromReactElement:u.createRouteFromReactElement},propTypes:{path:f,component:c.component,components:c.components,getComponent:h,getComponents:h},render:function(){(0,s.default)(!1,"<Route> elements are for router configuration only and should not be rendered")}});e.default=p,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var i=n(7),o=r(i),a=n(2),s=r(a),u=s.default.PropTypes.object,c={propTypes:{route:u.isRequired},childContextTypes:{route:u.isRequired},getChildContext:function(){return{route:this.props.route}},componentWillMount:function(){(0,o.default)(!1,"The `RouteContext` mixin is deprecated. You can provide `this.props.route` on context with your own `contextTypes`. http://tiny.cc/router-routecontextmixin")}};e.default=c,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function o(t){return!t||!t.__v2_compatible__}e.__esModule=!0;var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s=n(77),u=r(s),c=n(39),l=r(c),f=n(2),h=r(f),p=n(84),d=r(p),_=n(34),v=n(58),y=r(v),g=n(23),m=n(138),b=n(7),w=r(b),x=h.default.PropTypes,S=x.func,k=x.object,T=h.default.createClass({displayName:"Router",propTypes:{history:k,children:_.routes,routes:_.routes,render:S,createElement:S,onError:S,onUpdate:S,matchContext:k},getDefaultProps:function(){return{render:function(t){return h.default.createElement(y.default,t)}}},getInitialState:function(){return{location:null,routes:null,params:null,components:null}},handleError:function(t){if(!this.props.onError)throw t;this.props.onError.call(this,t)},componentWillMount:function(){var t=this,e=this.props,n=e.parseQueryString,r=e.stringifyQuery;(0,w.default)(!(n||r),"`parseQueryString` and `stringifyQuery` are deprecated. Please create a custom history. http://tiny.cc/router-customquerystring");var i=this.createRouterObjects(),o=i.history,a=i.transitionManager,s=i.router;this._unlisten=a.listen(function(e,n){e?t.handleError(e):t.setState(n,t.props.onUpdate)}),this.history=o,this.router=s},createRouterObjects:function(){var t=this.props.matchContext;if(t)return t;var e=this.props.history,n=this.props,r=n.routes,i=n.children;o(e)&&(e=this.wrapDeprecatedHistory(e));var a=(0,d.default)(e,(0,g.createRoutes)(r||i)),s=(0,m.createRouterObject)(e,a),u=(0,m.createRoutingHistory)(e,a);return{history:u,transitionManager:a,router:s}},wrapDeprecatedHistory:function(t){var e=this.props,n=e.parseQueryString,r=e.stringifyQuery,i=void 0;return t?((0,w.default)(!1,"It appears you have provided a deprecated history object to `<Router/>`, please use a history provided by React Router with `import { browserHistory } from 'react-router'` or `import { hashHistory } from 'react-router'`. If you are using a custom history please create it with `useRouterHistory`, see http://tiny.cc/router-usinghistory for details."),i=function(){return t}):((0,w.default)(!1,"`Router` no longer defaults the history prop to hash history. Please use the `hashHistory` singleton instead. http://tiny.cc/router-defaulthistory"),i=u.default),(0,l.default)(i)({parseQueryString:n,stringifyQuery:r})},componentWillReceiveProps:function(t){(0,w.default)(t.history===this.props.history,"You cannot change <Router history>; it will be ignored"),(0,w.default)((t.routes||t.children)===(this.props.routes||this.props.children),"You cannot change <Router routes>; it will be ignored")},componentWillUnmount:function(){this._unlisten&&this._unlisten()},render:function O(){var t=this.state,e=t.location,n=t.routes,r=t.params,o=t.components,s=this.props,u=s.createElement,O=s.render,c=i(s,["createElement","render"]);return null==e?null:(Object.keys(T.propTypes).forEach(function(t){return delete c[t]}),O(a({},c,{history:this.history,router:this.router,location:e,routes:n,params:r,components:o,createElement:u})))}});e.default=T,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var i=n(2),o=r(i),a=n(58),s=r(a),u=n(7),c=r(u),l=o.default.createClass({displayName:"RoutingContext",componentWillMount:function(){(0,c.default)(!1,"`RoutingContext` has been renamed to `RouterContext`. Please use `import { RouterContext } from 'react-router'`. http://tiny.cc/router-routercontext")},render:function(){return o.default.createElement(s.default,this.props)}});e.default=l,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e,n){return function(){for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];if(t.apply(e,i),t.length<n){var a=i[i.length-1];a()}}}function o(t){return t.reduce(function(t,e){return e.onEnter&&t.push(i(e.onEnter,e,3)),t},[])}function a(t){return t.reduce(function(t,e){return e.onChange&&t.push(i(e.onChange,e,4)),t},[])}function s(t,e,n){function r(t,e,n){return e?((0,p.default)(!1,"`replaceState(state, pathname, query) is deprecated; use `replace(location)` with a location descriptor instead. http://tiny.cc/router-isActivedeprecated"),void(i={pathname:e,query:n,state:t})):void(i=t)}if(!t)return void n();var i=void 0;(0,f.loopAsync)(t,function(t,n,o){e(t,r,function(t){t||i?o(t,i):n()})},n)}function u(t,e,n){var r=o(t);return s(r.length,function(t,n,i){r[t](e,n,i)},n)}function c(t,e,n,r){var i=a(t);return s(i.length,function(t,r,o){i[t](e,n,r,o)},r)}function l(t){for(var e=0,n=t.length;e<n;++e)t[e].onLeave&&t[e].onLeave.call(t[e])}e.__esModule=!0,e.runEnterHooks=u,e.runChangeHooks=c,e.runLeaveHooks=l;var f=n(82),h=n(7),p=r(h)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=n(2),a=r(o),s=n(58),u=r(s);e.default=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e.map(function(t){return t.renderRouterContext}).filter(function(t){return t}),s=e.map(function(t){return t.renderRouteComponent}).filter(function(t){return t}),c=function(){var t=arguments.length<=0||void 0===arguments[0]?o.createElement:arguments[0];return function(e,n){return s.reduceRight(function(t,e){return e(t,n)},t(e,n))}};return function(t){return r.reduceRight(function(e,n){return n(e,t)},a.default.createElement(u.default,i({},t,{createElement:c(t.createElement)})))}},t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var i=n(124),o=r(i),a=n(140),s=r(a);e.default=(0,s.default)(o.default),t.exports=e.default},function(t,e,n){"use strict";function r(t,e,n){if(!t.path)return!1;var r=(0,o.getParamNames)(t.path);return r.some(function(t){return e.params[t]!==n.params[t]})}function i(t,e){var n=t&&t.routes,i=e.routes,o=void 0,a=void 0,s=void 0;return n?!function(){var u=!1;o=n.filter(function(n){if(u)return!0;var o=i.indexOf(n)===-1||r(n,t,e);return o&&(u=!0),o}),o.reverse(),s=[],a=[],i.forEach(function(t){var e=n.indexOf(t)===-1,r=o.indexOf(t)!==-1;e||r?s.push(t):a.push(t)})}():(o=[],a=[],s=i),{leaveRoutes:o,changeRoutes:a,enterRoutes:s}}e.__esModule=!0;var o=n(40);e.default=i,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e,n){if(e.component||e.components)return void n(null,e.component||e.components);var r=e.getComponent||e.getComponents;if(!r)return void n();var i=t.location,o=(0,u.default)(t,i);r.call(e,o,n)}function o(t,e){(0,a.mapAsync)(t.routes,function(e,n,r){i(t,e,r)},e)}e.__esModule=!0;var a=n(82),s=n(141),u=r(s);e.default=o,t.exports=e.default},function(t,e,n){"use strict";function r(t,e){var n={};return t.path?((0,i.getParamNames)(t.path).forEach(function(t){Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])}),n):n}e.__esModule=!0;var i=n(40);e.default=r,t.exports=e.default},function(t,e,n){"use strict";function r(t){
return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var i=n(77),o=r(i),a=n(140),s=r(a);e.default=(0,s.default)(o.default),t.exports=e.default},function(t,e,n){"use strict";function r(t,e){if(t==e)return!0;if(null==t||null==e)return!1;if(Array.isArray(t))return Array.isArray(e)&&t.length===e.length&&t.every(function(t,n){return r(t,e[n])});if("object"===("undefined"==typeof t?"undefined":u(t))){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n))if(void 0===t[n]){if(void 0!==e[n])return!1}else{if(!Object.prototype.hasOwnProperty.call(e,n))return!1;if(!r(t[n],e[n]))return!1}return!0}return String(t)===String(e)}function i(t,e){return"/"!==e.charAt(0)&&(e="/"+e),"/"!==t.charAt(t.length-1)&&(t+="/"),"/"!==e.charAt(e.length-1)&&(e+="/"),e===t}function o(t,e,n){for(var r=t,i=[],o=[],a=0,s=e.length;a<s;++a){var u=e[a],l=u.path||"";if("/"===l.charAt(0)&&(r=t,i=[],o=[]),null!==r&&l){var f=(0,c.matchPattern)(l,r);if(f?(r=f.remainingPathname,i=[].concat(i,f.paramNames),o=[].concat(o,f.paramValues)):r=null,""===r)return i.every(function(t,e){return String(o[e])===String(n[t])})}}return!1}function a(t,e){return null==e?null==t:null==t||r(t,e)}function s(t,e,n,r,s){var u=t.pathname,c=t.query;return null!=n&&("/"!==u.charAt(0)&&(u="/"+u),!!(i(u,n.pathname)||!e&&o(u,r,s))&&a(c,n.query))}e.__esModule=!0;var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};e.default=s;var c=n(40);t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function o(t,e){var n=t.history,r=t.routes,o=t.location,s=i(t,["history","routes","location"]);n||o?void 0:(0,u.default)(!1,"match needs a history or a location"),n=n?n:(0,l.default)(s);var c=(0,h.default)(n,(0,p.createRoutes)(r)),f=void 0;o?o=n.createLocation(o):f=n.listen(function(t){o=t});var _=(0,d.createRouterObject)(n,c);n=(0,d.createRoutingHistory)(n,c),c.match(o,function(t,r,i){e(t,r,i&&a({},i,{history:n,router:_,matchContext:{history:n,transitionManager:c,router:_}})),f&&f()})}e.__esModule=!0;var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s=n(11),u=r(s),c=n(139),l=r(c),f=n(84),h=r(f),p=n(23),d=n(138);e.default=o,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e,n,r,i){if(t.childRoutes)return[null,t.childRoutes];if(!t.getChildRoutes)return[];var o=!0,a=void 0,u={location:e,params:s(n,r)},c=(0,d.default)(u,e);return t.getChildRoutes(c,function(t,e){return e=!t&&(0,g.createRoutes)(e),o?void(a=[t,e]):void i(t,e)}),o=!1,a}function o(t,e,n,r,i){if(t.indexRoute)i(null,t.indexRoute);else if(t.getIndexRoute){var a={location:e,params:s(n,r)},u=(0,d.default)(a,e);t.getIndexRoute(u,function(t,e){i(t,!t&&(0,g.createRoutes)(e)[0])})}else t.childRoutes?!function(){var a=t.childRoutes.filter(function(t){return!t.path});(0,h.loopAsync)(a.length,function(t,i,s){o(a[t],e,n,r,function(e,n){if(e||n){var r=[a[t]].concat(Array.isArray(n)?n:[n]);s(e,r)}else i()})},function(t,e){i(null,e)})}():i()}function a(t,e,n){return e.reduce(function(t,e,r){var i=n&&n[r];return Array.isArray(t[e])?t[e].push(i):e in t?t[e]=[t[e],i]:t[e]=i,t},t)}function s(t,e){return a({},t,e)}function u(t,e,n,r,a,u){var l=t.path||"";if("/"===l.charAt(0)&&(n=e.pathname,r=[],a=[]),null!==n&&l){try{var h=(0,_.matchPattern)(l,n);h?(n=h.remainingPathname,r=[].concat(r,h.paramNames),a=[].concat(a,h.paramValues)):n=null}catch(p){u(p)}if(""===n){var d=function(){var n={routes:[t],params:s(r,a)};return o(t,e,r,a,function(t,e){if(t)u(t);else{if(Array.isArray(e)){var r;(0,y.default)(e.every(function(t){return!t.path}),"Index routes should not have paths"),(r=n.routes).push.apply(r,e)}else e&&((0,y.default)(!e.path,"Index routes should not have paths"),n.routes.push(e));u(null,n)}}),{v:void 0}}();if("object"===("undefined"==typeof d?"undefined":f(d)))return d.v}}if(null!=n||t.childRoutes){var v=function(i,o){i?u(i):o?c(o,e,function(e,n){e?u(e):n?(n.routes.unshift(t),u(null,n)):u()},n,r,a):u()},g=i(t,e,r,a,v);g&&v.apply(void 0,g)}else u()}function c(t,e,n,r){var i=arguments.length<=4||void 0===arguments[4]?[]:arguments[4],o=arguments.length<=5||void 0===arguments[5]?[]:arguments[5];void 0===r&&("/"!==e.pathname.charAt(0)&&(e=l({},e,{pathname:"/"+e.pathname})),r=e.pathname),(0,h.loopAsync)(t.length,function(n,a,s){u(t[n],e,r,i,o,function(t,e){t||e?s(t,e):a()})},n)}e.__esModule=!0;var l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};e.default=c;var h=n(82),p=n(141),d=r(p),_=n(40),v=n(7),y=r(v),g=n(23);t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function o(t){return(0,h.default)(!1,"`useRoutes` is deprecated. Please use `createTransitionManager` instead."),function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=e.routes,r=i(e,["routes"]),o=(0,u.default)(t)(r),s=(0,l.default)(o,n);return a({},o,s)}}e.__esModule=!0;var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s=n(39),u=r(s),c=n(84),l=r(c),f=n(7),h=r(f);e.default=o,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){return t.displayName||t.name||"Component"}function o(t){var e=u.default.createClass({displayName:"WithRouter",contextTypes:{router:f.routerShape},render:function(){return u.default.createElement(t,a({},this.props,{router:this.context.router}))}});return e.displayName="withRouter("+i(t)+")",e.WrappedComponent=t,(0,l.default)(e,t)}e.__esModule=!0;var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.default=o;var s=n(2),u=r(s),c=n(130),l=r(c),f=n(83);t.exports=e.default},,,,,,,,,,function(t,e,n){"use strict";function r(t){var e="transition"+t+"Timeout",n="transition"+t;return function(t){if(t[n]){if(null==t[e])return new Error(e+" wasn't supplied to ReactCSSTransitionGroup: this can cause unreliable animations and won't be supported in a future version of React. See https://fb.me/react-animation-transition-group-timeout for more information.");if("number"!=typeof t[e])return new Error(e+" must be a number (in milliseconds)")}}}var i=n(3),o=n(62),a=n(360),s=n(324),u=o.createClass({displayName:"ReactCSSTransitionGroup",propTypes:{transitionName:s.propTypes.name,transitionAppear:o.PropTypes.bool,transitionEnter:o.PropTypes.bool,transitionLeave:o.PropTypes.bool,transitionAppearTimeout:r("Appear"),transitionEnterTimeout:r("Enter"),transitionLeaveTimeout:r("Leave")},getDefaultProps:function(){return{transitionAppear:!1,transitionEnter:!0,transitionLeave:!0}},_wrapChild:function(t){return o.createElement(s,{name:this.props.transitionName,appear:this.props.transitionAppear,enter:this.props.transitionEnter,leave:this.props.transitionLeave,appearTimeout:this.props.transitionAppearTimeout,enterTimeout:this.props.transitionEnterTimeout,leaveTimeout:this.props.transitionLeaveTimeout},t)},render:function(){return o.createElement(a,i({},this.props,{childFactory:this._wrapChild}))}});t.exports=u},function(t,e,n){"use strict";var r=n(62),i=n(150),o=n(262),a=n(359),s=n(174),u=17,c=r.createClass({displayName:"ReactCSSTransitionGroupChild",propTypes:{name:r.PropTypes.oneOfType([r.PropTypes.string,r.PropTypes.shape({enter:r.PropTypes.string,leave:r.PropTypes.string,active:r.PropTypes.string}),r.PropTypes.shape({enter:r.PropTypes.string,enterActive:r.PropTypes.string,leave:r.PropTypes.string,leaveActive:r.PropTypes.string,appear:r.PropTypes.string,appearActive:r.PropTypes.string})]).isRequired,appear:r.PropTypes.bool,enter:r.PropTypes.bool,leave:r.PropTypes.bool,appearTimeout:r.PropTypes.number,enterTimeout:r.PropTypes.number,leaveTimeout:r.PropTypes.number},transition:function(t,e,n){var r=i.findDOMNode(this);if(!r)return void(e&&e());var s=this.props.name[t]||this.props.name+"-"+t,u=this.props.name[t+"Active"]||s+"-active",c=null,l=function(t){t&&t.target!==r||(clearTimeout(c),o.removeClass(r,s),o.removeClass(r,u),a.removeEndEventListener(r,l),e&&e())};o.addClass(r,s),this.queueClass(u),n?(c=setTimeout(l,n),this.transitionTimeouts.push(c)):a.addEndEventListener(r,l)},queueClass:function(t){this.classNameQueue.push(t),this.timeout||(this.timeout=setTimeout(this.flushClassNameQueue,u))},flushClassNameQueue:function(){this.isMounted()&&this.classNameQueue.forEach(o.addClass.bind(o,i.findDOMNode(this))),this.classNameQueue.length=0,this.timeout=null},componentWillMount:function(){this.classNameQueue=[],this.transitionTimeouts=[]},componentWillUnmount:function(){this.timeout&&clearTimeout(this.timeout),this.transitionTimeouts.forEach(function(t){clearTimeout(t)})},componentWillAppear:function(t){this.props.appear?this.transition("appear",t,this.props.appearTimeout):t()},componentWillEnter:function(t){this.props.enter?this.transition("enter",t,this.props.enterTimeout):t()},componentWillLeave:function(t){this.props.leave?this.transition("leave",t,this.props.leaveTimeout):t()},render:function(){return s(this.props.children)}});t.exports=c},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";var r=n(167),i={getChildMapping:function(t){return t?r(t):t},mergeChildMappings:function(t,e){function n(n){return e.hasOwnProperty(n)?e[n]:t[n]}t=t||{},e=e||{};var r={},i=[];for(var o in t)e.hasOwnProperty(o)?i.length&&(r[o]=i,i=[]):i.push(o);var a,s={};for(var u in e){if(r.hasOwnProperty(u))for(a=0;a<r[u].length;a++){var c=r[u][a];s[r[u][a]]=n(c)}s[u]=n(u)}for(a=0;a<i.length;a++)s[i[a]]=n(i[a]);return s}};t.exports=i},function(t,e,n){"use strict";function r(){var t=s("animationend"),e=s("transitionend");t&&u.push(t),e&&u.push(e)}function i(t,e,n){t.addEventListener(e,n,!1)}function o(t,e,n){t.removeEventListener(e,n,!1)}var a=n(6),s=n(171),u=[];a.canUseDOM&&r();var c={addEndEventListener:function(t,e){return 0===u.length?void window.setTimeout(e,0):void u.forEach(function(n){i(t,n,e)})},removeEndEventListener:function(t,e){0!==u.length&&u.forEach(function(n){o(t,n,e)})}};t.exports=c},function(t,e,n){"use strict";var r=n(3),i=n(62),o=n(358),a=n(10),s=i.createClass({displayName:"ReactTransitionGroup",propTypes:{component:i.PropTypes.any,childFactory:i.PropTypes.func},getDefaultProps:function(){return{component:"span",childFactory:a.thatReturnsArgument}},getInitialState:function(){return{children:o.getChildMapping(this.props.children)}},componentWillMount:function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},componentDidMount:function(){var t=this.state.children;for(var e in t)t[e]&&this.performAppear(e)},componentWillReceiveProps:function(t){var e=o.getChildMapping(t.children),n=this.state.children;this.setState({children:o.mergeChildMappings(n,e)});var r;for(r in e){var i=n&&n.hasOwnProperty(r);!e[r]||i||this.currentlyTransitioningKeys[r]||this.keysToEnter.push(r)}for(r in n){var a=e&&e.hasOwnProperty(r);!n[r]||a||this.currentlyTransitioningKeys[r]||this.keysToLeave.push(r)}},componentDidUpdate:function(){var t=this.keysToEnter;this.keysToEnter=[],t.forEach(this.performEnter);var e=this.keysToLeave;this.keysToLeave=[],e.forEach(this.performLeave)},performAppear:function(t){this.currentlyTransitioningKeys[t]=!0;var e=this.refs[t];e.componentWillAppear?e.componentWillAppear(this._handleDoneAppearing.bind(this,t)):this._handleDoneAppearing(t)},_handleDoneAppearing:function(t){var e=this.refs[t];e.componentDidAppear&&e.componentDidAppear(),delete this.currentlyTransitioningKeys[t];var n=o.getChildMapping(this.props.children);n&&n.hasOwnProperty(t)||this.performLeave(t)},performEnter:function(t){this.currentlyTransitioningKeys[t]=!0;var e=this.refs[t];e.componentWillEnter?e.componentWillEnter(this._handleDoneEntering.bind(this,t)):this._handleDoneEntering(t)},_handleDoneEntering:function(t){var e=this.refs[t];e.componentDidEnter&&e.componentDidEnter(),delete this.currentlyTransitioningKeys[t];var n=o.getChildMapping(this.props.children);n&&n.hasOwnProperty(t)||this.performLeave(t)},performLeave:function(t){this.currentlyTransitioningKeys[t]=!0;var e=this.refs[t];e.componentWillLeave?e.componentWillLeave(this._handleDoneLeaving.bind(this,t)):this._handleDoneLeaving(t)},_handleDoneLeaving:function(t){var e=this.refs[t];e.componentDidLeave&&e.componentDidLeave(),delete this.currentlyTransitioningKeys[t];var n=o.getChildMapping(this.props.children);n&&n.hasOwnProperty(t)?this.performEnter(t):this.setState(function(e){var n=r({},e.children);return delete n[t],{children:n}})},render:function(){var t=[];for(var e in this.state.children){var n=this.state.children[e];n&&t.push(i.cloneElement(this.props.childFactory(n),{ref:e,key:e}))}return i.createElement(this.props.component,this.props,t)}});t.exports=s},,,,,,,,,,,,,,,,,,,,,function(t,e,n){t.exports=n(36)},function(t,e,n){t.exports=n(176)},function(t,e,n){var r=function(){try{return n(50)}catch(t){}}();e=t.exports=n(177),e.Stream=r||e,e.Readable=e,e.Writable=n(105),e.Duplex=n(36),e.Transform=n(104),e.PassThrough=n(176)},function(t,e,n){t.exports=n(104)},function(t,e,n){t.exports=n(105)},function(t,e){"use strict";function n(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function r(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t}function i(t,e,i,o){switch("undefined"==typeof t?"undefined":r(t)){case"object":return"function"==typeof t[o]?t[o].apply(t,n(i)):t[o];case"function":return t(e);default:return t}}function o(){function t(){O.forEach(function(t,e){var n=t.started,o=t.startedTime,s=t.action,c=t.prevState,l=t.error,h=t.took,p=t.nextState,_=O[e+1];_&&(p=_.prevState,h=_.started-n);var y=w(s),g="function"==typeof f?f(function(){return p},s):f,m=u(o),b=T.title?"color: "+T.title(y)+";":null,x="action "+(v?m:"")+" "+y.type+" "+(d?"(in "+h.toFixed(2)+" ms)":"");try{g?T.title?a.groupCollapsed("%c "+x,b):a.groupCollapsed(x):T.title?a.group("%c "+x,b):a.group(x)}catch(S){a.log(x)}var k=i(r,y,[c],"prevState"),E=i(r,y,[y],"action"),P=i(r,y,[l,c],"error"),A=i(r,y,[p],"nextState");k&&(T.prevState?a[k]("%c prev state","color: "+T.prevState(c)+"; font-weight: bold",c):a[k]("prev state",c)),E&&(T.action?a[E]("%c action","color: "+T.action(y)+"; font-weight: bold",y):a[E]("action",y)),l&&P&&(T.error?a[P]("%c error","color: "+T.error(l,c)+"; font-weight: bold",l):a[P]("error",l)),A&&(T.nextState?a[A]("%c next state","color: "+T.nextState(p)+"; font-weight: bold",p):a[A]("next state",p));try{a.groupEnd()}catch(S){a.log(" log end ")}}),O.length=0}var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=e.level,r=void 0===n?"log":n,o=e.logger,a=void 0===o?console:o,s=e.logErrors,l=void 0===s||s,f=e.collapsed,h=e.predicate,p=e.duration,d=void 0!==p&&p,_=e.timestamp,v=void 0===_||_,y=e.transformer,g=e.stateTransformer,m=void 0===g?function(t){return t}:g,b=e.actionTransformer,w=void 0===b?function(t){return t}:b,x=e.errorTransformer,S=void 0===x?function(t){return t}:x,k=e.colors,T=void 0===k?{title:function(){return"#000000"},prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}}:k;if("undefined"==typeof a)return function(){return function(t){return function(e){return t(e)}}};y&&console.error("Option 'transformer' is deprecated, use stateTransformer instead");var O=[];return function(e){var n=e.getState;return function(e){return function(r){if("function"==typeof h&&!h(n,r))return e(r);var i={};O.push(i),i.started=c.now(),i.startedTime=new Date,i.prevState=m(n()),i.action=r;var o=void 0;if(l)try{o=e(r)}catch(a){i.error=S(a)}else o=e(r);if(i.took=c.now()-i.started,i.nextState=m(n()),t(),i.error)throw i.error;return o}}}}var a=function(t,e){return new Array(e+1).join(t)},s=function(t,e){return a("0",e-t.toString().length)+t},u=function(t){return"@ "+s(t.getHours(),2)+":"+s(t.getMinutes(),2)+":"+s(t.getSeconds(),2)+"."+s(t.getMilliseconds(),3)},c="undefined"!=typeof performance&&"function"==typeof performance.now?performance:Date;t.exports=o},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=t.promiseTypeSuffixes||l;return function(t){var n=t.dispatch;return function(t){return function(r){if(!r.payload)return t(r);if(!(0,c.default)(r.payload)&&!(0,c.default)(r.payload.promise))return t(r);var i=r.type,u=r.payload,l=r.meta,f=(l||{}).promiseTypeSuffixes||e,h=s(f,3),p=h[0],d=h[1],_=h[2],v=function(t,e){return a({type:i+"_"+(e?_:d)},t?{payload:t}:{},l?{meta:l}:{},e?{error:!0}:{})},y=void 0,g=void 0;return(0,c.default)(r.payload)||"object"!==o(r.payload)?(y=u,g=null):(y=u.promise,g=u.data),t(a({type:i+"_"+p},g?{payload:g}:{},l?{meta:l}:{})),new Promise(function(t,e){y.then(function(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0],r=v(e,!1);n(r),t({value:e,action:r})},function(){var t=arguments.length<=0||void 0===arguments[0]?null:arguments[0],r=v(t,!0);n(r),e({reason:t,action:r})})})}}}}Object.defineProperty(e,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();e.default=i;var u=n(388),c=r(u),l=["PENDING","FULFILLED","REJECTED"]},function(t,e){"use strict";function n(t){return null!==t&&"object"===("undefined"==typeof t?"undefined":r(t))&&(t&&"function"==typeof t.then)}Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};e.default=n},function(t,e){"use strict";function n(t){return function(e){var n=e.dispatch,r=e.getState;return function(e){return function(i){return"function"==typeof i?i(n,r,t):e(i)}}}}e.__esModule=!0;var r=n();r.withExtraArgument=n,e.default=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return function(n,r,i){var a=t(n,r,i),u=a.dispatch,c=[],l={getState:a.getState,dispatch:function(t){return u(t)}};return c=e.map(function(t){return t(l)}),u=s.default.apply(void 0,c)(a.dispatch),o({},a,{dispatch:u})}}}e.__esModule=!0;var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.default=i;var a=n(179),s=r(a)},function(t,e){"use strict";function n(t,e){return function(){return e(t.apply(void 0,arguments))}}function r(t,e){if("function"==typeof t)return n(t,e);if("object"!=typeof t||null===t)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===t?"null":typeof t)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var r=Object.keys(t),i={},o=0;o<r.length;o++){var a=r[o],s=t[a];"function"==typeof s&&(i[a]=n(s,e))}return i}e.__esModule=!0,e.default=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){var n=e&&e.type,r=n&&'"'+n.toString()+'"'||"an action";return"Given action "+r+', reducer "'+t+'" returned undefined. To ignore an action, you must explicitly return the previous state.'}function o(t,e,n){var r=Object.keys(e),i=n&&n.type===u.ActionTypes.INIT?"initialState argument passed to createStore":"previous state received by the reducer";if(0===r.length)return"Store does not have a valid reducer. Make sure the argument passed to combineReducers is an object whose values are reducers.";if(!(0,l.default)(t))return"The "+i+' has unexpected type of "'+{}.toString.call(t).match(/\s([a-z|A-Z]+)/)[1]+'". Expected argument to be an object with the following '+('keys: "'+r.join('", "')+'"');var o=Object.keys(t).filter(function(t){return!e.hasOwnProperty(t)});return o.length>0?"Unexpected "+(o.length>1?"keys":"key")+" "+('"'+o.join('", "')+'" found in '+i+". ")+"Expected to find one of the known reducer keys instead: "+('"'+r.join('", "')+'". Unexpected keys will be ignored.'):void 0}function a(t){Object.keys(t).forEach(function(e){var n=t[e],r=n(void 0,{type:u.ActionTypes.INIT});if("undefined"==typeof r)throw new Error('Reducer "'+e+'" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined.');var i="@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".");if("undefined"==typeof n(void 0,{type:i}))throw new Error('Reducer "'+e+'" returned undefined when probed with a random type. '+("Don't try to handle "+u.ActionTypes.INIT+' or other actions in "redux/*" ')+"namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined.")})}function s(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var s=e[r];"function"==typeof t[s]&&(n[s]=t[s])}var u,c=Object.keys(n);try{a(n)}catch(l){u=l}return function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=arguments[1];if(u)throw u;var r=o(t,n,e);r&&(0,h.default)(r);for(var a=!1,s={},l=0;l<c.length;l++){var f=c[l],p=n[f],d=t[f],_=p(d,e);if("undefined"==typeof _){var v=i(f,e);throw new Error(v)}s[f]=_,a=a||_!==d}return a?s:t}}e.__esModule=!0,e.default=s;var u=n(180),c=n(80),l=r(c),f=n(181),h=r(f)},function(t,e){"use strict";t.exports=function(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}},function(t,e,n){"use strict";(function(e){t.exports=n(395)(e||window||this)}).call(e,n(12))},function(t,e){"use strict";t.exports=function(t){var e,n=t.Symbol;return"function"==typeof n?n.observable?e=n.observable:(e=n("observable"),n.observable=e):e="@@observable",e}},function(t,e,n){(function(e){function n(t,e){function n(){if(!i){if(r("throwDeprecation"))throw new Error(e);r("traceDeprecation")?console.trace(e):console.warn(e),i=!0}return t.apply(this,arguments)}if(r("noDeprecation"))return t;var i=!1;return n}function r(t){try{if(!e.localStorage)return!1}catch(n){return!1}var r=e.localStorage[t];return null!=r&&"true"===String(r).toLowerCase()}t.exports=n}).call(e,n(12))},function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e){(function(e){t.exports=e}).call(e,{})},function(t,e){!function(t){"use strict";function e(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function n(t){return"string"!=typeof t&&(t=String(t)),t}function r(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return _.iterable&&(e[Symbol.iterator]=function(){return e}),e}function i(t){this.map={},t instanceof i?t.forEach(function(t,e){this.append(e,t)},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function o(t){return t.bodyUsed?Promise.reject(new TypeError("Already read")):void(t.bodyUsed=!0)}function a(t){return new Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function s(t){var e=new FileReader;return e.readAsArrayBuffer(t),a(e)}function u(t){var e=new FileReader;return e.readAsText(t),a(e)}function c(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,"string"==typeof t)this._bodyText=t;else if(_.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(_.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(_.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(t){if(!_.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t))throw new Error("unsupported BodyInit type")}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):_.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},_.blob?(this.blob=function(){var t=o(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this.blob().then(s)},this.text=function(){var t=o(this);if(t)return t;if(this._bodyBlob)return u(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)}):this.text=function(){var t=o(this);return t?t:Promise.resolve(this._bodyText)},_.formData&&(this.formData=function(){return this.text().then(h)}),this.json=function(){return this.text().then(JSON.parse)},this}function l(t){var e=t.toUpperCase();return v.indexOf(e)>-1?e:t}function f(t,e){e=e||{};var n=e.body;if(f.prototype.isPrototypeOf(t)){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new i(t.headers)),this.method=t.method,this.mode=t.mode,n||(n=t._bodyInit,t.bodyUsed=!0)}else this.url=t;if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new i(e.headers)),this.method=l(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function h(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(i))}}),e}function p(t){var e=new i,n=(t.getAllResponseHeaders()||"").trim().split("\n");return n.forEach(function(t){var n=t.trim().split(":"),r=n.shift().trim(),i=n.join(":").trim();e.append(r,i)}),e}function d(t,e){e||(e={}),this.type="default",this.status=e.status,this.ok=this.status>=200&&this.status<300,this.statusText=e.statusText,this.headers=e.headers instanceof i?e.headers:new i(e.headers),this.url=e.url||"",this._initBody(t)}if(!t.fetch){var _={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};i.prototype.append=function(t,r){t=e(t),r=n(r);var i=this.map[t];i||(i=[],this.map[t]=i),i.push(r)},i.prototype.delete=function(t){delete this.map[e(t)]},i.prototype.get=function(t){var n=this.map[e(t)];return n?n[0]:null},i.prototype.getAll=function(t){return this.map[e(t)]||[]},i.prototype.has=function(t){return this.map.hasOwnProperty(e(t))},i.prototype.set=function(t,r){this.map[e(t)]=[n(r)]},i.prototype.forEach=function(t,e){Object.getOwnPropertyNames(this.map).forEach(function(n){this.map[n].forEach(function(r){t.call(e,r,n,this)},this)},this)},i.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),r(t)},i.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),r(t)},i.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),r(t)},_.iterable&&(i.prototype[Symbol.iterator]=i.prototype.entries);var v=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];f.prototype.clone=function(){return new f(this)},c.call(f.prototype),c.call(d.prototype),d.prototype.clone=function(){return new d(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new i(this.headers),url:this.url})},d.error=function(){var t=new d(null,{status:0,statusText:""});return t.type="error",t};var y=[301,302,303,307,308];d.redirect=function(t,e){if(y.indexOf(e)===-1)throw new RangeError("Invalid status code");return new d(null,{status:e,headers:{location:t}})},t.Headers=i,t.Request=f,t.Response=d,t.fetch=function(t,e){return new Promise(function(n,r){function i(){return"responseURL"in a?a.responseURL:/^X-Request-URL:/m.test(a.getAllResponseHeaders())?a.getResponseHeader("X-Request-URL"):void 0}var o;o=f.prototype.isPrototypeOf(t)&&!e?t:new f(t,e);var a=new XMLHttpRequest;a.onload=function(){var t={status:a.status,statusText:a.statusText,headers:p(a),url:i()},e="response"in a?a.response:a.responseText;n(new d(e,t))},a.onerror=function(){r(new TypeError("Network request failed"))},a.ontimeout=function(){r(new TypeError("Network request failed"))},a.open(o.method,o.url,!0),"include"===o.credentials&&(a.withCredentials=!0),"responseType"in a&&_.blob&&(a.responseType="blob"),o.headers.forEach(function(t,e){a.setRequestHeader(e,t)}),a.send("undefined"==typeof o._bodyInit?null:o._bodyInit)})},t.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)},function(t,e){},400,,function(t,e,n,r,i){"use strict";var o=n(r),a=n(i),s=0;t.exports=function u(t){var e,n={},r=[],i=[],c=0,l=0,f={},h=function(n){if(Array.isArray(n))return n.forEach(h),e;var r,o=!!n.assets&&Array.isArray(n.assets);return r=o?u(v(n,t)):a(v(n,t)),r.once("destroy",w),i.push(r),f[r.id]=r,e},p=function(t){return arguments.length?n[t]:r},d=function(t){if(p(t))return p(t);var e=null;return Object.keys(f).some(function(n){return e=f[n].find&&f[n].find(t),!!e}),e},_=function(t){return t&&t.split("?")[0].split(".").pop().toLowerCase()},v=function(t,e){if("string"==typeof t){var n=t;t={url:n}}return void 0===t.isTouchLocked&&(t.isTouchLocked=e.isTouchLocked),void 0===t.blob&&(t.blob=e.blob),void 0===t.basePath&&(t.basePath=e.basePath),t.id=t.id||t.url||String(++s),t.type=t.type||_(t.url),t.crossOrigin=t.crossOrigin||e.crossOrigin,t.webAudioContext=t.webAudioContext||e.webAudioContext,t.log=e.log,t},y=function(){return l=i.length,i.forEach(function(t){t.on("progress",g).once("complete",m).once("error",b).start()}),i=[],e},g=function(t){var n=c+t;e.emit("progress",n/l)},m=function(t,i,o){Array.isArray(t)&&(t={id:i,file:t,type:o}),c++,e.emit("progress",c/l),n[t.id]=t.file,r.push(t),e.emit("childcomplete",t),x()},b=function(t){l--,e.listeners("error").length?e.emit("error",t):console.error(t),x()},w=function(t){f[t]=null,delete f[t],n[t]=null,delete n[t],r.some(function(e,n){if(e.id===t)return r.splice(n,1),!0})},x=function(){
c>=l&&e.emit("complete",r,t.id,"group")},S=function(){for(;i.length;)i.pop().destroy();return e.off("error"),e.off("progress"),e.off("complete"),r=[],n={},t.webAudioContext=null,l=0,c=0,Object.keys(f).forEach(function(t){f[t].destroy()}),f={},e.emit("destroy",e.id),e};return e=Object.create(o.prototype,{_events:{value:{}},id:{get:function(){return t.id}},add:{value:h},start:{value:y},get:{value:p},find:{value:d},getLoader:{value:function(t){return f[t]}},loaded:{get:function(){return c>=l}},file:{get:function(){return r}},destroy:{value:S}}),t=v(t||{},{basePath:"",blob:!1,touchLocked:!1,crossOrigin:null,webAudioContext:null,log:!1}),Array.isArray(t.assets)&&h(t.assets),Object.freeze(e)}},function(t,e,n,r,i){"use strict";var o=n(r);o.stats=n(i),t.exports=o},function(t,e,n,r,i,o){"use strict";var a=n(r),s=n(i),u=n(o);t.exports=function(t){var e,n,r,i,o,c,l=t.id,f=t.basePath||"",h=t.url,p=t.type,d=t.crossOrigin,_=t.isTouchLocked,v=t.blob&&s,y=t.webAudioContext,g=t.log,m=function(){switch(i=Date.now(),p){case"json":T();break;case"jpg":case"png":case"gif":case"webp":O();break;case"mp3":case"ogg":case"opus":case"wav":case"m4a":R();break;case"ogv":case"mp4":case"webm":case"hls":j();break;case"bin":case"binary":w("arraybuffer");break;case"txt":case"text":w("text");break;default:throw"AssetsLoader ERROR: Unknown type for file with URL: "+f+h+" ("+p+")"}},b=function(t){t&&(c={id:l,file:t,type:p},e.emit("progress",1),e.emit("complete",c,l,p),F())},w=function(t,e){n=e||S,r=new XMLHttpRequest,r.open("GET",f+h,!0),r.responseType=t,r.addEventListener("progress",x),r.addEventListener("load",n),r.addEventListener("error",L),r.send()},x=function(t){t.lengthComputable&&e.emit("progress",t.loaded/t.total)},S=function(){k()&&b(r.response)},k=function(){return r&&r.status<400?(u.update(r,i,h,g),!0):(L(r&&r.statusText),!1)},T=function(){w("json",function(){if(k()){var t=r.response;"string"==typeof t&&(t=JSON.parse(t)),b(t)}})},O=function(){v?A():E()},E=function(){r=new Image,d&&(r.crossOrigin="anonymous"),r.addEventListener("error",L,!1),r.addEventListener("load",P,!1),r.src=f+h},P=function(){window.clearTimeout(o),b(r)},A=function(){w("blob",function(){k()&&(r=new Image,r.addEventListener("error",L,!1),r.addEventListener("load",C,!1),r.src=window.URL.createObjectURL(r.response))})},C=function(){window.URL.revokeObjectURL(r.src),b(r)},R=function(){y?M():I("audio")},j=function(){v?w("blob"):I("video")},M=function(){w("arraybuffer",function(){k()&&y.decodeAudioData(r.response,function(t){r=null,b(t)},function(t){L(t)})})},I=function(t){r=document.createElement(t),_||(window.clearTimeout(o),o=window.setTimeout(P,2e3),r.addEventListener("canplaythrough",P,!1)),r.addEventListener("error",L,!1),r.preload="auto",r.src=f+h,r.load(),_&&b(r)},L=function(t){window.clearTimeout(o);var n=t;if(r&&r.tagName&&r.error){var i=["","ABORTED","NETWORK","DECODE","SRC_NOT_SUPPORTED"];n="MediaError: "+i[r.error.code]+" "+r.src}else r&&r.statusText?n=r.statusText:t&&t.message?n=t.message:t&&t.type&&(n=t.type);e.emit("error",'Error loading "'+f+h+'" '+n),D()},F=function(){e.off("error"),e.off("progress"),e.off("complete"),r&&(r.removeEventListener("progress",x),r.removeEventListener("load",n),r.removeEventListener("error",L),r.removeEventListener("load",P),r.removeEventListener("canplaythrough",P),r.removeEventListener("load",C))},D=function(){F(),r&&r.abort&&r.readyState<4&&r.abort(),r=null,y=null,c=null,window.clearTimeout(o),e.emit("destroy",l)};return e=Object.create(a.prototype,{_events:{value:{}},id:{value:t.id},start:{value:m},loaded:{get:function(){return!!c}},file:{get:function(){return c}},destroy:{value:D}}),Object.freeze(e)}}],[238]);